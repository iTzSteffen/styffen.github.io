import './polyfills.server.mjs';
import{a as sR,b as oR,c as aR,d as cR,e as lR,f as Ld,g as hR,j as AR,n as dR,p as fR,q as gR}from"./chunk-2YVZ5AIN.mjs";import{$ as mn,$a as HC,Aa as YD,Ba as WD,Ca as xC,Cb as Fd,Ea as JD,Fa as wu,Ga as Qo,Hb as iR,Ja as OC,Ka as zD,La as UC,M as UD,Ma as Nd,N as Ua,Na as KD,O as kd,Oa as jD,Ob as uR,P as wo,Pa as $D,Pb as zC,Q as NC,Qa as De,Qb as KC,Ra as be,Rb as jC,S as ot,Sa as on,Sb as $C,Ta as PC,U as PD,Ua as vr,V as ms,Va as Vi,W as Ue,Wa as We,Xa as VC,Y as Zr,Ya as XD,Z as MC,Za as GC,_ as Pi,_a as qC,ab as Md,bb as ti,c as Iu,cb as YC,da as VD,db as WC,ea as Pa,f as FD,fa as Va,ga as GD,h as LD,ha as Rn,hb as ZD,i as xD,ja as Bu,k as TC,ka as Pt,l as DC,m as RC,ma as FC,mb as eR,n as kC,pb as tR,qa as LC,ra as qD,s as yu,vb as nR,wb as Qu,x as OD,xa as ei,xb as Es,ya as dt,yb as rR,za as HD,zb as JC}from"./chunk-JQ6GOPGT.mjs";import{a as k,b as q,c as T,d as MD,e as Dt,f as B,g as s4,h as Bo,i as I,j as bC,k as Ui,l as ps,m as Xr}from"./chunk-WUI6SWGE.mjs";var Xe=B((awe,KR)=>{"use strict";KR.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var Me=B((cwe,jR)=>{"use strict";var at=class extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},vI=class extends at{constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},_I=class extends at{constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},SI=class extends at{constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},bI=class extends at{constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},TI=class extends at{constructor(e,t,r,i){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=t,this.statusCode=t,this.headers=r}},DI=class extends at{constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},RI=class extends at{constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},ef=class extends at{constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},kI=class extends ef{constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},NI=class extends at{constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},MI=class extends at{constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},FI=class extends at{constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},LI=class extends at{constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},xI=class extends at{constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},OI=class extends at{constructor(e,t){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}},UI=class extends at{constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},PI=class extends at{constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},VI=class extends Error{constructor(e,t,r){super(e),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}},GI=class extends at{constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},qI=class extends at{constructor(e,t,{headers:r,data:i}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=i,this.headers=r}},HI=class extends at{constructor(e,t,r){super(t,k({cause:e},r??{})),this.name="SecureProxyConnectionError",this.message=t||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};jR.exports={AbortError:ef,HTTPParserError:VI,UndiciError:at,HeadersTimeoutError:_I,HeadersOverflowError:SI,BodyTimeoutError:bI,RequestContentLengthMismatchError:MI,ConnectTimeoutError:vI,ResponseStatusCodeError:TI,InvalidArgumentError:DI,InvalidReturnValueError:RI,RequestAbortedError:kI,ClientDestroyedError:LI,ClientClosedError:xI,InformationalError:NI,SocketError:OI,NotSupportedError:UI,ResponseContentLengthMismatchError:FI,BalancedPoolMissingUpstreamError:PI,ResponseExceededMaxSizeError:GI,RequestRetryError:qI,SecureProxyConnectionError:HI}});var nf=B((uwe,$R)=>{"use strict";var tf={},YI=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let n=0;n<YI.length;++n){let e=YI[n],t=e.toLowerCase();tf[e]=tf[t]=t}Object.setPrototypeOf(tf,null);$R.exports={wellknownHeaderNames:YI,headerNameLowerCasedRecord:tf}});var tk=B((hwe,ek)=>{"use strict";var{wellknownHeaderNames:XR,headerNameLowerCasedRecord:v3}=nf(),WI=class n{value=null;left=null;middle=null;right=null;code;constructor(e,t,r){if(r===void 0||r>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(r))>127)throw new TypeError("key must be ascii string");e.length!==++r?this.middle=new n(e,t,r):this.value=t}add(e,t){let r=e.length;if(r===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let o=e.charCodeAt(i);if(o>127)throw new TypeError("key must be ascii string");if(s.code===o)if(r===++i){s.value=t;break}else if(s.middle!==null)s=s.middle;else{s.middle=new n(e,t,i);break}else if(s.code<o)if(s.left!==null)s=s.left;else{s.left=new n(e,t,i);break}else if(s.right!==null)s=s.right;else{s.right=new n(e,t,i);break}}}search(e){let t=e.length,r=0,i=this;for(;i!==null&&r<t;){let s=e[r];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(t===++r)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},rf=class{node=null;insert(e,t){this.node===null?this.node=new WI(e,t,0):this.node.add(e,t)}lookup(e){return this.node?.search(e)?.value??null}},ZR=new rf;for(let n=0;n<XR.length;++n){let e=v3[XR[n]];ZR.insert(e,e)}ek.exports={TernarySearchTree:rf,tree:ZR}});var fe=B((Awe,mk)=>{"use strict";var Mu=T("assert"),{kDestroyed:rk,kBodyUsed:$a,kListeners:JI,kBody:nk}=Xe(),{IncomingMessage:_3}=T("http"),af=T("stream"),S3=T("net"),{Blob:b3}=T("buffer"),T3=T("util"),{stringify:D3}=T("querystring"),{EventEmitter:R3}=T("events"),{InvalidArgumentError:kt}=Me(),{headerNameLowerCasedRecord:k3}=nf(),{tree:ik}=tk(),[N3,M3]=process.versions.node.split(".").map(n=>Number(n)),of=class{constructor(e){this[nk]=e,this[$a]=!1}[Symbol.asyncIterator](){return Ui(this,null,function*(){Mu(!this[$a],"disturbed"),this[$a]=!0,yield*ps(this[nk])})}};function F3(n){return cf(n)?(lk(n)===0&&n.on("data",function(){Mu(!1)}),typeof n.readableDidRead!="boolean"&&(n[$a]=!1,R3.prototype.on.call(n,"data",function(){this[$a]=!0})),n):n&&typeof n.pipeTo=="function"?new of(n):n&&typeof n!="string"&&!ArrayBuffer.isView(n)&&ck(n)?new of(n):n}function L3(){}function cf(n){return n&&typeof n=="object"&&typeof n.pipe=="function"&&typeof n.on=="function"}function sk(n){if(n===null)return!1;if(n instanceof b3)return!0;if(typeof n!="object")return!1;{let e=n[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in n&&typeof n.stream=="function"||"arrayBuffer"in n&&typeof n.arrayBuffer=="function")}}function x3(n,e){if(n.includes("?")||n.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let t=D3(e);return t&&(n+="?"+t),n}function ok(n){let e=parseInt(n,10);return e===Number(n)&&e>=0&&e<=65535}function sf(n){return n!=null&&n[0]==="h"&&n[1]==="t"&&n[2]==="t"&&n[3]==="p"&&(n[4]===":"||n[4]==="s"&&n[5]===":")}function ak(n){if(typeof n=="string"){if(n=new URL(n),!sf(n.origin||n.protocol))throw new kt("Invalid URL protocol: the URL must start with `http:` or `https:`.");return n}if(!n||typeof n!="object")throw new kt("Invalid URL: The URL argument must be a non-null object.");if(!(n instanceof URL)){if(n.port!=null&&n.port!==""&&ok(n.port)===!1)throw new kt("Invalid URL: port must be a valid integer or a string representation of an integer.");if(n.path!=null&&typeof n.path!="string")throw new kt("Invalid URL path: the path must be a string or null/undefined.");if(n.pathname!=null&&typeof n.pathname!="string")throw new kt("Invalid URL pathname: the pathname must be a string or null/undefined.");if(n.hostname!=null&&typeof n.hostname!="string")throw new kt("Invalid URL hostname: the hostname must be a string or null/undefined.");if(n.origin!=null&&typeof n.origin!="string")throw new kt("Invalid URL origin: the origin must be a string or null/undefined.");if(!sf(n.origin||n.protocol))throw new kt("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=n.port!=null?n.port:n.protocol==="https:"?443:80,t=n.origin!=null?n.origin:`${n.protocol||""}//${n.hostname||""}:${e}`,r=n.path!=null?n.path:`${n.pathname||""}${n.search||""}`;return t[t.length-1]==="/"&&(t=t.slice(0,t.length-1)),r&&r[0]!=="/"&&(r=`/${r}`),new URL(`${t}${r}`)}if(!sf(n.origin||n.protocol))throw new kt("Invalid URL protocol: the URL must start with `http:` or `https:`.");return n}function O3(n){if(n=ak(n),n.pathname!=="/"||n.search||n.hash)throw new kt("invalid url");return n}function U3(n){if(n[0]==="["){let t=n.indexOf("]");return Mu(t!==-1),n.substring(1,t)}let e=n.indexOf(":");return e===-1?n:n.substring(0,e)}function P3(n){if(!n)return null;Mu.strictEqual(typeof n,"string");let e=U3(n);return S3.isIP(e)?"":e}function V3(n){return JSON.parse(JSON.stringify(n))}function G3(n){return n!=null&&typeof n[Symbol.asyncIterator]=="function"}function ck(n){return n!=null&&(typeof n[Symbol.iterator]=="function"||typeof n[Symbol.asyncIterator]=="function")}function lk(n){if(n==null)return 0;if(cf(n)){let e=n._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(sk(n))return n.size!=null?n.size:null;if(Ak(n))return n.byteLength}return null}function uk(n){return n&&!!(n.destroyed||n[rk]||af.isDestroyed?.(n))}function q3(n,e){n==null||!cf(n)||uk(n)||(typeof n.destroy=="function"?(Object.getPrototypeOf(n).constructor===_3&&(n.socket=null),n.destroy(e)):e&&queueMicrotask(()=>{n.emit("error",e)}),n.destroyed!==!0&&(n[rk]=!0))}var H3=/timeout=(\d+)/;function Y3(n){let e=n.toString().match(H3);return e?parseInt(e[1],10)*1e3:null}function hk(n){return typeof n=="string"?k3[n]??n.toLowerCase():ik.lookup(n)??n.toString("latin1").toLowerCase()}function W3(n){return ik.lookup(n)??n.toString("latin1").toLowerCase()}function J3(n,e){e===void 0&&(e={});for(let t=0;t<n.length;t+=2){let r=hk(n[t]),i=e[r];if(i)typeof i=="string"&&(i=[i],e[r]=i),i.push(n[t+1].toString("utf8"));else{let s=n[t+1];typeof s=="string"?e[r]=s:e[r]=Array.isArray(s)?s.map(o=>o.toString("utf8")):s.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}function z3(n){let e=n.length,t=new Array(e),r=!1,i=-1,s,o,a=0;for(let c=0;c<n.length;c+=2)s=n[c],o=n[c+1],typeof s!="string"&&(s=s.toString()),typeof o!="string"&&(o=o.toString("utf8")),a=s.length,a===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?r=!0:a===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),t[c]=s,t[c+1]=o;return r&&i!==-1&&(t[i]=Buffer.from(t[i]).toString("latin1")),t}function Ak(n){return n instanceof Uint8Array||Buffer.isBuffer(n)}function K3(n,e,t){if(!n||typeof n!="object")throw new kt("handler must be an object");if(typeof n.onConnect!="function")throw new kt("invalid onConnect method");if(typeof n.onError!="function")throw new kt("invalid onError method");if(typeof n.onBodySent!="function"&&n.onBodySent!==void 0)throw new kt("invalid onBodySent method");if(t||e==="CONNECT"){if(typeof n.onUpgrade!="function")throw new kt("invalid onUpgrade method")}else{if(typeof n.onHeaders!="function")throw new kt("invalid onHeaders method");if(typeof n.onData!="function")throw new kt("invalid onData method");if(typeof n.onComplete!="function")throw new kt("invalid onComplete method")}}function j3(n){return!!(n&&(af.isDisturbed(n)||n[$a]))}function $3(n){return!!(n&&af.isErrored(n))}function X3(n){return!!(n&&af.isReadable(n))}function Z3(n){return{localAddress:n.localAddress,localPort:n.localPort,remoteAddress:n.remoteAddress,remotePort:n.remotePort,remoteFamily:n.remoteFamily,timeout:n.timeout,bytesWritten:n.bytesWritten,bytesRead:n.bytesRead}}function e9(n){let e;return new ReadableStream({start(){return I(this,null,function*(){e=n[Symbol.asyncIterator]()})},pull(r){return I(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let o=Buffer.isBuffer(s)?s:Buffer.from(s);o.byteLength&&r.enqueue(new Uint8Array(o))}return r.desiredSize>0})},cancel(r){return I(this,null,function*(){yield e.return()})},type:"bytes"})}function t9(n){return n&&typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&n[Symbol.toStringTag]==="FormData"}function n9(n,e){return"addEventListener"in n?(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)):(n.addListener("abort",e),()=>n.removeListener("abort",e))}var r9=typeof String.prototype.toWellFormed=="function",i9=typeof String.prototype.isWellFormed=="function";function dk(n){return r9?`${n}`.toWellFormed():T3.toUSVString(n)}function s9(n){return i9?`${n}`.isWellFormed():dk(n)===`${n}`}function fk(n){switch(n){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return n>=33&&n<=126}}function o9(n){if(n.length===0)return!1;for(let e=0;e<n.length;++e)if(!fk(n.charCodeAt(e)))return!1;return!0}var a9=/[^\t\x20-\x7e\x80-\xff]/;function c9(n){return!a9.test(n)}function l9(n){if(n==null||n==="")return{start:0,end:null,size:null};let e=n?n.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}function u9(n,e,t){return(n[JI]??=[]).push([e,t]),n.on(e,t),n}function h9(n){for(let[e,t]of n[JI]??[])n.removeListener(e,t);n[JI]=null}function A9(n,e,t){try{e.onError(t),Mu(e.aborted)}catch(r){n.emit("error",r)}}var gk=Object.create(null);gk.enumerable=!0;var zI={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},pk=q(k({},zI),{patch:"patch",PATCH:"PATCH"});Object.setPrototypeOf(zI,null);Object.setPrototypeOf(pk,null);mk.exports={kEnumerableProperty:gk,nop:L3,isDisturbed:j3,isErrored:$3,isReadable:X3,toUSVString:dk,isUSVString:s9,isBlobLike:sk,parseOrigin:O3,parseURL:ak,getServerName:P3,isStream:cf,isIterable:ck,isAsyncIterable:G3,isDestroyed:uk,headerNameToString:hk,bufferToLowerCasedHeaderName:W3,addListener:u9,removeAllListeners:h9,errorRequest:A9,parseRawHeaders:z3,parseHeaders:J3,parseKeepAliveTimeout:Y3,destroy:q3,bodyLength:lk,deepClone:V3,ReadableStreamFrom:e9,isBuffer:Ak,validateHandler:K3,getSocketInfo:Z3,isFormDataLike:t9,buildURL:x3,addAbortListener:n9,isValidHTTPToken:o9,isValidHeaderValue:c9,isTokenCharCode:fk,parseRangeHeader:l9,normalizedMethodRecordsBase:zI,normalizedMethodRecords:pk,isValidPort:ok,isHttpOrHttpsPrefixed:sf,nodeMajor:N3,nodeMinor:M3,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:F3}});var Xa=B((fwe,Ck)=>{"use strict";var Fe=T("diagnostics_channel"),jI=T("util"),lf=jI.debuglog("undici"),KI=jI.debuglog("fetch"),ko=jI.debuglog("websocket"),Ek=!1,d9={beforeConnect:Fe.channel("undici:client:beforeConnect"),connected:Fe.channel("undici:client:connected"),connectError:Fe.channel("undici:client:connectError"),sendHeaders:Fe.channel("undici:client:sendHeaders"),create:Fe.channel("undici:request:create"),bodySent:Fe.channel("undici:request:bodySent"),headers:Fe.channel("undici:request:headers"),trailers:Fe.channel("undici:request:trailers"),error:Fe.channel("undici:request:error"),open:Fe.channel("undici:websocket:open"),close:Fe.channel("undici:websocket:close"),socketError:Fe.channel("undici:websocket:socket_error"),ping:Fe.channel("undici:websocket:ping"),pong:Fe.channel("undici:websocket:pong")};if(lf.enabled||KI.enabled){let n=KI.enabled?KI:lf;Fe.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,r,t)}),Fe.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,r,t)}),Fe.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s},error:o}=e;n("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,r,t,o.message)}),Fe.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("sending request to %s %s/%s",t,i,r)}),Fe.channel("undici:request:headers").subscribe(e=>{let{request:{method:t,path:r,origin:i},response:{statusCode:s}}=e;n("received response to %s %s/%s - HTTP %d",t,i,r,s)}),Fe.channel("undici:request:trailers").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("trailers received from %s %s/%s",t,i,r)}),Fe.channel("undici:request:error").subscribe(e=>{let{request:{method:t,path:r,origin:i},error:s}=e;n("request to %s %s/%s errored - %s",t,i,r,s.message)}),Ek=!0}if(ko.enabled){if(!Ek){let n=lf.enabled?lf:ko;Fe.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connecting to %s%s using %s%s",s,i?`:${i}`:"",r,t)}),Fe.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s}}=e;n("connected to %s%s using %s%s",s,i?`:${i}`:"",r,t)}),Fe.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:t,protocol:r,port:i,host:s},error:o}=e;n("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",r,t,o.message)}),Fe.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:t,path:r,origin:i}}=e;n("sending request to %s %s/%s",t,i,r)})}Fe.channel("undici:websocket:open").subscribe(n=>{let{address:{address:e,port:t}}=n;ko("connection opened %s%s",e,t?`:${t}`:"")}),Fe.channel("undici:websocket:close").subscribe(n=>{let{websocket:e,code:t,reason:r}=n;ko("closed connection to %s - %s %s",e.url,t,r)}),Fe.channel("undici:websocket:socket_error").subscribe(n=>{ko("connection errored - %s",n.message)}),Fe.channel("undici:websocket:ping").subscribe(n=>{ko("ping received")}),Fe.channel("undici:websocket:pong").subscribe(n=>{ko("pong received")})}Ck.exports={channels:d9}});var Qk=B((gwe,wk)=>{"use strict";var{InvalidArgumentError:rt,NotSupportedError:f9}=Me(),qi=T("assert"),{isValidHTTPToken:Bk,isValidHeaderValue:Ik,isStream:g9,destroy:p9,isBuffer:m9,isFormDataLike:E9,isIterable:C9,isBlobLike:I9,buildURL:y9,validateHandler:B9,getServerName:w9,normalizedMethodRecords:Q9}=fe(),{channels:oi}=Xa(),{headerNameLowerCasedRecord:yk}=nf(),v9=/[^\u0021-\u00ff]/,nr=Symbol("handler"),$I=class{constructor(e,{path:t,method:r,body:i,headers:s,query:o,idempotent:a,blocking:c,upgrade:l,headersTimeout:u,bodyTimeout:h,reset:A,throwOnError:d,expectContinue:C,servername:m},y){if(typeof t!="string")throw new rt("path must be a string");if(t[0]!=="/"&&!(t.startsWith("http://")||t.startsWith("https://"))&&r!=="CONNECT")throw new rt("path must be an absolute URL or start with a slash");if(v9.test(t))throw new rt("invalid request path");if(typeof r!="string")throw new rt("method must be a string");if(Q9[r]===void 0&&!Bk(r))throw new rt("invalid request method");if(l&&typeof l!="string")throw new rt("upgrade must be a string");if(u!=null&&(!Number.isFinite(u)||u<0))throw new rt("invalid headersTimeout");if(h!=null&&(!Number.isFinite(h)||h<0))throw new rt("invalid bodyTimeout");if(A!=null&&typeof A!="boolean")throw new rt("invalid reset");if(C!=null&&typeof C!="boolean")throw new rt("invalid expectContinue");if(this.headersTimeout=u,this.bodyTimeout=h,this.throwOnError=d===!0,this.method=r,this.abort=null,i==null)this.body=null;else if(g9(i)){this.body=i;let _=this.body._readableState;(!_||!_.autoDestroy)&&(this.endHandler=function(){p9(this)},this.body.on("end",this.endHandler)),this.errorHandler=S=>{this.abort?this.abort(S):this.error=S},this.body.on("error",this.errorHandler)}else if(m9(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(E9(i)||C9(i)||I9(i))this.body=i;else throw new rt("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=l||null,this.path=o?y9(t,o):t,this.origin=e,this.idempotent=a??(r==="HEAD"||r==="GET"),this.blocking=c??!1,this.reset=A??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=C??!1,Array.isArray(s)){if(s.length%2!==0)throw new rt("headers array must be even");for(let _=0;_<s.length;_+=2)uf(this,s[_],s[_+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let _ of s){if(!Array.isArray(_)||_.length!==2)throw new rt("headers must be in key-value pair format");uf(this,_[0],_[1])}else{let _=Object.keys(s);for(let S=0;S<_.length;++S)uf(this,_[S],s[_[S]])}else if(s!=null)throw new rt("headers must be an object or an array");B9(y,r,l),this.servername=m||w9(this.host),this[nr]=y,oi.create.hasSubscribers&&oi.create.publish({request:this})}onBodySent(e){if(this[nr].onBodySent)try{return this[nr].onBodySent(e)}catch(t){this.abort(t)}}onRequestSent(){if(oi.bodySent.hasSubscribers&&oi.bodySent.publish({request:this}),this[nr].onRequestSent)try{return this[nr].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(qi(!this.aborted),qi(!this.completed),this.error)e(this.error);else return this.abort=e,this[nr].onConnect(e)}onResponseStarted(){return this[nr].onResponseStarted?.()}onHeaders(e,t,r,i){qi(!this.aborted),qi(!this.completed),oi.headers.hasSubscribers&&oi.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:i}});try{return this[nr].onHeaders(e,t,r,i)}catch(s){this.abort(s)}}onData(e){qi(!this.aborted),qi(!this.completed);try{return this[nr].onData(e)}catch(t){return this.abort(t),!1}}onUpgrade(e,t,r){return qi(!this.aborted),qi(!this.completed),this[nr].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),qi(!this.aborted),this.completed=!0,oi.trailers.hasSubscribers&&oi.trailers.publish({request:this,trailers:e});try{return this[nr].onComplete(e)}catch(t){this.onError(t)}}onError(e){if(this.onFinally(),oi.error.hasSubscribers&&oi.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[nr].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return uf(this,e,t),this}};function uf(n,e,t){if(t&&typeof t=="object"&&!Array.isArray(t))throw new rt(`invalid ${e} header`);if(t===void 0)return;let r=yk[e];if(r===void 0&&(r=e.toLowerCase(),yk[r]===void 0&&!Bk(r)))throw new rt("invalid header key");if(Array.isArray(t)){let i=[];for(let s=0;s<t.length;s++)if(typeof t[s]=="string"){if(!Ik(t[s]))throw new rt(`invalid ${e} header`);i.push(t[s])}else if(t[s]===null)i.push("");else{if(typeof t[s]=="object")throw new rt(`invalid ${e} header`);i.push(`${t[s]}`)}t=i}else if(typeof t=="string"){if(!Ik(t))throw new rt(`invalid ${e} header`)}else t===null?t="":t=`${t}`;if(n.host===null&&r==="host"){if(typeof t!="string")throw new rt("invalid host header");n.host=t}else if(n.contentLength===null&&r==="content-length"){if(n.contentLength=parseInt(t,10),!Number.isFinite(n.contentLength))throw new rt("invalid content-length header")}else if(n.contentType===null&&r==="content-type")n.contentType=t,n.headers.push(e,t);else{if(r==="transfer-encoding"||r==="keep-alive"||r==="upgrade")throw new rt(`invalid ${r} header`);if(r==="connection"){let i=typeof t=="string"?t.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new rt("invalid connection header");i==="close"&&(n.reset=!0)}else{if(r==="expect")throw new f9("expect header not supported");n.headers.push(e,t)}}}wk.exports=$I});var Fu=B((pwe,vk)=>{"use strict";var _9=T("events"),hf=class extends _9{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let t=Array.isArray(e[0])?e[0]:e,r=this.dispatch.bind(this);for(let i of t)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(r=i(r),r==null||typeof r!="function"||r.length!==2)throw new TypeError("invalid interceptor")}return new XI(this,r)}},XI=class extends hf{#e=null;#t=null;constructor(e,t){super(),this.#e=e,this.#t=t}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};vk.exports=hf});var nc=B((mwe,_k)=>{"use strict";var S9=Fu(),{ClientDestroyedError:ZI,ClientClosedError:b9,InvalidArgumentError:Za}=Me(),{kDestroy:T9,kClose:D9,kClosed:Lu,kDestroyed:ec,kDispatch:ey,kInterceptors:No}=Xe(),Hi=Symbol("onDestroyed"),tc=Symbol("onClosed"),Af=Symbol("Intercepted Dispatch"),ty=class extends S9{constructor(){super(),this[ec]=!1,this[Hi]=null,this[Lu]=!1,this[tc]=[]}get destroyed(){return this[ec]}get closed(){return this[Lu]}get interceptors(){return this[No]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if(typeof this[No][t]!="function")throw new Za("interceptor must be an function")}this[No]=e}close(e){if(e===void 0)return new Promise((r,i)=>{this.close((s,o)=>s?i(s):r(o))});if(typeof e!="function")throw new Za("invalid callback");if(this[ec]){queueMicrotask(()=>e(new ZI,null));return}if(this[Lu]){this[tc]?this[tc].push(e):queueMicrotask(()=>e(null,null));return}this[Lu]=!0,this[tc].push(e);let t=()=>{let r=this[tc];this[tc]=null;for(let i=0;i<r.length;i++)r[i](null,null)};this[D9]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((i,s)=>{this.destroy(e,(o,a)=>o?s(o):i(a))});if(typeof t!="function")throw new Za("invalid callback");if(this[ec]){this[Hi]?this[Hi].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new ZI),this[ec]=!0,this[Hi]=this[Hi]||[],this[Hi].push(t);let r=()=>{let i=this[Hi];this[Hi]=null;for(let s=0;s<i.length;s++)i[s](null,null)};this[T9](e).then(()=>{queueMicrotask(r)})}[Af](e,t){if(!this[No]||this[No].length===0)return this[Af]=this[ey],this[ey](e,t);let r=this[ey].bind(this);for(let i=this[No].length-1;i>=0;i--)r=this[No][i](r);return this[Af]=r,r(e,t)}dispatch(e,t){if(!t||typeof t!="object")throw new Za("handler must be an object");try{if(!e||typeof e!="object")throw new Za("opts must be an object.");if(this[ec]||this[Hi])throw new ZI;if(this[Lu])throw new b9;return this[Af](e,t)}catch(r){if(typeof t.onError!="function")throw new Za("invalid onError method");return t.onError(r),!1}}};_k.exports=ty});var xu=B((Iwe,Tk)=>{"use strict";var R9=T("net"),Sk=T("assert"),bk=fe(),{InvalidArgumentError:k9,ConnectTimeoutError:N9}=Me(),ny,ry;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?ry=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(t=>{if(this._sessionCache.size<this._maxCachedSessions)return;let r=this._sessionCache.get(t);r!==void 0&&r.deref()===void 0&&this._sessionCache.delete(t)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:ry=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:r}=this._sessionCache.keys().next();this._sessionCache.delete(r)}this._sessionCache.set(e,t)}}};function M9(o){var a=o,{allowH2:n,maxCachedSessions:e,socketPath:t,timeout:r,session:i}=a,s=Dt(a,["allowH2","maxCachedSessions","socketPath","timeout","session"]);if(e!=null&&(!Number.isInteger(e)||e<0))throw new k9("maxCachedSessions must be a positive integer or zero");let c=k({path:t},s),l=new ry(e??100);return r=r??1e4,n=n??!1,function({hostname:h,host:A,protocol:d,port:C,servername:m,localAddress:y,httpSocket:_},S){let R;if(d==="https:"){ny||(ny=T("tls")),m=m||c.servername||bk.getServerName(A)||null;let N=m||h,x=i||l.get(N)||null;Sk(N),R=ny.connect(q(k({highWaterMark:16384},c),{servername:m,session:x,localAddress:y,ALPNProtocols:n?["http/1.1","h2"]:["http/1.1"],socket:_,port:C||443,host:h})),R.on("session",function(Q){l.set(N,Q)})}else Sk(!_,"httpSocket can only be sent on TLS update"),R=R9.connect(q(k({highWaterMark:64*1024},c),{localAddress:y,port:C||80,host:h}));if(c.keepAlive==null||c.keepAlive){let N=c.keepAliveInitialDelay===void 0?6e4:c.keepAliveInitialDelay;R.setKeepAlive(!0,N)}let D=F9(()=>L9(R),r);return R.setNoDelay(!0).once(d==="https:"?"secureConnect":"connect",function(){if(D(),S){let N=S;S=null,N(null,this)}}).on("error",function(N){if(D(),S){let x=S;S=null,x(N)}}),R}}function F9(n,e){if(!e)return()=>{};let t=null,r=null,i=setTimeout(()=>{t=setImmediate(()=>{process.platform==="win32"?r=setImmediate(()=>n()):n()})},e);return()=>{clearTimeout(i),clearImmediate(t),clearImmediate(r)}}function L9(n){let e="Connect Timeout Error";Array.isArray(n.autoSelectFamilyAttemptedAddresses)&&(e+=` (attempted addresses: ${n.autoSelectFamilyAttemptedAddresses.join(", ")})`),bk.destroy(n,new N9(e))}Tk.exports=M9});var kk=B((Bwe,Rk)=>{"use strict";var iy=Date.now(),Mo,Bs=[];function x9(){iy=Date.now();let n=Bs.length,e=0;for(;e<n;){let t=Bs[e];t.state===0?t.state=iy+t.delay-499:t.state>0&&iy>=t.state&&(t.state=-1,t.callback(t.opaque)),t.state===-1?(t.state=-2,e!==n-1?Bs[e]=Bs.pop():Bs.pop(),n-=1):e+=1}Bs.length>0&&Dk()}function Dk(){Mo?.refresh?Mo.refresh():(clearTimeout(Mo),Mo=setTimeout(x9,499),Mo.unref&&Mo.unref())}var df=class{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){this.state===-2&&(Bs.push(this),(!Mo||Bs.length===1)&&Dk()),this.state=0}clear(){this.state=-1}};Rk.exports={setTimeout(n,e,t){return e<=1e3?setTimeout(n,e,t):new df(n,e,t)},clearTimeout(n){n instanceof df?n.clear():clearTimeout(n)}}});var Nk=B(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.enumToMap=void 0;function O9(n){let e={};return Object.keys(n).forEach(t=>{let r=n[t];typeof r=="number"&&(e[t]=r)}),e}ff.enumToMap=O9});var Mk=B(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.SPECIAL_HEADERS=U.HEADER_STATE=U.MINOR=U.MAJOR=U.CONNECTION_TOKEN_CHARS=U.HEADER_CHARS=U.TOKEN=U.STRICT_TOKEN=U.HEX=U.URL_CHAR=U.STRICT_URL_CHAR=U.USERINFO_CHARS=U.MARK=U.ALPHANUM=U.NUM=U.HEX_MAP=U.NUM_MAP=U.ALPHA=U.FINISH=U.H_METHOD_MAP=U.METHOD_MAP=U.METHODS_RTSP=U.METHODS_ICE=U.METHODS_HTTP=U.METHODS=U.LENIENT_FLAGS=U.FLAGS=U.TYPE=U.ERROR=void 0;var U9=Nk(),P9;(function(n){n[n.OK=0]="OK",n[n.INTERNAL=1]="INTERNAL",n[n.STRICT=2]="STRICT",n[n.LF_EXPECTED=3]="LF_EXPECTED",n[n.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",n[n.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",n[n.INVALID_METHOD=6]="INVALID_METHOD",n[n.INVALID_URL=7]="INVALID_URL",n[n.INVALID_CONSTANT=8]="INVALID_CONSTANT",n[n.INVALID_VERSION=9]="INVALID_VERSION",n[n.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",n[n.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",n[n.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",n[n.INVALID_STATUS=13]="INVALID_STATUS",n[n.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",n[n.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",n[n.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",n[n.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",n[n.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",n[n.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",n[n.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",n[n.PAUSED=21]="PAUSED",n[n.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",n[n.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",n[n.USER=24]="USER"})(P9=U.ERROR||(U.ERROR={}));var V9;(function(n){n[n.BOTH=0]="BOTH",n[n.REQUEST=1]="REQUEST",n[n.RESPONSE=2]="RESPONSE"})(V9=U.TYPE||(U.TYPE={}));var G9;(function(n){n[n.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",n[n.CHUNKED=8]="CHUNKED",n[n.UPGRADE=16]="UPGRADE",n[n.CONTENT_LENGTH=32]="CONTENT_LENGTH",n[n.SKIPBODY=64]="SKIPBODY",n[n.TRAILING=128]="TRAILING",n[n.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(G9=U.FLAGS||(U.FLAGS={}));var q9;(function(n){n[n.HEADERS=1]="HEADERS",n[n.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",n[n.KEEP_ALIVE=4]="KEEP_ALIVE"})(q9=U.LENIENT_FLAGS||(U.LENIENT_FLAGS={}));var X;(function(n){n[n.DELETE=0]="DELETE",n[n.GET=1]="GET",n[n.HEAD=2]="HEAD",n[n.POST=3]="POST",n[n.PUT=4]="PUT",n[n.CONNECT=5]="CONNECT",n[n.OPTIONS=6]="OPTIONS",n[n.TRACE=7]="TRACE",n[n.COPY=8]="COPY",n[n.LOCK=9]="LOCK",n[n.MKCOL=10]="MKCOL",n[n.MOVE=11]="MOVE",n[n.PROPFIND=12]="PROPFIND",n[n.PROPPATCH=13]="PROPPATCH",n[n.SEARCH=14]="SEARCH",n[n.UNLOCK=15]="UNLOCK",n[n.BIND=16]="BIND",n[n.REBIND=17]="REBIND",n[n.UNBIND=18]="UNBIND",n[n.ACL=19]="ACL",n[n.REPORT=20]="REPORT",n[n.MKACTIVITY=21]="MKACTIVITY",n[n.CHECKOUT=22]="CHECKOUT",n[n.MERGE=23]="MERGE",n[n["M-SEARCH"]=24]="M-SEARCH",n[n.NOTIFY=25]="NOTIFY",n[n.SUBSCRIBE=26]="SUBSCRIBE",n[n.UNSUBSCRIBE=27]="UNSUBSCRIBE",n[n.PATCH=28]="PATCH",n[n.PURGE=29]="PURGE",n[n.MKCALENDAR=30]="MKCALENDAR",n[n.LINK=31]="LINK",n[n.UNLINK=32]="UNLINK",n[n.SOURCE=33]="SOURCE",n[n.PRI=34]="PRI",n[n.DESCRIBE=35]="DESCRIBE",n[n.ANNOUNCE=36]="ANNOUNCE",n[n.SETUP=37]="SETUP",n[n.PLAY=38]="PLAY",n[n.PAUSE=39]="PAUSE",n[n.TEARDOWN=40]="TEARDOWN",n[n.GET_PARAMETER=41]="GET_PARAMETER",n[n.SET_PARAMETER=42]="SET_PARAMETER",n[n.REDIRECT=43]="REDIRECT",n[n.RECORD=44]="RECORD",n[n.FLUSH=45]="FLUSH"})(X=U.METHODS||(U.METHODS={}));U.METHODS_HTTP=[X.DELETE,X.GET,X.HEAD,X.POST,X.PUT,X.CONNECT,X.OPTIONS,X.TRACE,X.COPY,X.LOCK,X.MKCOL,X.MOVE,X.PROPFIND,X.PROPPATCH,X.SEARCH,X.UNLOCK,X.BIND,X.REBIND,X.UNBIND,X.ACL,X.REPORT,X.MKACTIVITY,X.CHECKOUT,X.MERGE,X["M-SEARCH"],X.NOTIFY,X.SUBSCRIBE,X.UNSUBSCRIBE,X.PATCH,X.PURGE,X.MKCALENDAR,X.LINK,X.UNLINK,X.PRI,X.SOURCE];U.METHODS_ICE=[X.SOURCE];U.METHODS_RTSP=[X.OPTIONS,X.DESCRIBE,X.ANNOUNCE,X.SETUP,X.PLAY,X.PAUSE,X.TEARDOWN,X.GET_PARAMETER,X.SET_PARAMETER,X.REDIRECT,X.RECORD,X.FLUSH,X.GET,X.POST];U.METHOD_MAP=U9.enumToMap(X);U.H_METHOD_MAP={};Object.keys(U.METHOD_MAP).forEach(n=>{/^H/.test(n)&&(U.H_METHOD_MAP[n]=U.METHOD_MAP[n])});var H9;(function(n){n[n.SAFE=0]="SAFE",n[n.SAFE_WITH_CB=1]="SAFE_WITH_CB",n[n.UNSAFE=2]="UNSAFE"})(H9=U.FINISH||(U.FINISH={}));U.ALPHA=[];for(let n=65;n<=90;n++)U.ALPHA.push(String.fromCharCode(n)),U.ALPHA.push(String.fromCharCode(n+32));U.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};U.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};U.NUM=["0","1","2","3","4","5","6","7","8","9"];U.ALPHANUM=U.ALPHA.concat(U.NUM);U.MARK=["-","_",".","!","~","*","'","(",")"];U.USERINFO_CHARS=U.ALPHANUM.concat(U.MARK).concat(["%",";",":","&","=","+","$",","]);U.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(U.ALPHANUM);U.URL_CHAR=U.STRICT_URL_CHAR.concat(["	","\f"]);for(let n=128;n<=255;n++)U.URL_CHAR.push(n);U.HEX=U.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);U.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(U.ALPHANUM);U.TOKEN=U.STRICT_TOKEN.concat([" "]);U.HEADER_CHARS=["	"];for(let n=32;n<=255;n++)n!==127&&U.HEADER_CHARS.push(n);U.CONNECTION_TOKEN_CHARS=U.HEADER_CHARS.filter(n=>n!==44);U.MAJOR=U.NUM_MAP;U.MINOR=U.MAJOR;var rc;(function(n){n[n.GENERAL=0]="GENERAL",n[n.CONNECTION=1]="CONNECTION",n[n.CONTENT_LENGTH=2]="CONTENT_LENGTH",n[n.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",n[n.UPGRADE=4]="UPGRADE",n[n.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",n[n.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",n[n.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",n[n.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(rc=U.HEADER_STATE||(U.HEADER_STATE={}));U.SPECIAL_HEADERS={connection:rc.CONNECTION,"content-length":rc.CONTENT_LENGTH,"proxy-connection":rc.CONNECTION,"transfer-encoding":rc.TRANSFER_ENCODING,upgrade:rc.UPGRADE}});var sy=B((vwe,Fk)=>{"use strict";var{Buffer:Y9}=T("buffer");Fk.exports=Y9.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var xk=B((_we,Lk)=>{"use strict";var{Buffer:W9}=T("buffer");Lk.exports=W9.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var Ou=B((Swe,Yk)=>{"use strict";var Ok=["GET","HEAD","POST"],J9=new Set(Ok),z9=[101,204,205,304],Uk=[301,302,303,307,308],K9=new Set(Uk),Pk=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],j9=new Set(Pk),Vk=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],$9=new Set(Vk),X9=["follow","manual","error"],Gk=["GET","HEAD","OPTIONS","TRACE"],Z9=new Set(Gk),eK=["navigate","same-origin","no-cors","cors"],tK=["omit","same-origin","include"],nK=["default","no-store","reload","no-cache","force-cache","only-if-cached"],rK=["content-encoding","content-language","content-location","content-type","content-length"],iK=["half"],qk=["CONNECT","TRACE","TRACK"],sK=new Set(qk),Hk=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],oK=new Set(Hk);Yk.exports={subresource:Hk,forbiddenMethods:qk,requestBodyHeader:rK,referrerPolicy:Vk,requestRedirect:X9,requestMode:eK,requestCredentials:tK,requestCache:nK,redirectStatus:Uk,corsSafeListedMethods:Ok,nullBodyStatus:z9,safeMethods:Gk,badPorts:Pk,requestDuplex:iK,subresourceSet:oK,badPortsSet:j9,redirectStatusSet:K9,corsSafeListedMethodsSet:J9,safeMethodsSet:Z9,forbiddenMethodsSet:sK,referrerPolicySet:$9}});var ay=B((bwe,Wk)=>{"use strict";var oy=Symbol.for("undici.globalOrigin.1");function aK(){return globalThis[oy]}function cK(n){if(n===void 0){Object.defineProperty(globalThis,oy,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(n);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,oy,{value:e,writable:!0,enumerable:!1,configurable:!1})}Wk.exports={getGlobalOrigin:aK,setGlobalOrigin:cK}});var Cn=B((Twe,Zk)=>{"use strict";var pf=T("assert"),lK=new TextEncoder,Uu=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,uK=/[\u000A\u000D\u0009\u0020]/,hK=/[\u0009\u000A\u000C\u000D\u0020]/g,AK=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function dK(n){pf(n.protocol==="data:");let e=Kk(n,!0);e=e.slice(5);let t={position:0},r=ic(",",e,t),i=r.length;if(r=CK(r,!0,!0),t.position>=e.length)return"failure";t.position++;let s=e.slice(i+1),o=jk(s);if(/;(\u0020){0,}base64$/i.test(r)){let c=Xk(o);if(o=gK(c),o==="failure")return"failure";r=r.slice(0,-6),r=r.replace(/(\u0020)+$/,""),r=r.slice(0,-1)}r.startsWith(";")&&(r="text/plain"+r);let a=cy(r);return a==="failure"&&(a=cy("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function Kk(n,e=!1){if(!e)return n.href;let t=n.href,r=n.hash.length,i=r===0?t:t.substring(0,t.length-r);return!r&&t.endsWith("#")?i.slice(0,-1):i}function mf(n,e,t){let r="";for(;t.position<e.length&&n(e[t.position]);)r+=e[t.position],t.position++;return r}function ic(n,e,t){let r=e.indexOf(n,t.position),i=t.position;return r===-1?(t.position=e.length,e.slice(i)):(t.position=r,e.slice(i,t.position))}function jk(n){let e=lK.encode(n);return fK(e)}function Jk(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function zk(n){return n>=48&&n<=57?n-48:(n&223)-55}function fK(n){let e=n.length,t=new Uint8Array(e),r=0;for(let i=0;i<e;++i){let s=n[i];s!==37?t[r++]=s:s===37&&!(Jk(n[i+1])&&Jk(n[i+2]))?t[r++]=37:(t[r++]=zk(n[i+1])<<4|zk(n[i+2]),i+=2)}return e===r?t:t.subarray(0,r)}function cy(n){n=gf(n,!0,!0);let e={position:0},t=ic("/",n,e);if(t.length===0||!Uu.test(t)||e.position>n.length)return"failure";e.position++;let r=ic(";",n,e);if(r=gf(r,!1,!0),r.length===0||!Uu.test(r))return"failure";let i=t.toLowerCase(),s=r.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<n.length;){e.position++,mf(l=>uK.test(l),n,e);let a=mf(l=>l!==";"&&l!=="=",n,e);if(a=a.toLowerCase(),e.position<n.length){if(n[e.position]===";")continue;e.position++}if(e.position>n.length)break;let c=null;if(n[e.position]==='"')c=$k(n,e,!0),ic(";",n,e);else if(c=ic(";",n,e),c=gf(c,!1,!0),c.length===0)continue;a.length!==0&&Uu.test(a)&&(c.length===0||AK.test(c))&&!o.parameters.has(a)&&o.parameters.set(a,c)}return o}function gK(n){n=n.replace(hK,"");let e=n.length;if(e%4===0&&n.charCodeAt(e-1)===61&&(--e,n.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(n.length===e?n:n.substring(0,e)))return"failure";let t=Buffer.from(n,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function $k(n,e,t){let r=e.position,i="";for(pf(n[e.position]==='"'),e.position++;i+=mf(o=>o!=='"'&&o!=="\\",n,e),!(e.position>=n.length);){let s=n[e.position];if(e.position++,s==="\\"){if(e.position>=n.length){i+="\\";break}i+=n[e.position],e.position++}else{pf(s==='"');break}}return t?i:n.slice(r,e.position)}function pK(n){pf(n!=="failure");let{parameters:e,essence:t}=n,r=t;for(let[i,s]of e.entries())r+=";",r+=i,r+="=",Uu.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),r+=s;return r}function mK(n){return n===13||n===10||n===9||n===32}function gf(n,e=!0,t=!0){return ly(n,e,t,mK)}function EK(n){return n===13||n===10||n===9||n===12||n===32}function CK(n,e=!0,t=!0){return ly(n,e,t,EK)}function ly(n,e,t,r){let i=0,s=n.length-1;if(e)for(;i<n.length&&r(n.charCodeAt(i));)i++;if(t)for(;s>0&&r(n.charCodeAt(s));)s--;return i===0&&s===n.length-1?n:n.slice(i,s+1)}function Xk(n){let e=n.length;if(65535>e)return String.fromCharCode.apply(null,n);let t="",r=0,i=65535;for(;r<e;)r+i>e&&(i=e-r),t+=String.fromCharCode.apply(null,n.subarray(r,r+=i));return t}function IK(n){switch(n.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return n.subtype.endsWith("+json")?"application/json":n.subtype.endsWith("+xml")?"application/xml":""}Zk.exports={dataURLProcessor:dK,URLSerializer:Kk,collectASequenceOfCodePoints:mf,collectASequenceOfCodePointsFast:ic,stringPercentDecode:jk,parseMIMEType:cy,collectAnHTTPQuotedString:$k,serializeAMimeType:pK,removeChars:ly,removeHTTPWhitespace:gf,minimizeSupportedMimeType:IK,HTTP_TOKEN_CODEPOINTS:Uu,isomorphicDecode:Xk}});var Gt=B((Dwe,eN)=>{"use strict";var{types:ai,inspect:yK}=T("util"),{toUSVString:BK}=fe(),L={};L.converters={};L.util={};L.errors={};L.errors.exception=function(n){return new TypeError(`${n.header}: ${n.message}`)};L.errors.conversionFailed=function(n){let e=n.types.length===1?"":" one of",t=`${n.argument} could not be converted to${e}: ${n.types.join(", ")}.`;return L.errors.exception({header:n.prefix,message:t})};L.errors.invalidArgument=function(n){return L.errors.exception({header:n.prefix,message:`"${n.value}" is an invalid ${n.type}.`})};L.brandCheck=function(n,e,t){if(t?.strict!==!1){if(!(n instanceof e)){let r=new TypeError("Illegal invocation");throw r.code="ERR_INVALID_THIS",r}}else if(n?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let r=new TypeError("Illegal invocation");throw r.code="ERR_INVALID_THIS",r}};L.argumentLengthCheck=function({length:n},e,t){if(n<e)throw L.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${n?" only":""} ${n} found.`,header:t})};L.illegalConstructor=function(){throw L.errors.exception({header:"TypeError",message:"Illegal constructor"})};L.util.Type=function(n){switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return n===null?"Null":"Object"}};L.util.ConvertToInt=function(n,e,t,r){let i,s;e===64?(i=Math.pow(2,53)-1,t==="unsigned"?s=0:s=Math.pow(-2,53)+1):t==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let o=Number(n);if(o===0&&(o=0),r?.enforceRange===!0){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw L.errors.exception({header:"Integer conversion",message:`Could not convert ${L.util.Stringify(n)} to an integer.`});if(o=L.util.IntegerPart(o),o<s||o>i)throw L.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return!Number.isNaN(o)&&r?.clamp===!0?(o=Math.min(Math.max(o,s),i),Math.floor(o)%2===0?o=Math.floor(o):o=Math.ceil(o),o):Number.isNaN(o)||o===0&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=L.util.IntegerPart(o),o=o%Math.pow(2,e),t==="signed"&&o>=Math.pow(2,e)-1?o-Math.pow(2,e):o)};L.util.IntegerPart=function(n){let e=Math.floor(Math.abs(n));return n<0?-1*e:e};L.util.Stringify=function(n){switch(L.util.Type(n)){case"Symbol":return`Symbol(${n.description})`;case"Object":return yK(n);case"String":return`"${n}"`;default:return`${n}`}};L.sequenceConverter=function(n){return(e,t,r,i)=>{if(L.util.Type(e)!=="Object")throw L.errors.exception({header:t,message:`${r} (${L.util.Stringify(e)}) is not iterable.`});let s=typeof i=="function"?i():e?.[Symbol.iterator]?.(),o=[],a=0;if(s===void 0||typeof s.next!="function")throw L.errors.exception({header:t,message:`${r} is not iterable.`});for(;;){let{done:c,value:l}=s.next();if(c)break;o.push(n(l,t,`${r}[${a++}]`))}return o}};L.recordConverter=function(n,e){return(t,r,i)=>{if(L.util.Type(t)!=="Object")throw L.errors.exception({header:r,message:`${i} ("${L.util.Type(t)}") is not an Object.`});let s={};if(!ai.isProxy(t)){let a=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let c of a){let l=n(c,r,i),u=e(t[c],r,i);s[l]=u}return s}let o=Reflect.ownKeys(t);for(let a of o)if(Reflect.getOwnPropertyDescriptor(t,a)?.enumerable){let l=n(a,r,i),u=e(t[a],r,i);s[l]=u}return s}};L.interfaceConverter=function(n){return(e,t,r,i)=>{if(i?.strict!==!1&&!(e instanceof n))throw L.errors.exception({header:t,message:`Expected ${r} ("${L.util.Stringify(e)}") to be an instance of ${n.name}.`});return e}};L.dictionaryConverter=function(n){return(e,t,r)=>{let i=L.util.Type(e),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw L.errors.exception({header:t,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let o of n){let{key:a,defaultValue:c,required:l,converter:u}=o;if(l===!0&&!Object.hasOwn(e,a))throw L.errors.exception({header:t,message:`Missing required key "${a}".`});let h=e[a],A=Object.hasOwn(o,"defaultValue");if(A&&h!==null&&(h??=c()),l||A||h!==void 0){if(h=u(h,t,`${r}.${a}`),o.allowedValues&&!o.allowedValues.includes(h))throw L.errors.exception({header:t,message:`${h} is not an accepted type. Expected one of ${o.allowedValues.join(", ")}.`});s[a]=h}}return s}};L.nullableConverter=function(n){return(e,t,r)=>e===null?e:n(e,t,r)};L.converters.DOMString=function(n,e,t,r){if(n===null&&r?.legacyNullToEmptyString)return"";if(typeof n=="symbol")throw L.errors.exception({header:e,message:`${t} is a symbol, which cannot be converted to a DOMString.`});return String(n)};L.converters.ByteString=function(n,e,t){let r=L.converters.DOMString(n,e,t);for(let i=0;i<r.length;i++)if(r.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${r.charCodeAt(i)} which is greater than 255.`);return r};L.converters.USVString=BK;L.converters.boolean=function(n){return!!n};L.converters.any=function(n){return n};L.converters["long long"]=function(n,e,t){return L.util.ConvertToInt(n,64,"signed",void 0,e,t)};L.converters["unsigned long long"]=function(n,e,t){return L.util.ConvertToInt(n,64,"unsigned",void 0,e,t)};L.converters["unsigned long"]=function(n,e,t){return L.util.ConvertToInt(n,32,"unsigned",void 0,e,t)};L.converters["unsigned short"]=function(n,e,t,r){return L.util.ConvertToInt(n,16,"unsigned",r,e,t)};L.converters.ArrayBuffer=function(n,e,t,r){if(L.util.Type(n)!=="Object"||!ai.isAnyArrayBuffer(n))throw L.errors.conversionFailed({prefix:e,argument:`${t} ("${L.util.Stringify(n)}")`,types:["ArrayBuffer"]});if(r?.allowShared===!1&&ai.isSharedArrayBuffer(n))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.resizable||n.growable)throw L.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};L.converters.TypedArray=function(n,e,t,r,i){if(L.util.Type(n)!=="Object"||!ai.isTypedArray(n)||n.constructor.name!==e.name)throw L.errors.conversionFailed({prefix:t,argument:`${r} ("${L.util.Stringify(n)}")`,types:[e.name]});if(i?.allowShared===!1&&ai.isSharedArrayBuffer(n.buffer))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.buffer.resizable||n.buffer.growable)throw L.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};L.converters.DataView=function(n,e,t,r){if(L.util.Type(n)!=="Object"||!ai.isDataView(n))throw L.errors.exception({header:e,message:`${t} is not a DataView.`});if(r?.allowShared===!1&&ai.isSharedArrayBuffer(n.buffer))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(n.buffer.resizable||n.buffer.growable)throw L.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return n};L.converters.BufferSource=function(n,e,t,r){if(ai.isAnyArrayBuffer(n))return L.converters.ArrayBuffer(n,e,t,q(k({},r),{allowShared:!1}));if(ai.isTypedArray(n))return L.converters.TypedArray(n,n.constructor,e,t,q(k({},r),{allowShared:!1}));if(ai.isDataView(n))return L.converters.DataView(n,e,t,q(k({},r),{allowShared:!1}));throw L.errors.conversionFailed({prefix:e,argument:`${t} ("${L.util.Stringify(n)}")`,types:["BufferSource"]})};L.converters["sequence<ByteString>"]=L.sequenceConverter(L.converters.ByteString);L.converters["sequence<sequence<ByteString>>"]=L.sequenceConverter(L.converters["sequence<ByteString>"]);L.converters["record<ByteString, ByteString>"]=L.recordConverter(L.converters.ByteString,L.converters.ByteString);eN.exports={webidl:L}});var Un=B((kwe,fN)=>{"use strict";var{Transform:wK}=T("stream"),tN=T("zlib"),{redirectStatusSet:QK,referrerPolicySet:vK,badPortsSet:_K}=Ou(),{getGlobalOrigin:nN}=ay(),{collectASequenceOfCodePoints:Fo,collectAnHTTPQuotedString:SK,removeChars:bK,parseMIMEType:TK}=Cn(),{performance:DK}=T("perf_hooks"),{isBlobLike:RK,ReadableStreamFrom:kK,isValidHTTPToken:rN,normalizedMethodRecordsBase:NK}=fe(),Lo=T("assert"),{isUint8Array:MK}=T("util/types"),{webidl:Pu}=Gt(),iN=[],Cf;try{Cf=T("crypto");let n=["sha256","sha384","sha512"];iN=Cf.getHashes().filter(e=>n.includes(e))}catch{}function sN(n){let e=n.urlList,t=e.length;return t===0?null:e[t-1].toString()}function FK(n,e){if(!QK.has(n.status))return null;let t=n.headersList.get("location",!0);return t!==null&&aN(t)&&(oN(t)||(t=LK(t)),t=new URL(t,sN(n))),t&&!t.hash&&(t.hash=e),t}function oN(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t>126||t<32)return!1}return!0}function LK(n){return Buffer.from(n,"binary").toString("utf8")}function Gu(n){return n.urlList[n.urlList.length-1]}function xK(n){let e=Gu(n);return AN(e)&&_K.has(e.port)?"blocked":"allowed"}function OK(n){return n instanceof Error||n?.constructor?.name==="Error"||n?.constructor?.name==="DOMException"}function UK(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(!(t===9||t>=32&&t<=126||t>=128&&t<=255))return!1}return!0}var PK=rN;function aN(n){return(n[0]==="	"||n[0]===" "||n[n.length-1]==="	"||n[n.length-1]===" "||n.includes(`
`)||n.includes("\r")||n.includes("\0"))===!1}function VK(n,e){let{headersList:t}=e,r=(t.get("referrer-policy",!0)??"").split(","),i="";if(r.length>0)for(let s=r.length;s!==0;s--){let o=r[s-1].trim();if(vK.has(o)){i=o;break}}i!==""&&(n.referrerPolicy=i)}function GK(){return"allowed"}function qK(){return"success"}function HK(){return"success"}function YK(n){let e=null;e=n.mode,n.headersList.set("sec-fetch-mode",e,!0)}function WK(n){let e=n.origin;if(!(e==="client"||e===void 0)){if(n.responseTainting==="cors"||n.mode==="websocket")n.headersList.append("origin",e,!0);else if(n.method!=="GET"&&n.method!=="HEAD"){switch(n.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":n.origin&&hy(n.origin)&&!hy(Gu(n))&&(e=null);break;case"same-origin":If(n,Gu(n))||(e=null);break;default:}n.headersList.append("origin",e,!0)}}}function sc(n,e){return n}function JK(n,e,t){return!n?.startTime||n.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:n?.ALPNNegotiatedProtocol}:{domainLookupStartTime:sc(n.domainLookupStartTime,t),domainLookupEndTime:sc(n.domainLookupEndTime,t),connectionStartTime:sc(n.connectionStartTime,t),connectionEndTime:sc(n.connectionEndTime,t),secureConnectionStartTime:sc(n.secureConnectionStartTime,t),ALPNNegotiatedProtocol:n.ALPNNegotiatedProtocol}}function zK(n){return sc(DK.now(),n)}function KK(n){return{startTime:n.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:n.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function cN(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function jK(n){return{referrerPolicy:n.referrerPolicy}}function $K(n){let e=n.referrerPolicy;Lo(e);let t=null;if(n.referrer==="client"){let a=nN();if(!a||a.origin==="null")return"no-referrer";t=new URL(a)}else n.referrer instanceof URL&&(t=n.referrer);let r=uy(t),i=uy(t,!0);r.toString().length>4096&&(r=i);let s=If(n,r),o=Vu(r)&&!Vu(n.url);switch(e){case"origin":return i??uy(t,!0);case"unsafe-url":return r;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?r:i;case"strict-origin-when-cross-origin":{let a=Gu(n);return If(r,a)?r:Vu(r)&&!Vu(a)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return o?"no-referrer":i}}function uy(n,e){return Lo(n instanceof URL),n=new URL(n),n.protocol==="file:"||n.protocol==="about:"||n.protocol==="blank:"?"no-referrer":(n.username="",n.password="",n.hash="",e&&(n.pathname="",n.search=""),n)}function Vu(n){if(!(n instanceof URL))return!1;if(n.href==="about:blank"||n.href==="about:srcdoc"||n.protocol==="data:"||n.protocol==="file:")return!0;return e(n.origin);function e(t){if(t==null||t==="null")return!1;let r=new URL(t);return!!(r.protocol==="https:"||r.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(r.hostname)||r.hostname==="localhost"||r.hostname.includes("localhost.")||r.hostname.endsWith(".localhost"))}}function XK(n,e){if(Cf===void 0)return!0;let t=lN(e);if(t==="no metadata"||t.length===0)return!0;let r=ej(t),i=tj(t,r);for(let s of i){let o=s.algo,a=s.hash,c=Cf.createHash(o).update(n).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),nj(c,a))return!0}return!1}var ZK=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function lN(n){let e=[],t=!0;for(let r of n.split(" ")){t=!1;let i=ZK.exec(r);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();iN.includes(s)&&e.push(i.groups)}return t===!0?"no metadata":e}function ej(n){let e=n[0].algo;if(e[3]==="5")return e;for(let t=1;t<n.length;++t){let r=n[t];if(r.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;r.algo[3]==="3"&&(e="sha384")}}return e}function tj(n,e){if(n.length===1)return n;let t=0;for(let r=0;r<n.length;++r)n[r].algo===e&&(n[t++]=n[r]);return n.length=t,n}function nj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t]){if(n[t]==="+"&&e[t]==="-"||n[t]==="/"&&e[t]==="_")continue;return!1}return!0}function rj(n){}function If(n,e){return n.origin===e.origin&&n.origin==="null"||n.protocol===e.protocol&&n.hostname===e.hostname&&n.port===e.port}function ij(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function sj(n){return n.controller.state==="aborted"}function oj(n){return n.controller.state==="aborted"||n.controller.state==="terminated"}function aj(n){return NK[n.toLowerCase()]??n}function cj(n){let e=JSON.stringify(n);if(e===void 0)throw new TypeError("Value is not JSON serializable");return Lo(typeof e=="string"),e}var lj=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function uN(n,e,t=0,r=1){class i{#e;#t;#i;constructor(o,a){this.#e=o,this.#t=a,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${n} Iterator.`);let o=this.#i,a=this.#e[e],c=a.length;if(o>=c)return{value:void 0,done:!0};let{[t]:l,[r]:u}=a[o];this.#i=o+1;let h;switch(this.#t){case"key":h=l;break;case"value":h=u;break;case"key+value":h=[l,u];break}return{value:h,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,lj),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${n} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,o){return new i(s,o)}}function uj(n,e,t,r=0,i=1){let s=uN(n,t,r,i),o={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return Pu.brandCheck(this,e),s(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return Pu.brandCheck(this,e),s(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return Pu.brandCheck(this,e),s(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(c,l=globalThis){if(Pu.brandCheck(this,e),Pu.argumentLengthCheck(arguments,1,`${n}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${n}': parameter 1 is not of type 'Function'.`);for(let{0:u,1:h}of s(this,"key+value"))c.call(l,h,u,this)}}};return Object.defineProperties(e.prototype,q(k({},o),{[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:o.entries.value}}))}function hj(n,e,t){return I(this,null,function*(){let r=e,i=t,s;try{s=n.stream.getReader()}catch(o){i(o);return}try{r(yield hN(s))}catch(o){i(o)}})}function Aj(n){return n instanceof ReadableStream||n[Symbol.toStringTag]==="ReadableStream"&&typeof n.tee=="function"}function dj(n){try{n.close(),n.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}var fj=/[^\x00-\xFF]/;function Ef(n){return Lo(!fj.test(n)),n}function hN(n){return I(this,null,function*(){let e=[],t=0;for(;;){let{done:r,value:i}=yield n.read();if(r)return Buffer.concat(e,t);if(!MK(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),t+=i.length}})}function gj(n){Lo("protocol"in n);let e=n.protocol;return e==="about:"||e==="blob:"||e==="data:"}function hy(n){return typeof n=="string"&&n[5]===":"&&n[0]==="h"&&n[1]==="t"&&n[2]==="t"&&n[3]==="p"&&n[4]==="s"||n.protocol==="https:"}function AN(n){Lo("protocol"in n);let e=n.protocol;return e==="http:"||e==="https:"}function pj(n,e){let t=n;if(!t.startsWith("bytes"))return"failure";let r={position:5};if(e&&Fo(c=>c==="	"||c===" ",t,r),t.charCodeAt(r.position)!==61)return"failure";r.position++,e&&Fo(c=>c==="	"||c===" ",t,r);let i=Fo(c=>{let l=c.charCodeAt(0);return l>=48&&l<=57},t,r),s=i.length?Number(i):null;if(e&&Fo(c=>c==="	"||c===" ",t,r),t.charCodeAt(r.position)!==45)return"failure";r.position++,e&&Fo(c=>c==="	"||c===" ",t,r);let o=Fo(c=>{let l=c.charCodeAt(0);return l>=48&&l<=57},t,r),a=o.length?Number(o):null;return r.position<t.length||a===null&&s===null||s>a?"failure":{rangeStartValue:s,rangeEndValue:a}}function mj(n,e,t){let r="bytes ";return r+=Ef(`${n}`),r+="-",r+=Ef(`${e}`),r+="/",r+=Ef(`${t}`),r}var Ay=class extends wK{_transform(e,t,r){if(!this._inflateStream){if(e.length===0){r();return}this._inflateStream=(e[0]&15)===8?tN.createInflate():tN.createInflateRaw(),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(e,t,r)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function Ej(){return new Ay}function Cj(n){let e=null,t=null,r=null,i=dN("content-type",n);if(i===null)return"failure";for(let s of i){let o=TK(s);o==="failure"||o.essence==="*/*"||(r=o,r.essence!==t?(e=null,r.parameters.has("charset")&&(e=r.parameters.get("charset")),t=r.essence):!r.parameters.has("charset")&&e!==null&&r.parameters.set("charset",e))}return r??"failure"}function Ij(n){let e=n,t={position:0},r=[],i="";for(;t.position<e.length;){if(i+=Fo(s=>s!=='"'&&s!==",",e,t),t.position<e.length)if(e.charCodeAt(t.position)===34){if(i+=SK(e,t),t.position<e.length)continue}else Lo(e.charCodeAt(t.position)===44),t.position++;i=bK(i,!0,!0,s=>s===9||s===32),r.push(i),i=""}return r}function dN(n,e){let t=e.get(n,!0);return t===null?null:Ij(t)}var yj=new TextDecoder;function Bj(n){return n.length===0?"":(n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3)),yj.decode(n))}var dy=class{get baseUrl(){return nN()}get origin(){return this.baseUrl?.origin}policyContainer=cN()},fy=class{settingsObject=new dy},wj=new fy;fN.exports={isAborted:sj,isCancelled:oj,isValidEncodedURL:oN,createDeferredPromise:ij,ReadableStreamFrom:kK,tryUpgradeRequestToAPotentiallyTrustworthyURL:rj,clampAndCoarsenConnectionTimingInfo:JK,coarsenedSharedCurrentTime:zK,determineRequestsReferrer:$K,makePolicyContainer:cN,clonePolicyContainer:jK,appendFetchMetadata:YK,appendRequestOriginHeader:WK,TAOCheck:HK,corsCheck:qK,crossOriginResourcePolicyCheck:GK,createOpaqueTimingInfo:KK,setRequestReferrerPolicyOnRedirect:VK,isValidHTTPToken:rN,requestBadPort:xK,requestCurrentURL:Gu,responseURL:sN,responseLocationURL:FK,isBlobLike:RK,isURLPotentiallyTrustworthy:Vu,isValidReasonPhrase:UK,sameOrigin:If,normalizeMethod:aj,serializeJavascriptValueToJSONString:cj,iteratorMixin:uj,createIterator:uN,isValidHeaderName:PK,isValidHeaderValue:aN,isErrorLike:OK,fullyReadBody:hj,bytesMatch:XK,isReadableStreamLike:Aj,readableStreamClose:dj,isomorphicEncode:Ef,urlIsLocal:gj,urlHasHttpsScheme:hy,urlIsHttpHttpsScheme:AN,readAllBytes:hN,simpleRangeHeaderValue:pj,buildContentRange:mj,parseMetadata:lN,createInflate:Ej,extractMimeType:Cj,getDecodeSplit:dN,utf8DecodeBytes:Bj,environmentSettingsObject:wj}});var ws=B((Mwe,gN)=>{"use strict";gN.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var py=B((Fwe,pN)=>{"use strict";var{Blob:Qj,File:vj}=T("buffer"),{kState:Yi}=ws(),{webidl:ci}=Gt(),gy=class n{constructor(e,t,r={}){let i=t,s=r.type,o=r.lastModified??Date.now();this[Yi]={blobLike:e,name:i,type:s,lastModified:o}}stream(...e){return ci.brandCheck(this,n),this[Yi].blobLike.stream(...e)}arrayBuffer(...e){return ci.brandCheck(this,n),this[Yi].blobLike.arrayBuffer(...e)}slice(...e){return ci.brandCheck(this,n),this[Yi].blobLike.slice(...e)}text(...e){return ci.brandCheck(this,n),this[Yi].blobLike.text(...e)}get size(){return ci.brandCheck(this,n),this[Yi].blobLike.size}get type(){return ci.brandCheck(this,n),this[Yi].blobLike.type}get name(){return ci.brandCheck(this,n),this[Yi].name}get lastModified(){return ci.brandCheck(this,n),this[Yi].lastModified}get[Symbol.toStringTag](){return"File"}};ci.converters.Blob=ci.interfaceConverter(Qj);function _j(n){return n instanceof vj||n&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&n[Symbol.toStringTag]==="File"}pN.exports={FileLike:gy,isFileLike:_j}});var Hu=B((Lwe,yN)=>{"use strict";var{isBlobLike:yf,iteratorMixin:Sj}=Un(),{kState:cn}=ws(),{kEnumerableProperty:oc}=fe(),{FileLike:mN,isFileLike:bj}=py(),{webidl:Je}=Gt(),{File:IN}=T("buffer"),EN=T("util"),CN=globalThis.File??IN,qu=class n{constructor(e){if(e!==void 0)throw Je.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[cn]=[]}append(e,t,r=void 0){Je.brandCheck(this,n);let i="FormData.append";if(Je.argumentLengthCheck(arguments,2,i),arguments.length===3&&!yf(t))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Je.converters.USVString(e,i,"name"),t=yf(t)?Je.converters.Blob(t,i,"value",{strict:!1}):Je.converters.USVString(t,i,"value"),r=arguments.length===3?Je.converters.USVString(r,i,"filename"):void 0;let s=my(e,t,r);this[cn].push(s)}delete(e){Je.brandCheck(this,n);let t="FormData.delete";Je.argumentLengthCheck(arguments,1,t),e=Je.converters.USVString(e,t,"name"),this[cn]=this[cn].filter(r=>r.name!==e)}get(e){Je.brandCheck(this,n);let t="FormData.get";Je.argumentLengthCheck(arguments,1,t),e=Je.converters.USVString(e,t,"name");let r=this[cn].findIndex(i=>i.name===e);return r===-1?null:this[cn][r].value}getAll(e){Je.brandCheck(this,n);let t="FormData.getAll";return Je.argumentLengthCheck(arguments,1,t),e=Je.converters.USVString(e,t,"name"),this[cn].filter(r=>r.name===e).map(r=>r.value)}has(e){Je.brandCheck(this,n);let t="FormData.has";return Je.argumentLengthCheck(arguments,1,t),e=Je.converters.USVString(e,t,"name"),this[cn].findIndex(r=>r.name===e)!==-1}set(e,t,r=void 0){Je.brandCheck(this,n);let i="FormData.set";if(Je.argumentLengthCheck(arguments,2,i),arguments.length===3&&!yf(t))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Je.converters.USVString(e,i,"name"),t=yf(t)?Je.converters.Blob(t,i,"name",{strict:!1}):Je.converters.USVString(t,i,"name"),r=arguments.length===3?Je.converters.USVString(r,i,"name"):void 0;let s=my(e,t,r),o=this[cn].findIndex(a=>a.name===e);o!==-1?this[cn]=[...this[cn].slice(0,o),s,...this[cn].slice(o+1).filter(a=>a.name!==e)]:this[cn].push(s)}[EN.inspect.custom](e,t){let r=this[cn].reduce((s,o)=>(s[o.name]?Array.isArray(s[o.name])?s[o.name].push(o.value):s[o.name]=[s[o.name],o.value]:s[o.name]=o.value,s),{__proto__:null});t.depth??=e,t.colors??=!0;let i=EN.formatWithOptions(t,r);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Sj("FormData",qu,cn,"name","value");Object.defineProperties(qu.prototype,{append:oc,delete:oc,get:oc,getAll:oc,has:oc,set:oc,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function my(n,e,t){if(typeof e!="string"){if(bj(e)||(e=e instanceof Blob?new CN([e],"blob",{type:e.type}):new mN(e,"blob",{type:e.type})),t!==void 0){let r={type:e.type,lastModified:e.lastModified};e=e instanceof IN?new CN([e],t,r):new mN(e,t,r)}}return{name:n,value:e}}yN.exports={FormData:qu,makeEntry:my}});var SN=B((xwe,_N)=>{"use strict";var{isUSVString:BN,bufferToLowerCasedHeaderName:Tj}=fe(),{utf8DecodeBytes:Dj}=Un(),{HTTP_TOKEN_CODEPOINTS:Rj,isomorphicDecode:wN}=Cn(),{isFileLike:kj}=py(),{makeEntry:Nj}=Hu(),Bf=T("assert"),{File:Mj}=T("buffer"),Fj=globalThis.File??Mj,Lj=Buffer.from('form-data; name="'),QN=Buffer.from("; filename"),xj=Buffer.from("--"),Oj=Buffer.from(`--\r
`);function Uj(n){for(let e=0;e<n.length;++e)if(n.charCodeAt(e)&-128)return!1;return!0}function Pj(n){let e=n.length;if(e<27||e>70)return!1;for(let t=0;t<e;++t){let r=n.charCodeAt(t);if(!(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||r===39||r===45||r===95))return!1}return!0}function Vj(n,e){Bf(e!=="failure"&&e.essence==="multipart/form-data");let t=e.parameters.get("boundary");if(t===void 0)return"failure";let r=Buffer.from(`--${t}`,"utf8"),i=[],s={position:0};for(n[0]===13&&n[1]===10&&(s.position+=2);;){if(n.subarray(s.position,s.position+r.length).equals(r))s.position+=r.length;else return"failure";if(s.position===n.length-2&&wf(n,xj,s)||s.position===n.length-4&&wf(n,Oj,s))return i;if(n[s.position]!==13||n[s.position+1]!==10)return"failure";s.position+=2;let o=Gj(n,s);if(o==="failure")return"failure";let{name:a,filename:c,contentType:l,encoding:u}=o;s.position+=2;let h;{let d=n.indexOf(r.subarray(2),s.position);if(d===-1)return"failure";h=n.subarray(s.position,d-4),s.position+=h.length,u==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(n[s.position]!==13||n[s.position+1]!==10)return"failure";s.position+=2;let A;c!==null?(l??="text/plain",Uj(l)||(l=""),A=new Fj([h],c,{type:l})):A=Dj(Buffer.from(h)),Bf(BN(a)),Bf(typeof A=="string"&&BN(A)||kj(A)),i.push(Nj(a,A,c))}}function Gj(n,e){let t=null,r=null,i=null,s=null;for(;;){if(n[e.position]===13&&n[e.position+1]===10)return t===null?"failure":{name:t,filename:r,contentType:i,encoding:s};let o=ac(a=>a!==10&&a!==13&&a!==58,n,e);if(o=Ey(o,!0,!0,a=>a===9||a===32),!Rj.test(o.toString())||n[e.position]!==58)return"failure";switch(e.position++,ac(a=>a===32||a===9,n,e),Tj(o)){case"content-disposition":{if(t=r=null,!wf(n,Lj,e)||(e.position+=17,t=vN(n,e),t===null))return"failure";if(wf(n,QN,e)){let a=e.position+QN.length;if(n[a]===42&&(e.position+=1,a+=1),n[a]!==61||n[a+1]!==34||(e.position+=12,r=vN(n,e),r===null))return"failure"}break}case"content-type":{let a=ac(c=>c!==10&&c!==13,n,e);a=Ey(a,!1,!0,c=>c===9||c===32),i=wN(a);break}case"content-transfer-encoding":{let a=ac(c=>c!==10&&c!==13,n,e);a=Ey(a,!1,!0,c=>c===9||c===32),s=wN(a);break}default:ac(a=>a!==10&&a!==13,n,e)}if(n[e.position]!==13&&n[e.position+1]!==10)return"failure";e.position+=2}}function vN(n,e){Bf(n[e.position-1]===34);let t=ac(r=>r!==10&&r!==13&&r!==34,n,e);return n[e.position]!==34?null:(e.position++,t=new TextDecoder().decode(t).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),t)}function ac(n,e,t){let r=t.position;for(;r<e.length&&n(e[r]);)++r;return e.subarray(t.position,t.position=r)}function Ey(n,e,t,r){let i=0,s=n.length-1;if(e)for(;i<n.length&&r(n[i]);)i++;if(t)for(;s>0&&r(n[s]);)s--;return i===0&&s===n.length-1?n:n.subarray(i,s+1)}function wf(n,e,t){if(n.length<e.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[t.position+r])return!1;return!0}_N.exports={multipartFormDataParser:Vj,validateBoundary:Pj}});var Wu=B((Owe,NN)=>{"use strict";var Yu=fe(),{ReadableStreamFrom:qj,isBlobLike:bN,isReadableStreamLike:Hj,readableStreamClose:Yj,createDeferredPromise:Wj,fullyReadBody:Jj,extractMimeType:zj,utf8DecodeBytes:RN}=Un(),{FormData:TN}=Hu(),{kState:lc}=ws(),{webidl:Kj}=Gt(),{Blob:jj}=T("buffer"),Cy=T("assert"),{isErrored:$j}=fe(),{isArrayBuffer:Xj}=T("util/types"),{serializeAMimeType:Zj}=Cn(),{multipartFormDataParser:e8}=SN(),Qf=new TextEncoder;function kN(n,e=!1){let t=null;if(n instanceof ReadableStream)t=n;else if(bN(n))t=n.stream();else{let c;t=new ReadableStream({pull(l){return I(this,null,function*(){let u=typeof i=="string"?Qf.encode(i):i;u.byteLength&&l.enqueue(u),queueMicrotask(()=>Yj(l))})},start(){},type:"bytes"})}Cy(Hj(t));let r=null,i=null,s=null,o=null;if(typeof n=="string")i=n,o="text/plain;charset=UTF-8";else if(n instanceof URLSearchParams)i=n.toString(),o="application/x-www-form-urlencoded;charset=UTF-8";else if(Xj(n))i=new Uint8Array(n.slice());else if(ArrayBuffer.isView(n))i=new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength));else if(Yu.isFormDataLike(n)){let c=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`,l=`--${c}\r
Content-Disposition: form-data`;let u=y=>y.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),h=y=>y.replace(/\r?\n|\r/g,`\r
`),A=[],d=new Uint8Array([13,10]);s=0;let C=!1;for(let[y,_]of n)if(typeof _=="string"){let S=Qf.encode(l+`; name="${u(h(y))}"\r
\r
${h(_)}\r
`);A.push(S),s+=S.byteLength}else{let S=Qf.encode(`${l}; name="${u(h(y))}"`+(_.name?`; filename="${u(_.name)}"`:"")+`\r
Content-Type: ${_.type||"application/octet-stream"}\r
\r
`);A.push(S,_,d),typeof _.size=="number"?s+=S.byteLength+_.size+d.byteLength:C=!0}let m=Qf.encode(`--${c}--`);A.push(m),s+=m.byteLength,C&&(s=null),i=n,r=function(){return Ui(this,null,function*(){for(let y of A)y.stream?yield*ps(y.stream()):yield y})},o=`multipart/form-data; boundary=${c}`}else if(bN(n))i=n,s=n.size,n.type&&(o=n.type);else if(typeof n[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(Yu.isDisturbed(n)||n.locked)throw new TypeError("Response body object should not be disturbed or locked");t=n instanceof ReadableStream?n:qj(n)}if((typeof i=="string"||Yu.isBuffer(i))&&(s=Buffer.byteLength(i)),r!=null){let l,c;t=new ReadableStream({start(){return I(this,null,function*(){c=r(n)[Symbol.asyncIterator]()})},pull(u){return I(this,null,function*(){let{value:h,done:A}=yield c.next();if(A)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!$j(t)){let d=new Uint8Array(h);d.byteLength&&u.enqueue(d)}return u.desiredSize>0})},cancel(u){return I(this,null,function*(){yield c.return()})},type:"bytes"})}return[{stream:t,source:i,length:s},o]}function t8(n,e=!1){return n instanceof ReadableStream&&(Cy(!Yu.isDisturbed(n),"The body has already been consumed."),Cy(!n.locked,"The stream is locked.")),kN(n,e)}function n8(n){let[e,t]=n.stream.tee();return n.stream=e,{stream:t,length:n.length,source:n.source}}function r8(n){if(n.aborted)throw new DOMException("The operation was aborted.","AbortError")}function i8(n){return{blob(){return cc(this,t=>{let r=DN(this);return r===null?r="":r&&(r=Zj(r)),new jj([t],{type:r})},n)},arrayBuffer(){return cc(this,t=>new Uint8Array(t).buffer,n)},text(){return cc(this,RN,n)},json(){return cc(this,a8,n)},formData(){return cc(this,t=>{let r=DN(this);if(r!==null)switch(r.essence){case"multipart/form-data":{let i=e8(t,r);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new TN;return s[lc]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(t.toString()),s=new TN;for(let[o,a]of i)s.append(o,a);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},n)},bytes(){return cc(this,t=>new Uint8Array(t),n)}}}function s8(n){Object.assign(n.prototype,i8(n))}function cc(n,e,t){return I(this,null,function*(){if(Kj.brandCheck(n,t),o8(n[lc].body))throw new TypeError("Body is unusable: Body has already been read");r8(n[lc]);let r=Wj(),i=o=>r.reject(o),s=o=>{try{r.resolve(e(o))}catch(a){i(a)}};return n[lc].body==null?(s(Buffer.allocUnsafe(0)),r.promise):(yield Jj(n[lc].body,s,i),r.promise)})}function o8(n){return n!=null&&(n.stream.locked||Yu.isDisturbed(n.stream))}function a8(n){return JSON.parse(RN(n))}function DN(n){let e=n[lc].headersList,t=zj(e);return t==="failure"?null:t}NN.exports={extractBody:kN,safelyExtractBody:t8,cloneBody:n8,mixinBody:s8}});var qN=B((Pwe,GN)=>{"use strict";var ee=T("assert"),oe=fe(),{channels:MN}=Xa(),Iy=kk(),{RequestContentLengthMismatchError:xo,ResponseContentLengthMismatchError:c8,RequestAbortedError:UN,HeadersTimeoutError:l8,HeadersOverflowError:u8,SocketError:Df,InformationalError:uc,BodyTimeoutError:h8,HTTPParserError:A8,ResponseExceededMaxSizeError:d8}=Me(),{kUrl:PN,kReset:In,kClient:Qy,kParser:ct,kBlocking:zu,kRunning:Jt,kPending:f8,kSize:FN,kWriting:vs,kQueue:Sr,kNoRef:Ju,kKeepAliveDefaultTimeout:g8,kHostHeader:p8,kPendingIdx:m8,kRunningIdx:rr,kError:ir,kPipelining:bf,kSocket:hc,kKeepAliveTimeoutValue:Rf,kMaxHeadersSize:yy,kKeepAliveMaxTimeout:E8,kKeepAliveTimeoutThreshold:C8,kHeadersTimeout:I8,kBodyTimeout:y8,kStrictContentLength:vy,kMaxRequests:LN,kCounter:B8,kMaxResponseSize:w8,kOnError:Q8,kResume:Qs,kHTTPContext:VN}=Xe(),li=Mk(),v8=Buffer.alloc(0),vf=Buffer[Symbol.species],_f=oe.addListener,_8=oe.removeAllListeners,By;function S8(){return I(this,null,function*(){let n=process.env.JEST_WORKER_ID?sy():void 0,e;try{e=yield WebAssembly.compile(xk())}catch{e=yield WebAssembly.compile(n||sy())}return yield WebAssembly.instantiate(e,{env:{wasm_on_url:(t,r,i)=>0,wasm_on_status:(t,r,i)=>{ee.strictEqual(St.ptr,t);let s=r-hi+ui.byteOffset;return St.onStatus(new vf(ui.buffer,s,i))||0},wasm_on_message_begin:t=>(ee.strictEqual(St.ptr,t),St.onMessageBegin()||0),wasm_on_header_field:(t,r,i)=>{ee.strictEqual(St.ptr,t);let s=r-hi+ui.byteOffset;return St.onHeaderField(new vf(ui.buffer,s,i))||0},wasm_on_header_value:(t,r,i)=>{ee.strictEqual(St.ptr,t);let s=r-hi+ui.byteOffset;return St.onHeaderValue(new vf(ui.buffer,s,i))||0},wasm_on_headers_complete:(t,r,i,s)=>(ee.strictEqual(St.ptr,t),St.onHeadersComplete(r,!!i,!!s)||0),wasm_on_body:(t,r,i)=>{ee.strictEqual(St.ptr,t);let s=r-hi+ui.byteOffset;return St.onBody(new vf(ui.buffer,s,i))||0},wasm_on_message_complete:t=>(ee.strictEqual(St.ptr,t),St.onMessageComplete()||0)}})})}var wy=null,_y=S8();_y.catch();var St=null,ui=null,Sf=0,hi=null,Ac=1,Tf=2,Sy=3,by=class{constructor(e,t,{exports:r}){ee(Number.isFinite(e[yy])&&e[yy]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(li.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[yy],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[w8]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(Iy.clearTimeout(this.timeout),e?(this.timeout=Iy.setTimeout(b8,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||(ee(this.ptr!=null),ee(St==null),this.llhttp.llhttp_resume(this.ptr),ee(this.timeoutType===Tf),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||v8),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){ee(this.ptr!=null),ee(St==null),ee(!this.paused);let{socket:t,llhttp:r}=this;e.length>Sf&&(hi&&r.free(hi),Sf=Math.ceil(e.length/4096)*4096,hi=r.malloc(Sf)),new Uint8Array(r.memory.buffer,hi,Sf).set(e);try{let i;try{ui=e,St=this,i=r.llhttp_execute(this.ptr,hi,e.length)}catch(o){throw o}finally{St=null,ui=null}let s=r.llhttp_get_error_pos(this.ptr)-hi;if(i===li.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===li.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(s));else if(i!==li.ERROR.OK){let o=r.llhttp_get_error_reason(this.ptr),a="";if(o){let c=new Uint8Array(r.memory.buffer,o).indexOf(0);a="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,o,c).toString()+")"}throw new A8(a,li.ERROR[i],e.slice(s))}}catch(i){oe.destroy(t,i)}}destroy(){ee(this.ptr!=null),ee(St==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,Iy.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed)return-1;let r=t[Sr][t[rr]];if(!r)return-1;r.onResponseStarted()}onHeaderField(e){let t=this.headers.length;t&1?this.headers[t-1]=Buffer.concat([this.headers[t-1],e]):this.headers.push(e),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(t&1)===1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];if(r.length===10){let i=oe.bufferToLowerCasedHeaderName(r);i==="keep-alive"?this.keepAlive+=e.toString():i==="connection"&&(this.connection+=e.toString())}else r.length===14&&oe.bufferToLowerCasedHeaderName(r)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&oe.destroy(this.socket,new u8)}onUpgrade(e){let{upgrade:t,client:r,socket:i,headers:s,statusCode:o}=this;ee(t);let a=r[Sr][r[rr]];ee(a),ee(!i.destroyed),ee(i===r[hc]),ee(!this.paused),ee(a.upgrade||a.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,ee(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[ct].destroy(),i[ct]=null,i[Qy]=null,i[ir]=null,_8(i),r[hc]=null,r[VN]=null,r[Sr][r[rr]++]=null,r.emit("disconnect",r[PN],[r],new uc("upgrade"));try{a.onUpgrade(o,s,i)}catch(c){oe.destroy(i,c)}r[Qs]()}onHeadersComplete(e,t,r){let{client:i,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return-1;let c=i[Sr][i[rr]];if(!c)return-1;if(ee(!this.upgrade),ee(this.statusCode<200),e===100)return oe.destroy(s,new Df("bad response",oe.getSocketInfo(s))),-1;if(t&&!c.upgrade)return oe.destroy(s,new Df("bad upgrade",oe.getSocketInfo(s))),-1;if(ee.strictEqual(this.timeoutType,Ac),this.statusCode=e,this.shouldKeepAlive=r||c.method==="HEAD"&&!s[In]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let u=c.bodyTimeout!=null?c.bodyTimeout:i[y8];this.setTimeout(u,Tf)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return ee(i[Jt]===1),this.upgrade=!0,2;if(t)return ee(i[Jt]===1),this.upgrade=!0,2;if(ee(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[bf]){let u=this.keepAlive?oe.parseKeepAliveTimeout(this.keepAlive):null;if(u!=null){let h=Math.min(u-i[C8],i[E8]);h<=0?s[In]=!0:i[Rf]=h}else i[Rf]=i[g8]}else s[In]=!0;let l=c.onHeaders(e,o,this.resume,a)===!1;return c.aborted?-1:c.method==="HEAD"||e<200?1:(s[zu]&&(s[zu]=!1,i[Qs]()),l?li.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:i,maxResponseSize:s}=this;if(r.destroyed)return-1;let o=t[Sr][t[rr]];if(ee(o),ee.strictEqual(this.timeoutType,Tf),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),ee(i>=200),s>-1&&this.bytesRead+e.length>s)return oe.destroy(r,new d8),-1;if(this.bytesRead+=e.length,o.onData(e)===!1)return li.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:i,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:c}=this;if(t.destroyed&&(!r||c))return-1;if(i)return;let l=e[Sr][e[rr]];if(ee(l),ee(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",ee(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(r<200)){if(l.method!=="HEAD"&&o&&a!==parseInt(o,10))return oe.destroy(t,new c8),-1;if(l.onComplete(s),e[Sr][e[rr]++]=null,t[vs])return ee.strictEqual(e[Jt],0),oe.destroy(t,new uc("reset")),li.ERROR.PAUSED;if(c){if(t[In]&&e[Jt]===0)return oe.destroy(t,new uc("reset")),li.ERROR.PAUSED;e[bf]==null||e[bf]===1?setImmediate(()=>e[Qs]()):e[Qs]()}else return oe.destroy(t,new uc("reset")),li.ERROR.PAUSED}}};function b8(n){let{socket:e,timeoutType:t,client:r}=n;t===Ac?(!e[vs]||e.writableNeedDrain||r[Jt]>1)&&(ee(!n.paused,"cannot be paused while waiting for headers"),oe.destroy(e,new l8)):t===Tf?n.paused||oe.destroy(e,new h8):t===Sy&&(ee(r[Jt]===0&&r[Rf]),oe.destroy(e,new uc("socket idle timeout")))}function T8(n,e){return I(this,null,function*(){n[hc]=e,wy||(wy=yield _y,_y=null),e[Ju]=!1,e[vs]=!1,e[In]=!1,e[zu]=!1,e[ct]=new by(n,e,wy),_f(e,"error",function(r){let i=this[ct];if(ee(r.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),r.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[ir]=r,this[Qy][Q8](r)}),_f(e,"readable",function(){let r=this[ct];r&&r.readMore()}),_f(e,"end",function(){let r=this[ct];if(r.statusCode&&!r.shouldKeepAlive){r.onMessageComplete();return}oe.destroy(this,new Df("other side closed",oe.getSocketInfo(this)))}),_f(e,"close",function(){let r=this[Qy],i=this[ct];i&&(!this[ir]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[ct].destroy(),this[ct]=null);let s=this[ir]||new Df("closed",oe.getSocketInfo(this));if(r[hc]=null,r[VN]=null,r.destroyed){ee(r[f8]===0);let o=r[Sr].splice(r[rr]);for(let a=0;a<o.length;a++){let c=o[a];oe.errorRequest(r,c,s)}}else if(r[Jt]>0&&s.code!=="UND_ERR_INFO"){let o=r[Sr][r[rr]];r[Sr][r[rr]++]=null,oe.errorRequest(r,o,s)}r[m8]=r[rr],ee(r[Jt]===0),r.emit("disconnect",r[PN],[r],s),r[Qs]()});let t=!1;return e.on("close",()=>{t=!0}),{version:"h1",defaultPipelining:1,write(...r){return k8(n,...r)},resume(){D8(n)},destroy(r,i){t?queueMicrotask(i):e.destroy(r).on("close",i)},get destroyed(){return e.destroyed},busy(r){return!!(e[vs]||e[In]||e[zu]||r&&(n[Jt]>0&&!r.idempotent||n[Jt]>0&&(r.upgrade||r.method==="CONNECT")||n[Jt]>0&&oe.bodyLength(r.body)!==0&&(oe.isStream(r.body)||oe.isAsyncIterable(r.body)||oe.isFormDataLike(r.body))))}}})}function D8(n){let e=n[hc];if(e&&!e.destroyed){if(n[FN]===0?!e[Ju]&&e.unref&&(e.unref(),e[Ju]=!0):e[Ju]&&e.ref&&(e.ref(),e[Ju]=!1),n[FN]===0)e[ct].timeoutType!==Sy&&e[ct].setTimeout(n[Rf],Sy);else if(n[Jt]>0&&e[ct].statusCode<200&&e[ct].timeoutType!==Ac){let t=n[Sr][n[rr]],r=t.headersTimeout!=null?t.headersTimeout:n[I8];e[ct].setTimeout(r,Ac)}}}function R8(n){return n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"&&n!=="TRACE"&&n!=="CONNECT"}function k8(n,e){let{method:t,path:r,host:i,upgrade:s,blocking:o,reset:a}=e,{body:c,headers:l,contentLength:u}=e,h=t==="PUT"||t==="POST"||t==="PATCH";if(oe.isFormDataLike(c)){By||(By=Wu().extractBody);let[y,_]=By(c);e.contentType==null&&l.push("content-type",_),c=y.stream,u=y.length}else oe.isBlobLike(c)&&e.contentType==null&&c.type&&l.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let A=oe.bodyLength(c);if(u=A??u,u===null&&(u=e.contentLength),u===0&&!h&&(u=null),R8(t)&&u>0&&e.contentLength!==null&&e.contentLength!==u){if(n[vy])return oe.errorRequest(n,e,new xo),!1;process.emitWarning(new xo)}let d=n[hc],C=y=>{e.aborted||e.completed||(oe.errorRequest(n,e,y||new UN),oe.destroy(c),oe.destroy(d,new uc("aborted")))};try{e.onConnect(C)}catch(y){oe.errorRequest(n,e,y)}if(e.aborted)return!1;t==="HEAD"&&(d[In]=!0),(s||t==="CONNECT")&&(d[In]=!0),a!=null&&(d[In]=a),n[LN]&&d[B8]++>=n[LN]&&(d[In]=!0),o&&(d[zu]=!0);let m=`${t} ${r} HTTP/1.1\r
`;if(typeof i=="string"?m+=`host: ${i}\r
`:m+=n[p8],s?m+=`connection: upgrade\r
upgrade: ${s}\r
`:n[bf]&&!d[In]?m+=`connection: keep-alive\r
`:m+=`connection: close\r
`,Array.isArray(l))for(let y=0;y<l.length;y+=2){let _=l[y+0],S=l[y+1];if(Array.isArray(S))for(let R=0;R<S.length;R++)m+=`${_}: ${S[R]}\r
`;else m+=`${_}: ${S}\r
`}return MN.sendHeaders.hasSubscribers&&MN.sendHeaders.publish({request:e,headers:m,socket:d}),!c||A===0?xN(C,null,n,e,d,u,m,h):oe.isBuffer(c)?xN(C,c,n,e,d,u,m,h):oe.isBlobLike(c)?typeof c.stream=="function"?ON(C,c.stream(),n,e,d,u,m,h):M8(C,c,n,e,d,u,m,h):oe.isStream(c)?N8(C,c,n,e,d,u,m,h):oe.isIterable(c)?ON(C,c,n,e,d,u,m,h):ee(!1),!0}function N8(n,e,t,r,i,s,o,a){ee(s!==0||t[Jt]===0,"stream body cannot be pipelined");let c=!1,l=new kf({abort:n,socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o}),u=function(C){if(!c)try{!l.write(C)&&this.pause&&this.pause()}catch(m){oe.destroy(this,m)}},h=function(){c||e.resume&&e.resume()},A=function(){if(queueMicrotask(()=>{e.removeListener("error",d)}),!c){let C=new UN;queueMicrotask(()=>d(C))}},d=function(C){if(!c){if(c=!0,ee(i.destroyed||i[vs]&&t[Jt]<=1),i.off("drain",h).off("error",d),e.removeListener("data",u).removeListener("end",d).removeListener("close",A),!C)try{l.end()}catch(m){C=m}l.destroy(C),C&&(C.code!=="UND_ERR_INFO"||C.message!=="reset")?oe.destroy(e,C):oe.destroy(e)}};e.on("data",u).on("end",d).on("error",d).on("close",A),e.resume&&e.resume(),i.on("drain",h).on("error",d),e.errorEmitted??e.errored?setImmediate(()=>d(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>d(null)),(e.closeEmitted??e.closed)&&setImmediate(A)}function xN(n,e,t,r,i,s,o,a){try{e?oe.isBuffer(e)&&(ee(s===e.byteLength,"buffer body must have content length"),i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(e),i.uncork(),r.onBodySent(e),a||(i[In]=!0)):s===0?i.write(`${o}content-length: 0\r
\r
`,"latin1"):(ee(s===null,"no body must not have content length"),i.write(`${o}\r
`,"latin1")),r.onRequestSent(),t[Qs]()}catch(c){n(c)}}function M8(n,e,t,r,i,s,o,a){return I(this,null,function*(){ee(s===e.size,"blob body must have content length");try{if(s!=null&&s!==e.size)throw new xo;let c=Buffer.from(yield e.arrayBuffer());i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),r.onBodySent(c),r.onRequestSent(),a||(i[In]=!0),t[Qs]()}catch(c){n(c)}})}function ON(n,e,t,r,i,s,o,a){return I(this,null,function*(){ee(s!==0||t[Jt]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let y=c;c=null,y()}}let u=()=>new Promise((y,_)=>{ee(c===null),i[ir]?_(i[ir]):c=y});i.on("close",l).on("drain",l);let h=new kf({abort:n,socket:i,request:r,contentLength:s,client:t,expectsPayload:a,header:o});try{try{for(var A=Xr(e),d,C,m;d=!(C=yield A.next()).done;d=!1){let y=C.value;if(i[ir])throw i[ir];h.write(y)||(yield u())}}catch{m=[C]}finally{try{d&&(C=A.return)&&(yield C.call(A))}finally{if(m)throw m[0]}}h.end()}catch(y){h.destroy(y)}finally{i.off("close",l).off("drain",l)}})}var kf=class{constructor({abort:e,socket:t,request:r,contentLength:i,client:s,expectsPayload:o,header:a}){this.socket=t,this.request=r,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=o,this.header=a,this.abort=e,t[vs]=!0}write(e){let{socket:t,request:r,contentLength:i,client:s,bytesWritten:o,expectsPayload:a,header:c}=this;if(t[ir])throw t[ir];if(t.destroyed)return!1;let l=Buffer.byteLength(e);if(!l)return!0;if(i!==null&&o+l>i){if(s[vy])throw new xo;process.emitWarning(new xo)}t.cork(),o===0&&(a||(t[In]=!0),i===null?t.write(`${c}transfer-encoding: chunked\r
`,"latin1"):t.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&t.write(`\r
${l.toString(16)}\r
`,"latin1"),this.bytesWritten+=l;let u=t.write(e);return t.uncork(),r.onBodySent(e),u||t[ct].timeout&&t[ct].timeoutType===Ac&&t[ct].timeout.refresh&&t[ct].timeout.refresh(),u}end(){let{socket:e,contentLength:t,client:r,bytesWritten:i,expectsPayload:s,header:o,request:a}=this;if(a.onRequestSent(),e[vs]=!1,e[ir])throw e[ir];if(!e.destroyed){if(i===0?s?e.write(`${o}content-length: 0\r
\r
`,"latin1"):e.write(`${o}\r
`,"latin1"):t===null&&e.write(`\r
0\r
\r
`,"latin1"),t!==null&&i!==t){if(r[vy])throw new xo;process.emitWarning(new xo)}e[ct].timeout&&e[ct].timeoutType===Ac&&e[ct].timeout.refresh&&e[ct].timeout.refresh(),r[Qs]()}}destroy(e){let{socket:t,client:r,abort:i}=this;t[vs]=!1,e&&(ee(r[Jt]<=1,"pipeline should only contain this request"),i(e))}};GN.exports=T8});var jN=B((Gwe,KN)=>{"use strict";var Tr=T("assert"),{pipeline:F8}=T("stream"),we=fe(),{RequestContentLengthMismatchError:Ty,RequestAbortedError:Dy,SocketError:Nf,InformationalError:Ry}=Me(),{kUrl:ky,kReset:Ff,kClient:fc,kRunning:Ny,kPending:L8,kQueue:x8,kPendingIdx:O8,kRunningIdx:HN,kError:br,kSocket:qt,kStrictContentLength:U8,kOnError:Lf,kMaxConcurrentStreams:P8,kHTTP2Session:dc,kResume:Ku}=Xe(),Wi=Symbol("open streams"),YN=!1,Mf;try{Mf=T("http2")}catch{Mf={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:V8,HTTP2_HEADER_METHOD:G8,HTTP2_HEADER_PATH:q8,HTTP2_HEADER_SCHEME:H8,HTTP2_HEADER_CONTENT_LENGTH:Y8,HTTP2_HEADER_EXPECT:W8,HTTP2_HEADER_STATUS:WN}}=Mf;function J8(n){let e=[];for(let[t,r]of Object.entries(n))if(Array.isArray(r))for(let i of r)e.push(Buffer.from(t),Buffer.from(i));else e.push(Buffer.from(t),Buffer.from(r));return e}function z8(n,e){return I(this,null,function*(){n[qt]=e,YN||(YN=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let t=Mf.connect(n[ky],{createConnection:()=>e,peerMaxConcurrentStreams:n[P8]});t[Wi]=0,t[fc]=n,t[qt]=e,we.addListener(t,"error",K8),we.addListener(t,"frameError",j8),we.addListener(t,"end",$8),we.addListener(t,"goaway",X8),we.addListener(t,"close",function(){let{[fc]:i}=this,{[qt]:s}=i,o=this[qt][br]||this[br]||new Nf("closed",we.getSocketInfo(s));if(i[dc]=null,i.destroyed){Tr(i[L8]===0);let a=i[x8].splice(i[HN]);for(let c=0;c<a.length;c++){let l=a[c];we.errorRequest(i,l,o)}}}),t.unref(),n[dc]=t,e[dc]=t,we.addListener(e,"error",function(i){Tr(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[br]=i,this[fc][Lf](i)}),we.addListener(e,"end",function(){we.destroy(this,new Nf("other side closed",we.getSocketInfo(this)))}),we.addListener(e,"close",function(){let i=this[br]||new Nf("closed",we.getSocketInfo(this));n[qt]=null,this[dc]!=null&&this[dc].destroy(i),n[O8]=n[HN],Tr(n[Ny]===0),n.emit("disconnect",n[ky],[n],i),n[Ku]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h2",defaultPipelining:1/0,write(...i){e5(n,...i)},resume(){},destroy(i,s){r?queueMicrotask(s):e.destroy(i).on("close",s)},get destroyed(){return e.destroyed},busy(){return!1}}})}function K8(n){Tr(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[qt][br]=n,this[fc][Lf](n)}function j8(n,e,t){if(t===0){let r=new Ry(`HTTP/2: "frameError" received - type ${n}, code ${e}`);this[qt][br]=r,this[fc][Lf](r)}}function $8(){let n=new Nf("other side closed",we.getSocketInfo(this[qt]));this.destroy(n),we.destroy(this[qt],n)}function X8(n){let e=new Dy(`HTTP/2: "GOAWAY" frame received with code ${n}`);this[qt][br]=e,this[fc][Lf](e),this.unref(),we.destroy(this[qt],e)}function Z8(n){return n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"&&n!=="TRACE"&&n!=="CONNECT"}function e5(n,e){let t=n[dc],{body:r,method:i,path:s,host:o,upgrade:a,expectContinue:c,signal:l,headers:u}=e;if(a)return we.errorRequest(n,e,new Error("Upgrade not supported for H2")),!1;if(e.aborted)return!1;let h={};for(let D=0;D<u.length;D+=2){let N=u[D+0],x=u[D+1];if(Array.isArray(x))for(let Q=0;Q<x.length;Q++)h[N]?h[N]+=`,${x[Q]}`:h[N]=x[Q];else h[N]=x}let A,{hostname:d,port:C}=n[ky];h[V8]=o||`${d}${C?`:${C}`:""}`,h[G8]=i;let m=D=>{e.aborted||e.completed||(D=D||new Dy,we.errorRequest(n,e,D),A!=null&&we.destroy(A,D),we.destroy(r,D))};try{e.onConnect(m)}catch(D){we.errorRequest(n,e,D)}if(i==="CONNECT")return t.ref(),A=t.request(h,{endStream:!1,signal:l}),A.id&&!A.pending?(e.onUpgrade(null,null,A),++t[Wi]):A.once("ready",()=>{e.onUpgrade(null,null,A),++t[Wi]}),A.once("close",()=>{t[Wi]-=1,t[Wi]===0&&t.unref()}),!0;h[q8]=s,h[H8]="https";let y=i==="PUT"||i==="POST"||i==="PATCH";r&&typeof r.read=="function"&&r.read(0);let _=we.bodyLength(r);if(_==null&&(_=e.contentLength),(_===0||!y)&&(_=null),Z8(i)&&_>0&&e.contentLength!=null&&e.contentLength!==_){if(n[U8])return we.errorRequest(n,e,new Ty),!1;process.emitWarning(new Ty)}_!=null&&(Tr(r,"no body must not have content length"),h[Y8]=`${_}`),t.ref();let S=i==="GET"||i==="HEAD"||r===null;return c?(h[W8]="100-continue",A=t.request(h,{endStream:S,signal:l}),A.once("continue",R)):(A=t.request(h,{endStream:S,signal:l}),R()),++t[Wi],A.once("response",D=>{let Q=D,{[WN]:N}=Q,x=Dt(Q,[MD(WN)]);if(e.onResponseStarted(),e.aborted){let E=new Dy;we.errorRequest(n,e,E),we.destroy(A,E);return}e.onHeaders(Number(N),J8(x),A.resume.bind(A),"")===!1&&A.pause(),A.on("data",E=>{e.onData(E)===!1&&A.pause()})}),A.once("end",()=>{if(A.state?.state==null||A.state.state<6){e.onComplete([]);return}t[Wi]===0&&t.unref(),m(new Ry("HTTP/2: stream half-closed (remote)"))}),A.once("close",()=>{t[Wi]-=1,t[Wi]===0&&t.unref()}),A.once("error",function(D){m(D)}),A.once("frameError",(D,N)=>{m(new Ry(`HTTP/2: "frameError" received - type ${D}, code ${N}`))}),!0;function R(){!r||_===0?JN(m,A,null,n,e,n[qt],_,y):we.isBuffer(r)?JN(m,A,r,n,e,n[qt],_,y):we.isBlobLike(r)?typeof r.stream=="function"?zN(m,A,r.stream(),n,e,n[qt],_,y):n5(m,A,r,n,e,n[qt],_,y):we.isStream(r)?t5(m,n[qt],y,A,r,n,e,_):we.isIterable(r)?zN(m,A,r,n,e,n[qt],_,y):Tr(!1)}}function JN(n,e,t,r,i,s,o,a){try{t!=null&&we.isBuffer(t)&&(Tr(o===t.byteLength,"buffer body must have content length"),e.cork(),e.write(t),e.uncork(),e.end(),i.onBodySent(t)),a||(s[Ff]=!0),i.onRequestSent(),r[Ku]()}catch(c){n(c)}}function t5(n,e,t,r,i,s,o,a){Tr(a!==0||s[Ny]===0,"stream body cannot be pipelined");let c=F8(i,r,u=>{u?(we.destroy(c,u),n(u)):(we.removeAllListeners(c),o.onRequestSent(),t||(e[Ff]=!0),s[Ku]())});we.addListener(c,"data",l);function l(u){o.onBodySent(u)}}function n5(n,e,t,r,i,s,o,a){return I(this,null,function*(){Tr(o===t.size,"blob body must have content length");try{if(o!=null&&o!==t.size)throw new Ty;let c=Buffer.from(yield t.arrayBuffer());e.cork(),e.write(c),e.uncork(),e.end(),i.onBodySent(c),i.onRequestSent(),a||(s[Ff]=!0),r[Ku]()}catch(c){n(c)}})}function zN(n,e,t,r,i,s,o,a){return I(this,null,function*(){Tr(o!==0||r[Ny]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let m=c;c=null,m()}}let u=()=>new Promise((m,y)=>{Tr(c===null),s[br]?y(s[br]):c=m});e.on("close",l).on("drain",l);try{try{for(var h=Xr(t),A,d,C;A=!(d=yield h.next()).done;A=!1){let m=d.value;if(s[br])throw s[br];let y=e.write(m);i.onBodySent(m),y||(yield u())}}catch{C=[d]}finally{try{A&&(d=h.return)&&(yield d.call(h))}finally{if(C)throw C[0]}}e.end(),i.onRequestSent(),a||(s[Ff]=!0),r[Ku]()}catch(m){n(m)}finally{e.off("close",l).off("drain",l)}})}KN.exports=z8});var Of=B((Hwe,ZN)=>{"use strict";var Ai=fe(),{kBodyUsed:ju}=Xe(),Fy=T("assert"),{InvalidArgumentError:r5}=Me(),i5=T("events"),s5=[300,301,302,303,307,308],$N=Symbol("body"),xf=class{constructor(e){this[$N]=e,this[ju]=!1}[Symbol.asyncIterator](){return Ui(this,null,function*(){Fy(!this[ju],"disturbed"),this[ju]=!0,yield*ps(this[$N])})}},My=class{constructor(e,t,r,i){if(t!=null&&(!Number.isInteger(t)||t<0))throw new r5("maxRedirections must be a positive number");Ai.validateHandler(i,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts=q(k({},r),{maxRedirections:0}),this.maxRedirections=t,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Ai.isStream(this.opts.body)?(Ai.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Fy(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[ju]=!1,i5.prototype.on.call(this.opts.body,"data",function(){this[ju]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new xf(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Ai.isIterable(this.opts.body)&&(this.opts.body=new xf(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,i){if(this.location=this.history.length>=this.maxRedirections||Ai.isDisturbed(this.opts.body)?null:o5(e,t),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,i);let{origin:s,pathname:o,search:a}=Ai.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=a?`${o}${a}`:o;this.opts.headers=a5(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function o5(n,e){if(s5.indexOf(n)===-1)return null;for(let t=0;t<e.length;t+=2)if(e[t].length===8&&Ai.headerNameToString(e[t])==="location")return e[t+1]}function XN(n,e,t){if(n.length===4)return Ai.headerNameToString(n)==="host";if(e&&Ai.headerNameToString(n).startsWith("content-"))return!0;if(t&&(n.length===13||n.length===6||n.length===19)){let r=Ai.headerNameToString(n);return r==="authorization"||r==="cookie"||r==="proxy-authorization"}return!1}function a5(n,e,t){let r=[];if(Array.isArray(n))for(let i=0;i<n.length;i+=2)XN(n[i],e,t)||r.push(n[i],n[i+1]);else if(n&&typeof n=="object")for(let i of Object.keys(n))XN(i,e,t)||r.push(i,n[i]);else Fy(n==null,"headers must be an object or an array");return r}ZN.exports=My});var Uf=B((Wwe,eM)=>{"use strict";var c5=Of();function l5({maxRedirections:n}){return e=>function(r,i){let{maxRedirections:s=n}=r;if(!s)return e(r,i);let o=new c5(e,s,r,i);return r=q(k({},r),{maxRedirections:0}),e(r,o)}}eM.exports=l5});var rh=B((zwe,lM)=>{"use strict";var Ji=T("assert"),sM=T("net"),u5=T("http"),Oo=fe(),{channels:gc}=Xa(),h5=Qk(),A5=nc(),{InvalidArgumentError:ft,InformationalError:d5,ClientDestroyedError:f5}=Me(),g5=xu(),{kUrl:di,kServerName:_s,kClient:p5,kBusy:Ly,kConnect:m5,kResuming:Uo,kRunning:th,kPending:nh,kSize:eh,kQueue:Dr,kConnected:E5,kConnecting:pc,kNeedDrain:bs,kKeepAliveDefaultTimeout:tM,kHostHeader:C5,kPendingIdx:Rr,kRunningIdx:zi,kError:I5,kPipelining:Pf,kKeepAliveTimeoutValue:y5,kMaxHeadersSize:B5,kKeepAliveMaxTimeout:w5,kKeepAliveTimeoutThreshold:Q5,kHeadersTimeout:v5,kBodyTimeout:_5,kStrictContentLength:S5,kConnector:$u,kMaxRedirections:b5,kMaxRequests:xy,kCounter:T5,kClose:D5,kDestroy:R5,kDispatch:k5,kInterceptors:nM,kLocalAddress:Xu,kMaxResponseSize:N5,kOnError:M5,kHTTPContext:gt,kMaxConcurrentStreams:F5,kResume:Zu}=Xe(),L5=qN(),x5=jN(),rM=!1,Ss=Symbol("kClosedResolve");function oM(n){return n[Pf]??n[gt]?.defaultPipelining??1}var Oy=class extends A5{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:i,socketTimeout:s,requestTimeout:o,connectTimeout:a,bodyTimeout:c,idleTimeout:l,keepAlive:u,keepAliveTimeout:h,maxKeepAliveTimeout:A,keepAliveMaxTimeout:d,keepAliveTimeoutThreshold:C,socketPath:m,pipelining:y,tls:_,strictContentLength:S,maxCachedSessions:R,maxRedirections:D,connect:N,maxRequestsPerClient:x,localAddress:Q,maxResponseSize:E,autoSelectFamily:w,autoSelectFamilyAttemptTimeout:v,maxConcurrentStreams:g,allowH2:b}={}){if(super(),u!==void 0)throw new ft("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new ft("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(o!==void 0)throw new ft("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(l!==void 0)throw new ft("unsupported idleTimeout, use keepAliveTimeout instead");if(A!==void 0)throw new ft("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(r!=null&&!Number.isFinite(r))throw new ft("invalid maxHeaderSize");if(m!=null&&typeof m!="string")throw new ft("invalid socketPath");if(a!=null&&(!Number.isFinite(a)||a<0))throw new ft("invalid connectTimeout");if(h!=null&&(!Number.isFinite(h)||h<=0))throw new ft("invalid keepAliveTimeout");if(d!=null&&(!Number.isFinite(d)||d<=0))throw new ft("invalid keepAliveMaxTimeout");if(C!=null&&!Number.isFinite(C))throw new ft("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new ft("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new ft("bodyTimeout must be a positive integer or zero");if(N!=null&&typeof N!="function"&&typeof N!="object")throw new ft("connect must be a function or an object");if(D!=null&&(!Number.isInteger(D)||D<0))throw new ft("maxRedirections must be a positive number");if(x!=null&&(!Number.isInteger(x)||x<0))throw new ft("maxRequestsPerClient must be a positive number");if(Q!=null&&(typeof Q!="string"||sM.isIP(Q)===0))throw new ft("localAddress must be valid string IP address");if(E!=null&&(!Number.isInteger(E)||E<-1))throw new ft("maxResponseSize must be a positive number");if(v!=null&&(!Number.isInteger(v)||v<-1))throw new ft("autoSelectFamilyAttemptTimeout must be a positive number");if(b!=null&&typeof b!="boolean")throw new ft("allowH2 must be a valid boolean value");if(g!=null&&(typeof g!="number"||g<1))throw new ft("maxConcurrentStreams must be a positive integer, greater than 0");typeof N!="function"&&(N=g5(k(k(q(k({},_),{maxCachedSessions:R,allowH2:b,socketPath:m,timeout:a}),w?{autoSelectFamily:w,autoSelectFamilyAttemptTimeout:v}:void 0),N))),t?.Client&&Array.isArray(t.Client)?(this[nM]=t.Client,rM||(rM=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[nM]=[O5({maxRedirections:D})],this[di]=Oo.parseOrigin(e),this[$u]=N,this[Pf]=y??1,this[B5]=r||u5.maxHeaderSize,this[tM]=h??4e3,this[w5]=d??6e5,this[Q5]=C??2e3,this[y5]=this[tM],this[_s]=null,this[Xu]=Q??null,this[Uo]=0,this[bs]=0,this[C5]=`host: ${this[di].hostname}${this[di].port?`:${this[di].port}`:""}\r
`,this[_5]=c??3e5,this[v5]=i??3e5,this[S5]=S??!0,this[b5]=D,this[xy]=x,this[Ss]=null,this[N5]=E>-1?E:-1,this[F5]=g??100,this[gt]=null,this[Dr]=[],this[zi]=0,this[Rr]=0,this[Zu]=f=>Uy(this,f),this[M5]=f=>aM(this,f)}get pipelining(){return this[Pf]}set pipelining(e){this[Pf]=e,this[Zu](!0)}get[nh](){return this[Dr].length-this[Rr]}get[th](){return this[Rr]-this[zi]}get[eh](){return this[Dr].length-this[zi]}get[E5](){return!!this[gt]&&!this[pc]&&!this[gt].destroyed}get[Ly](){return!!(this[gt]?.busy(null)||this[eh]>=(oM(this)||1)||this[nh]>0)}[m5](e){cM(this),this.once("connect",e)}[k5](e,t){let r=e.origin||this[di].origin,i=new h5(r,e,t);return this[Dr].push(i),this[Uo]||(Oo.bodyLength(i.body)==null&&Oo.isIterable(i.body)?(this[Uo]=1,queueMicrotask(()=>Uy(this))):this[Zu](!0)),this[Uo]&&this[bs]!==2&&this[Ly]&&(this[bs]=2),this[bs]<2}[D5](){return I(this,null,function*(){return new Promise(e=>{this[eh]?this[Ss]=e:e(null)})})}[R5](e){return I(this,null,function*(){return new Promise(t=>{let r=this[Dr].splice(this[Rr]);for(let s=0;s<r.length;s++){let o=r[s];Oo.errorRequest(this,o,e)}let i=()=>{this[Ss]&&(this[Ss](),this[Ss]=null),t(null)};this[gt]?(this[gt].destroy(e,i),this[gt]=null):queueMicrotask(i),this[Zu]()})})}},O5=Uf();function aM(n,e){if(n[th]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){Ji(n[Rr]===n[zi]);let t=n[Dr].splice(n[zi]);for(let r=0;r<t.length;r++){let i=t[r];Oo.errorRequest(n,i,e)}Ji(n[eh]===0)}}function cM(n){return I(this,null,function*(){Ji(!n[pc]),Ji(!n[gt]);let{host:e,hostname:t,protocol:r,port:i}=n[di];if(t[0]==="["){let s=t.indexOf("]");Ji(s!==-1);let o=t.substring(1,s);Ji(sM.isIP(o)),t=o}n[pc]=!0,gc.beforeConnect.hasSubscribers&&gc.beforeConnect.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[gt]?.version,servername:n[_s],localAddress:n[Xu]},connector:n[$u]});try{let s=yield new Promise((o,a)=>{n[$u]({host:e,hostname:t,protocol:r,port:i,servername:n[_s],localAddress:n[Xu]},(c,l)=>{c?a(c):o(l)})});if(n.destroyed){Oo.destroy(s.on("error",()=>{}),new f5);return}Ji(s);try{n[gt]=s.alpnProtocol==="h2"?yield x5(n,s):yield L5(n,s)}catch(o){throw s.destroy().on("error",()=>{}),o}n[pc]=!1,s[T5]=0,s[xy]=n[xy],s[p5]=n,s[I5]=null,gc.connected.hasSubscribers&&gc.connected.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[gt]?.version,servername:n[_s],localAddress:n[Xu]},connector:n[$u],socket:s}),n.emit("connect",n[di],[n])}catch(s){if(n.destroyed)return;if(n[pc]=!1,gc.connectError.hasSubscribers&&gc.connectError.publish({connectParams:{host:e,hostname:t,protocol:r,port:i,version:n[gt]?.version,servername:n[_s],localAddress:n[Xu]},connector:n[$u],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(Ji(n[th]===0);n[nh]>0&&n[Dr][n[Rr]].servername===n[_s];){let o=n[Dr][n[Rr]++];Oo.errorRequest(n,o,s)}else aM(n,s);n.emit("connectionError",n[di],[n],s)}n[Zu]()})}function iM(n){n[bs]=0,n.emit("drain",n[di],[n])}function Uy(n,e){n[Uo]!==2&&(n[Uo]=2,U5(n,e),n[Uo]=0,n[zi]>256&&(n[Dr].splice(0,n[zi]),n[Rr]-=n[zi],n[zi]=0))}function U5(n,e){for(;;){if(n.destroyed){Ji(n[nh]===0);return}if(n[Ss]&&!n[eh]){n[Ss](),n[Ss]=null;return}if(n[gt]&&n[gt].resume(),n[Ly])n[bs]=2;else if(n[bs]===2){e?(n[bs]=1,queueMicrotask(()=>iM(n))):iM(n);continue}if(n[nh]===0||n[th]>=(oM(n)||1))return;let t=n[Dr][n[Rr]];if(n[di].protocol==="https:"&&n[_s]!==t.servername){if(n[th]>0)return;n[_s]=t.servername,n[gt]?.destroy(new d5("servername changed"),()=>{n[gt]=null,Uy(n)})}if(n[pc])return;if(!n[gt]){cM(n);return}if(n[gt].destroyed||n[gt].busy(t))return;!t.aborted&&n[gt].write(t)?n[Rr]++:n[Dr].splice(n[Rr],1)}}lM.exports=Oy});var Py=B(($we,uM)=>{"use strict";var Vf=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};uM.exports=class{constructor(){this.head=this.tail=new Vf}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new Vf),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),t}}});var AM=B((Xwe,hM)=>{"use strict";var{kFree:P5,kConnected:V5,kPending:G5,kQueued:q5,kRunning:H5,kSize:Y5}=Xe(),Po=Symbol("pool"),Vy=class{constructor(e){this[Po]=e}get connected(){return this[Po][V5]}get free(){return this[Po][P5]}get pending(){return this[Po][G5]}get queued(){return this[Po][q5]}get running(){return this[Po][H5]}get size(){return this[Po][Y5]}};hM.exports=Vy});var Jy=B((Zwe,BM)=>{"use strict";var W5=nc(),J5=Py(),{kConnected:Gy,kSize:dM,kRunning:fM,kPending:gM,kQueued:ih,kBusy:z5,kFree:K5,kUrl:j5,kClose:$5,kDestroy:X5,kDispatch:Z5}=Xe(),e6=AM(),yn=Symbol("clients"),ln=Symbol("needDrain"),sh=Symbol("queue"),qy=Symbol("closed resolve"),Hy=Symbol("onDrain"),pM=Symbol("onConnect"),mM=Symbol("onDisconnect"),EM=Symbol("onConnectionError"),Yy=Symbol("get dispatcher"),IM=Symbol("add client"),yM=Symbol("remove client"),CM=Symbol("stats"),Wy=class extends W5{constructor(){super(),this[sh]=new J5,this[yn]=[],this[ih]=0;let e=this;this[Hy]=function(r,i){let s=e[sh],o=!1;for(;!o;){let a=s.shift();if(!a)break;e[ih]--,o=!this.dispatch(a.opts,a.handler)}this[ln]=o,!this[ln]&&e[ln]&&(e[ln]=!1,e.emit("drain",r,[e,...i])),e[qy]&&s.isEmpty()&&Promise.all(e[yn].map(a=>a.close())).then(e[qy])},this[pM]=(t,r)=>{e.emit("connect",t,[e,...r])},this[mM]=(t,r,i)=>{e.emit("disconnect",t,[e,...r],i)},this[EM]=(t,r,i)=>{e.emit("connectionError",t,[e,...r],i)},this[CM]=new e6(this)}get[z5](){return this[ln]}get[Gy](){return this[yn].filter(e=>e[Gy]).length}get[K5](){return this[yn].filter(e=>e[Gy]&&!e[ln]).length}get[gM](){let e=this[ih];for(let{[gM]:t}of this[yn])e+=t;return e}get[fM](){let e=0;for(let{[fM]:t}of this[yn])e+=t;return e}get[dM](){let e=this[ih];for(let{[dM]:t}of this[yn])e+=t;return e}get stats(){return this[CM]}[$5](){return I(this,null,function*(){return this[sh].isEmpty()?Promise.all(this[yn].map(e=>e.close())):new Promise(e=>{this[qy]=e})})}[X5](e){return I(this,null,function*(){for(;;){let t=this[sh].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[yn].map(t=>t.destroy(e)))})}[Z5](e,t){let r=this[Yy]();return r?r.dispatch(e,t)||(r[ln]=!0,this[ln]=!this[Yy]()):(this[ln]=!0,this[sh].push({opts:e,handler:t}),this[ih]++),!this[ln]}[IM](e){return e.on("drain",this[Hy]).on("connect",this[pM]).on("disconnect",this[mM]).on("connectionError",this[EM]),this[yn].push(e),this[ln]&&queueMicrotask(()=>{this[ln]&&this[Hy](e[j5],[this,e])}),this}[yM](e){e.close(()=>{let t=this[yn].indexOf(e);t!==-1&&this[yn].splice(t,1)}),this[ln]=this[yn].some(t=>!t[ln]&&t.closed!==!0&&t.destroyed!==!0)}};BM.exports={PoolBase:Wy,kClients:yn,kNeedDrain:ln,kAddClient:IM,kRemoveClient:yM,kGetDispatcher:Yy}});var mc=B((tQe,SM)=>{"use strict";var{PoolBase:t6,kClients:wM,kNeedDrain:n6,kAddClient:r6,kGetDispatcher:i6}=Jy(),s6=rh(),{InvalidArgumentError:zy}=Me(),QM=fe(),{kUrl:vM,kInterceptors:o6}=Xe(),a6=xu(),Ky=Symbol("options"),jy=Symbol("connections"),_M=Symbol("factory");function c6(n,e){return new s6(n,e)}var $y=class extends t6{constructor(e,d={}){var C=d,{connections:t,factory:r=c6,connect:i,connectTimeout:s,tls:o,maxCachedSessions:a,socketPath:c,autoSelectFamily:l,autoSelectFamilyAttemptTimeout:u,allowH2:h}=C,A=Dt(C,["connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2"]);if(super(),t!=null&&(!Number.isFinite(t)||t<0))throw new zy("invalid connections");if(typeof r!="function")throw new zy("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new zy("connect must be a function or an object");typeof i!="function"&&(i=a6(k(k(q(k({},o),{maxCachedSessions:a,allowH2:h,socketPath:c,timeout:s}),l?{autoSelectFamily:l,autoSelectFamilyAttemptTimeout:u}:void 0),i))),this[o6]=A.interceptors?.Pool&&Array.isArray(A.interceptors.Pool)?A.interceptors.Pool:[],this[jy]=t||null,this[vM]=QM.parseOrigin(e),this[Ky]=q(k({},QM.deepClone(A)),{connect:i,allowH2:h}),this[Ky].interceptors=A.interceptors?k({},A.interceptors):void 0,this[_M]=r}[i6](){for(let e of this[wM])if(!e[n6])return e;if(!this[jy]||this[wM].length<this[jy]){let e=this[_M](this[vM],this[Ky]);return this[r6](e),e}}};SM.exports=$y});var NM=B((rQe,kM)=>{"use strict";var{BalancedPoolMissingUpstreamError:l6,InvalidArgumentError:u6}=Me(),{PoolBase:h6,kClients:un,kNeedDrain:oh,kAddClient:A6,kRemoveClient:d6,kGetDispatcher:f6}=Jy(),g6=mc(),{kUrl:Xy,kInterceptors:p6}=Xe(),{parseOrigin:bM}=fe(),TM=Symbol("factory"),Gf=Symbol("options"),DM=Symbol("kGreatestCommonDivisor"),Vo=Symbol("kCurrentWeight"),Go=Symbol("kIndex"),sr=Symbol("kWeight"),qf=Symbol("kMaxWeightPerServer"),Hf=Symbol("kErrorPenalty");function RM(n,e){return e===0?n:RM(e,n%e)}function m6(n,e){return new g6(n,e)}var Zy=class extends h6{constructor(e=[],i={}){var s=i,{factory:t=m6}=s,r=Dt(s,["factory"]);if(super(),this[Gf]=r,this[Go]=-1,this[Vo]=0,this[qf]=this[Gf].maxWeightPerServer||100,this[Hf]=this[Gf].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof t!="function")throw new u6("factory must be a function.");this[p6]=r.interceptors?.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[TM]=t;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let t=bM(e).origin;if(this[un].find(i=>i[Xy].origin===t&&i.closed!==!0&&i.destroyed!==!0))return this;let r=this[TM](t,Object.assign({},this[Gf]));this[A6](r),r.on("connect",()=>{r[sr]=Math.min(this[qf],r[sr]+this[Hf])}),r.on("connectionError",()=>{r[sr]=Math.max(1,r[sr]-this[Hf]),this._updateBalancedPoolStats()}),r.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(r[sr]=Math.max(1,r[sr]-this[Hf]),this._updateBalancedPoolStats())});for(let i of this[un])i[sr]=this[qf];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[DM]=this[un].map(e=>e[sr]).reduce(RM,0)}removeUpstream(e){let t=bM(e).origin,r=this[un].find(i=>i[Xy].origin===t&&i.closed!==!0&&i.destroyed!==!0);return r&&this[d6](r),this}get upstreams(){return this[un].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[Xy].origin)}[f6](){if(this[un].length===0)throw new l6;if(!this[un].find(s=>!s[oh]&&s.closed!==!0&&s.destroyed!==!0)||this[un].map(s=>s[oh]).reduce((s,o)=>s&&o,!0))return;let r=0,i=this[un].findIndex(s=>!s[oh]);for(;r++<this[un].length;){this[Go]=(this[Go]+1)%this[un].length;let s=this[un][this[Go]];if(s[sr]>this[un][i][sr]&&!s[oh]&&(i=this[Go]),this[Go]===0&&(this[Vo]=this[Vo]-this[DM],this[Vo]<=0&&(this[Vo]=this[qf])),s[sr]>=this[Vo]&&!s[oh])return s}return this[Vo]=this[un][i][sr],this[Go]=i,this[un][i]}};kM.exports=Zy});var Ec=B((sQe,PM)=>{"use strict";var{InvalidArgumentError:Yf}=Me(),{kClients:Ts,kRunning:MM,kClose:E6,kDestroy:C6,kDispatch:I6,kInterceptors:y6}=Xe(),B6=nc(),w6=mc(),Q6=rh(),v6=fe(),_6=Uf(),FM=Symbol("onConnect"),LM=Symbol("onDisconnect"),xM=Symbol("onConnectionError"),S6=Symbol("maxRedirections"),OM=Symbol("onDrain"),UM=Symbol("factory"),eB=Symbol("options");function b6(n,e){return e&&e.connections===1?new Q6(n,e):new w6(n,e)}var tB=class extends B6{constructor(s={}){var o=s,{factory:e=b6,maxRedirections:t=0,connect:r}=o,i=Dt(o,["factory","maxRedirections","connect"]);if(super(),typeof e!="function")throw new Yf("factory must be a function.");if(r!=null&&typeof r!="function"&&typeof r!="object")throw new Yf("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new Yf("maxRedirections must be a positive number");r&&typeof r!="function"&&(r=k({},r)),this[y6]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[_6({maxRedirections:t})],this[eB]=q(k({},v6.deepClone(i)),{connect:r}),this[eB].interceptors=i.interceptors?k({},i.interceptors):void 0,this[S6]=t,this[UM]=e,this[Ts]=new Map,this[OM]=(a,c)=>{this.emit("drain",a,[this,...c])},this[FM]=(a,c)=>{this.emit("connect",a,[this,...c])},this[LM]=(a,c,l)=>{this.emit("disconnect",a,[this,...c],l)},this[xM]=(a,c,l)=>{this.emit("connectionError",a,[this,...c],l)}}get[MM](){let e=0;for(let t of this[Ts].values())e+=t[MM];return e}[I6](e,t){let r;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))r=String(e.origin);else throw new Yf("opts.origin must be a non-empty string or URL.");let i=this[Ts].get(r);return i||(i=this[UM](e.origin,this[eB]).on("drain",this[OM]).on("connect",this[FM]).on("disconnect",this[LM]).on("connectionError",this[xM]),this[Ts].set(r,i)),i.dispatch(e,t)}[E6](){return I(this,null,function*(){let e=[];for(let t of this[Ts].values())e.push(t.close());this[Ts].clear(),yield Promise.all(e)})}[C6](e){return I(this,null,function*(){let t=[];for(let r of this[Ts].values())t.push(r.destroy(e));this[Ts].clear(),yield Promise.all(t)})}};PM.exports=tB});var iB=B((aQe,HM)=>{"use strict";var{kProxy:T6,kClose:D6,kDestroy:R6,kInterceptors:k6}=Xe(),{URL:ah}=T("url"),N6=Ec(),M6=mc(),F6=nc(),{InvalidArgumentError:zf,RequestAbortedError:L6,SecureProxyConnectionError:x6}=Me(),VM=xu(),Wf=Symbol("proxy agent"),Jf=Symbol("proxy client"),ch=Symbol("proxy headers"),nB=Symbol("request tls settings"),GM=Symbol("proxy tls settings"),qM=Symbol("connect endpoint function");function O6(n){return n==="https:"?443:80}function U6(n,e){return new M6(n,e)}var rB=class extends F6{constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof ah)&&!e.uri)throw new zf("Proxy uri is mandatory");let{clientFactory:t=U6}=e;if(typeof t!="function")throw new zf("Proxy opts.clientFactory must be a function.");let r=this.#e(e),{href:i,origin:s,port:o,protocol:a,username:c,password:l,hostname:u}=r;if(this[T6]={uri:i,protocol:a},this[k6]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[nB]=e.requestTls,this[GM]=e.proxyTls,this[ch]=e.headers||{},e.auth&&e.token)throw new zf("opts.auth cannot be used in combination with opts.token");e.auth?this[ch]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[ch]["proxy-authorization"]=e.token:c&&l&&(this[ch]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(l)}`).toString("base64")}`);let h=VM(k({},e.proxyTls));this[qM]=VM(k({},e.requestTls)),this[Jf]=t(r,{connect:h}),this[Wf]=new N6(q(k({},e),{connect:(A,d)=>I(this,null,function*(){let C=A.host;A.port||(C+=`:${O6(A.protocol)}`);try{let{socket:m,statusCode:y}=yield this[Jf].connect({origin:s,port:o,path:C,signal:A.signal,headers:q(k({},this[ch]),{host:A.host}),servername:this[GM]?.servername||u});if(y!==200&&(m.on("error",()=>{}).destroy(),d(new L6(`Proxy response (${y}) !== 200 when HTTP Tunneling`))),A.protocol!=="https:"){d(null,m);return}let _;this[nB]?_=this[nB].servername:_=A.servername,this[qM](q(k({},A),{servername:_,httpSocket:m}),d)}catch(m){m.code==="ERR_TLS_CERT_ALTNAME_INVALID"?d(new x6(m)):d(m)}})}))}dispatch(e,t){let r=P6(e.headers);if(V6(r),r&&!("host"in r)&&!("Host"in r)){let{host:i}=new ah(e.origin);r.host=i}return this[Wf].dispatch(q(k({},e),{headers:r}),t)}#e(e){return typeof e=="string"?new ah(e):e instanceof ah?e:new ah(e.uri)}[D6](){return I(this,null,function*(){yield this[Wf].close(),yield this[Jf].close()})}[R6](){return I(this,null,function*(){yield this[Wf].destroy(),yield this[Jf].destroy()})}};function P6(n){if(Array.isArray(n)){let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}return n}function V6(n){if(n&&Object.keys(n).find(t=>t.toLowerCase()==="proxy-authorization"))throw new zf("Proxy-Authorization should be sent in ProxyAgent constructor")}HM.exports=rB});var jM=B((lQe,KM)=>{"use strict";var G6=nc(),{kClose:q6,kDestroy:H6,kClosed:YM,kDestroyed:WM,kDispatch:Y6,kNoProxyAgent:lh,kHttpProxyAgent:Ds,kHttpsProxyAgent:qo}=Xe(),JM=iB(),W6=Ec(),J6={"http:":80,"https:":443},zM=!1,sB=class extends G6{#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,zM||(zM=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let c=e,{httpProxy:t,httpsProxy:r,noProxy:i}=c,s=Dt(c,["httpProxy","httpsProxy","noProxy"]);this[lh]=new W6(s);let o=t??process.env.http_proxy??process.env.HTTP_PROXY;o?this[Ds]=new JM(q(k({},s),{uri:o})):this[Ds]=this[lh];let a=r??process.env.https_proxy??process.env.HTTPS_PROXY;a?this[qo]=new JM(q(k({},s),{uri:a})):this[qo]=this[Ds],this.#s()}[Y6](e,t){let r=new URL(e.origin);return this.#r(r).dispatch(e,t)}[q6](){return I(this,null,function*(){yield this[lh].close(),this[Ds][YM]||(yield this[Ds].close()),this[qo][YM]||(yield this[qo].close())})}[H6](e){return I(this,null,function*(){yield this[lh].destroy(e),this[Ds][WM]||(yield this[Ds].destroy(e)),this[qo][WM]||(yield this[qo].destroy(e))})}#r(e){let{protocol:t,host:r,port:i}=e;return r=r.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||J6[t]||0,this.#n(r,i)?t==="https:"?this[qo]:this[Ds]:this[lh]}#n(e,t){if(this.#o&&this.#s(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let r=0;r<this.#t.length;r++){let i=this.#t[r];if(!(i.port&&i.port!==t)){if(/^[.*]/.test(i.hostname)){if(e.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(e===i.hostname)return!1}}return!0}#s(){let e=this.#i.noProxy??this.#a,t=e.split(/[,\s]/),r=[];for(let i=0;i<t.length;i++){let s=t[i];if(!s)continue;let o=s.match(/^(.+):(\d+)$/);r.push({hostname:(o?o[1]:s).toLowerCase(),port:o?Number.parseInt(o[2],10):0})}this.#e=e,this.#t=r}get#o(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};KM.exports=sB});var jf=B((hQe,eF)=>{"use strict";var Cc=T("assert"),{kRetryHandlerDefaultRetry:$M}=Xe(),{RequestRetryError:Kf}=Me(),{isDisturbed:XM,parseHeaders:z6,parseRangeHeader:ZM,wrapRequestBody:K6}=fe();function j6(n){let e=Date.now();return new Date(n).getTime()-e}var oB=class n{constructor(e,t){let C=e,{retryOptions:r}=C,i=Dt(C,["retryOptions"]),{retry:s,maxRetries:o,maxTimeout:a,minTimeout:c,timeoutFactor:l,methods:u,errorCodes:h,retryAfter:A,statusCodes:d}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts=q(k({},i),{body:K6(e.body)}),this.abort=null,this.aborted=!1,this.retryOpts={retry:s??n[$M],retryAfter:A??!0,maxTimeout:a??30*1e3,minTimeout:c??500,timeoutFactor:l??2,maxRetries:o??5,methods:u??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:d??[500,502,503,504,429],errorCodes:h??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(m=>{this.aborted=!0,this.abort?this.abort(m):this.reason=m})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[$M](e,{state:t,opts:r},i){let{statusCode:s,code:o,headers:a}=e,{method:c,retryOptions:l}=r,{maxRetries:u,minTimeout:h,maxTimeout:A,timeoutFactor:d,statusCodes:C,errorCodes:m,methods:y}=l,{counter:_}=t;if(o&&o!=="UND_ERR_REQ_RETRY"&&!m.includes(o)){i(e);return}if(Array.isArray(y)&&!y.includes(c)){i(e);return}if(s!=null&&Array.isArray(C)&&!C.includes(s)){i(e);return}if(_>u){i(e);return}let S=a?.["retry-after"];S&&(S=Number(S),S=Number.isNaN(S)?j6(S):S*1e3);let R=S>0?Math.min(S,A):Math.min(h*d**(_-1),A);setTimeout(()=>i(null),R)}onHeaders(e,t,r,i){let s=z6(t);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,t,r,i):(this.abort(new Kf("Request failed",e,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206)return!0;let a=ZM(s["content-range"]);if(!a)return this.abort(new Kf("Content-Range mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new Kf("ETag mismatch",e,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:l,end:u=l}=a;return Cc(this.start===c,"content-range mismatch"),Cc(this.end==null||this.end===u,"content-range mismatch"),this.resume=r,!0}if(this.end==null){if(e===206){let a=ZM(s["content-range"]);if(a==null)return this.handler.onHeaders(e,t,r,i);let{start:c,size:l,end:u=l}=a;Cc(c!=null&&Number.isFinite(c),"content-range mismatch"),Cc(u!=null&&Number.isFinite(u),"invalid content-length"),this.start=c,this.end=u}if(this.end==null){let a=s["content-length"];this.end=a!=null?Number(a):null}return Cc(Number.isFinite(this.start)),Cc(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,t,r,i)}let o=new Kf("Request failed",e,{headers:s,data:{count:this.retryCount}});return this.abort(o),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||XM(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:k({retryOptions:this.retryOpts},this.opts)},t.bind(this));function t(r){if(r!=null||this.aborted||XM(this.opts.body))return this.handler.onError(r);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts=q(k({},this.opts),{headers:k(k({},this.opts.headers),i)})}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}}};eF.exports=oB});var nF=B((dQe,tF)=>{"use strict";var $6=Fu(),X6=jf(),aB=class extends $6{#e=null;#t=null;constructor(e,t={}){super(t),this.#e=e,this.#t=t}dispatch(e,t){let r=new X6(q(k({},e),{retryOptions:this.#t}),{dispatch:this.#e.dispatch.bind(this.#e),handler:t});return this.#e.dispatch(e,r)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};tF.exports=aB});var dB=B((gQe,uF)=>{"use strict";var oF=T("assert"),{Readable:Z6}=T("stream"),{RequestAbortedError:aF,NotSupportedError:e$,InvalidArgumentError:t$,AbortError:cB}=Me(),cF=fe(),{ReadableStreamFrom:n$}=fe(),Pn=Symbol("kConsume"),uh=Symbol("kReading"),Rs=Symbol("kBody"),rF=Symbol("kAbort"),lF=Symbol("kContentType"),iF=Symbol("kContentLength"),r$=()=>{},lB=class extends Z6{constructor({resume:e,abort:t,contentType:r="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:s}),this._readableState.dataEmitted=!1,this[rF]=t,this[Pn]=null,this[Rs]=null,this[lF]=r,this[iF]=i,this[uh]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new aF),e&&this[rF](),super.destroy(e)}_destroy(e,t){this[uh]?t(e):setImmediate(()=>{t(e)})}on(e,...t){return(e==="data"||e==="readable")&&(this[uh]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return(e==="data"||e==="readable")&&(this[uh]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[Pn]&&e!==null?(hB(this[Pn],e),this[uh]?super.push(e):!0):super.push(e)}text(){return I(this,null,function*(){return $f(this,"text")})}json(){return I(this,null,function*(){return $f(this,"json")})}blob(){return I(this,null,function*(){return $f(this,"blob")})}arrayBuffer(){return I(this,null,function*(){return $f(this,"arrayBuffer")})}formData(){return I(this,null,function*(){throw new e$})}get bodyUsed(){return cF.isDisturbed(this)}get body(){return this[Rs]||(this[Rs]=n$(this),this[Pn]&&(this[Rs].getReader(),oF(this[Rs].locked))),this[Rs]}dump(e){return I(this,null,function*(){let t=Number.isFinite(e?.limit)?e.limit:131072,r=e?.signal;if(r!=null&&(typeof r!="object"||!("aborted"in r)))throw new t$("signal must be an AbortSignal");return r?.throwIfAborted(),this._readableState.closeEmitted?null:yield new Promise((i,s)=>{this[iF]>t&&this.destroy(new cB);let o=()=>{this.destroy(r.reason??new cB)};r?.addEventListener("abort",o),this.on("close",function(){r?.removeEventListener("abort",o),r?.aborted?s(r.reason??new cB):i(null)}).on("error",r$).on("data",function(a){t-=a.length,t<=0&&this.destroy()}).resume()})})}};function i$(n){return n[Rs]&&n[Rs].locked===!0||n[Pn]}function s$(n){return cF.isDisturbed(n)||i$(n)}function $f(n,e){return I(this,null,function*(){return oF(!n[Pn]),new Promise((t,r)=>{if(s$(n)){let i=n._readableState;i.destroyed&&i.closeEmitted===!1?n.on("error",s=>{r(s)}).on("close",()=>{r(new TypeError("unusable"))}):r(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{n[Pn]={type:e,stream:n,resolve:t,reject:r,length:0,body:[]},n.on("error",function(i){AB(this[Pn],i)}).on("close",function(){this[Pn].body!==null&&AB(this[Pn],new aF)}),o$(n[Pn])})})})}function o$(n){if(n.body===null)return;let{_readableState:e}=n.stream;if(e.bufferIndex){let t=e.bufferIndex,r=e.buffer.length;for(let i=t;i<r;i++)hB(n,e.buffer[i])}else for(let t of e.buffer)hB(n,t);for(e.endEmitted?sF(this[Pn]):n.stream.on("end",function(){sF(this[Pn])}),n.stream.resume();n.stream.read()!=null;);}function uB(n,e){if(n.length===0||e===0)return"";let t=n.length===1?n[0]:Buffer.concat(n,e),r=t.length,i=r>2&&t[0]===239&&t[1]===187&&t[2]===191?3:0;return t.utf8Slice(i,r)}function sF(n){let{type:e,body:t,resolve:r,stream:i,length:s}=n;try{if(e==="text")r(uB(t,s));else if(e==="json")r(JSON.parse(uB(t,s)));else if(e==="arrayBuffer"){let o=new Uint8Array(s),a=0;for(let c of t)o.set(c,a),a+=c.byteLength;r(o.buffer)}else e==="blob"&&r(new Blob(t,{type:i[lF]}));AB(n)}catch(o){i.destroy(o)}}function hB(n,e){n.length+=e.length,n.body.push(e)}function AB(n,e){n.body!==null&&(e?n.reject(e):n.resolve(),n.type=null,n.stream=null,n.resolve=null,n.reject=null,n.length=0,n.body=null)}uF.exports={Readable:lB,chunksDecode:uB}});var fB=B((mQe,gF)=>{"use strict";var a$=T("assert"),{ResponseStatusCodeError:hF}=Me(),{chunksDecode:AF}=dB(),c$=128*1024;function l$(o){return I(this,arguments,function*({callback:n,body:e,contentType:t,statusCode:r,statusMessage:i,headers:s}){a$(e);let a=[],c=0;try{try{for(var A=Xr(e),d,C,m;d=!(C=yield A.next()).done;d=!1){let y=C.value;if(a.push(y),c+=y.length,c>c$){a=[],c=0;break}}}catch{m=[C]}finally{try{d&&(C=A.return)&&(yield C.call(A))}finally{if(m)throw m[0]}}}catch{a=[],c=0}let l=`Response status code ${r}${i?`: ${i}`:""}`;if(r===204||!t||!c){queueMicrotask(()=>n(new hF(l,r,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let h;try{dF(t)?h=JSON.parse(AF(a,c)):fF(t)&&(h=AF(a,c))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>n(new hF(l,r,s,h)))})}var dF=n=>n.length>15&&n[11]==="/"&&n[0]==="a"&&n[1]==="p"&&n[2]==="p"&&n[3]==="l"&&n[4]==="i"&&n[5]==="c"&&n[6]==="a"&&n[7]==="t"&&n[8]==="i"&&n[9]==="o"&&n[10]==="n"&&n[12]==="j"&&n[13]==="s"&&n[14]==="o"&&n[15]==="n",fF=n=>n.length>4&&n[4]==="/"&&n[0]==="t"&&n[1]==="e"&&n[2]==="x"&&n[3]==="t";gF.exports={getResolveErrorBodyCallback:l$,isContentTypeApplicationJson:dF,isContentTypeText:fF}});var EF=B((CQe,gB)=>{"use strict";var u$=T("assert"),{Readable:h$}=dB(),{InvalidArgumentError:Ic,RequestAbortedError:pF}=Me(),or=fe(),{getResolveErrorBodyCallback:A$}=fB(),{AsyncResource:d$}=T("async_hooks"),Xf=class extends d${constructor(e,t){if(!e||typeof e!="object")throw new Ic("invalid opts");let{signal:r,method:i,opaque:s,body:o,onInfo:a,responseHeaders:c,throwOnError:l,highWaterMark:u}=e;try{if(typeof t!="function")throw new Ic("invalid callback");if(u&&(typeof u!="number"||u<0))throw new Ic("invalid highWaterMark");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Ic("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Ic("invalid method");if(a&&typeof a!="function")throw new Ic("invalid onInfo callback");super("UNDICI_REQUEST")}catch(h){throw or.isStream(o)&&or.destroy(o.on("error",or.nop),h),h}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=t,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=l,this.highWaterMark=u,this.signal=r,this.reason=null,this.removeAbortListener=null,or.isStream(o)&&o.on("error",h=>{this.onError(h)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new pF:this.removeAbortListener=or.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new pF,this.res?or.destroy(this.res,this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,t){if(this.reason){e(this.reason);return}u$(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:o,abort:a,context:c,responseHeaders:l,highWaterMark:u}=this,h=l==="raw"?or.parseRawHeaders(t):or.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}let A=l==="raw"?or.parseHeaders(t):h,d=A["content-type"],C=A["content-length"],m=new h$({resume:r,abort:a,contentType:d,contentLength:this.method!=="HEAD"&&C?Number(C):null,highWaterMark:u});this.removeAbortListener&&m.on("close",this.removeAbortListener),this.callback=null,this.res=m,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(A$,null,{callback:s,body:m,contentType:d,statusCode:e,statusMessage:i,headers:h}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:h,trailers:this.trailers,opaque:o,body:m,context:c}))}onData(e){return this.res.push(e)}onComplete(e){or.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:t,callback:r,body:i,opaque:s}=this;r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:s})})),t&&(this.res=null,queueMicrotask(()=>{or.destroy(t,e)})),i&&(this.body=null,or.destroy(i,e)),this.removeAbortListener&&(t?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function mF(n,e){if(e===void 0)return new Promise((t,r)=>{mF.call(this,n,(i,s)=>i?r(i):t(s))});try{this.dispatch(n,new Xf(n,e))}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}gB.exports=mF;gB.exports.RequestHandler=Xf});var hh=B((IQe,yF)=>{"use strict";var{addAbortListener:f$}=fe(),{RequestAbortedError:g$}=Me(),yc=Symbol("kListener"),fi=Symbol("kSignal");function CF(n){n.abort?n.abort(n[fi]?.reason):n.reason=n[fi]?.reason??new g$,IF(n)}function p$(n,e){if(n.reason=null,n[fi]=null,n[yc]=null,!!e){if(e.aborted){CF(n);return}n[fi]=e,n[yc]=()=>{CF(n)},f$(n[fi],n[yc])}}function IF(n){n[fi]&&("removeEventListener"in n[fi]?n[fi].removeEventListener("abort",n[yc]):n[fi].removeListener("abort",n[yc]),n[fi]=null,n[yc]=null)}yF.exports={addSignal:p$,removeSignal:IF}});var vF=B((yQe,QF)=>{"use strict";var m$=T("assert"),{finished:E$,PassThrough:C$}=T("stream"),{InvalidArgumentError:Bc,InvalidReturnValueError:I$}=Me(),kr=fe(),{getResolveErrorBodyCallback:y$}=fB(),{AsyncResource:B$}=T("async_hooks"),{addSignal:w$,removeSignal:BF}=hh(),pB=class extends B${constructor(e,t,r){if(!e||typeof e!="object")throw new Bc("invalid opts");let{signal:i,method:s,opaque:o,body:a,onInfo:c,responseHeaders:l,throwOnError:u}=e;try{if(typeof r!="function")throw new Bc("invalid callback");if(typeof t!="function")throw new Bc("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new Bc("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new Bc("invalid method");if(c&&typeof c!="function")throw new Bc("invalid onInfo callback");super("UNDICI_STREAM")}catch(h){throw kr.isStream(a)&&kr.destroy(a.on("error",kr.nop),h),h}this.responseHeaders=l||null,this.opaque=o||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=c||null,this.throwOnError=u||!1,kr.isStream(a)&&a.on("error",h=>{this.onError(h)}),w$(this,i)}onConnect(e,t){if(this.reason){e(this.reason);return}m$(this.callback),this.abort=e,this.context=t}onHeaders(e,t,r,i){let{factory:s,opaque:o,context:a,callback:c,responseHeaders:l}=this,u=l==="raw"?kr.parseRawHeaders(t):kr.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}this.factory=null;let h;if(this.throwOnError&&e>=400){let C=(l==="raw"?kr.parseHeaders(t):u)["content-type"];h=new C$,this.callback=null,this.runInAsyncScope(y$,null,{callback:c,body:h,contentType:C,statusCode:e,statusMessage:i,headers:u})}else{if(s===null)return;if(h=this.runInAsyncScope(s,null,{statusCode:e,headers:u,opaque:o,context:a}),!h||typeof h.write!="function"||typeof h.end!="function"||typeof h.on!="function")throw new I$("expected Writable");E$(h,{readable:!1},d=>{let{callback:C,res:m,opaque:y,trailers:_,abort:S}=this;this.res=null,(d||!m.readable)&&kr.destroy(m,d),this.callback=null,this.runInAsyncScope(C,null,d||null,{opaque:y,trailers:_}),d&&S()})}return h.on("drain",r),this.res=h,(h.writableNeedDrain!==void 0?h.writableNeedDrain:h._writableState?.needDrain)!==!0}onData(e){let{res:t}=this;return t?t.write(e):!0}onComplete(e){let{res:t}=this;BF(this),t&&(this.trailers=kr.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:i,body:s}=this;BF(this),this.factory=null,t?(this.res=null,kr.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),s&&(this.body=null,kr.destroy(s,e))}};function wF(n,e,t){if(t===void 0)return new Promise((r,i)=>{wF.call(this,n,e,(s,o)=>s?i(s):r(o))});try{this.dispatch(n,new pB(n,e,t))}catch(r){if(typeof t!="function")throw r;let i=n?.opaque;queueMicrotask(()=>t(r,{opaque:i}))}}QF.exports=wF});var TF=B((BQe,bF)=>{"use strict";var{Readable:SF,Duplex:Q$,PassThrough:v$}=T("stream"),{InvalidArgumentError:Ah,InvalidReturnValueError:_$,RequestAbortedError:mB}=Me(),ar=fe(),{AsyncResource:S$}=T("async_hooks"),{addSignal:b$,removeSignal:T$}=hh(),_F=T("assert"),wc=Symbol("resume"),EB=class extends SF{constructor(){super({autoDestroy:!0}),this[wc]=null}_read(){let{[wc]:e}=this;e&&(this[wc]=null,e())}_destroy(e,t){this._read(),t(e)}},CB=class extends SF{constructor(e){super({autoDestroy:!0}),this[wc]=e}_read(){this[wc]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new mB),t(e)}},IB=class extends S${constructor(e,t){if(!e||typeof e!="object")throw new Ah("invalid opts");if(typeof t!="function")throw new Ah("invalid handler");let{signal:r,method:i,opaque:s,onInfo:o,responseHeaders:a}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Ah("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Ah("invalid method");if(o&&typeof o!="function")throw new Ah("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=a||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new EB().on("error",ar.nop),this.ret=new Q$({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:c}=this;c?.resume&&c.resume()},write:(c,l,u)=>{let{req:h}=this;h.push(c,l)||h._readableState.destroyed?u():h[wc]=u},destroy:(c,l)=>{let{body:u,req:h,res:A,ret:d,abort:C}=this;!c&&!d._readableState.endEmitted&&(c=new mB),C&&c&&C(),ar.destroy(u,c),ar.destroy(h,c),ar.destroy(A,c),T$(this),l(c)}}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,b$(this,r)}onConnect(e,t){let{ret:r,res:i}=this;if(this.reason){e(this.reason);return}_F(!i,"pipeline cannot be retried"),_F(!r.destroyed),this.abort=e,this.context=t}onHeaders(e,t,r){let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let c=this.responseHeaders==="raw"?ar.parseRawHeaders(t):ar.parseHeaders(t);this.onInfo({statusCode:e,headers:c})}return}this.res=new CB(r);let a;try{this.handler=null;let c=this.responseHeaders==="raw"?ar.parseRawHeaders(t):ar.parseHeaders(t);a=this.runInAsyncScope(s,null,{statusCode:e,headers:c,opaque:i,body:this.res,context:o})}catch(c){throw this.res.on("error",ar.nop),c}if(!a||typeof a.on!="function")throw new _$("expected Readable");a.on("data",c=>{let{ret:l,body:u}=this;!l.push(c)&&u.pause&&u.pause()}).on("error",c=>{let{ret:l}=this;ar.destroy(l,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||ar.destroy(c,new mB)}),this.body=a}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,ar.destroy(t,e)}};function D$(n,e){try{let t=new IB(n,e);return this.dispatch(q(k({},n),{body:t.req}),t),t.ret}catch(t){return new v$().destroy(t)}}bF.exports=D$});var FF=B((QQe,MF)=>{"use strict";var{InvalidArgumentError:yB,SocketError:R$}=Me(),{AsyncResource:k$}=T("async_hooks"),DF=fe(),{addSignal:N$,removeSignal:RF}=hh(),kF=T("assert"),BB=class extends k${constructor(e,t){if(!e||typeof e!="object")throw new yB("invalid opts");if(typeof t!="function")throw new yB("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new yB("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=t,this.abort=null,this.context=null,N$(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}kF(this.callback),this.abort=e,this.context=null}onHeaders(){throw new R$("bad upgrade",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;kF.strictEqual(e,101),RF(this),this.callback=null;let a=this.responseHeaders==="raw"?DF.parseRawHeaders(t):DF.parseHeaders(t);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;RF(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function NF(n,e){if(e===void 0)return new Promise((t,r)=>{NF.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new BB(n,e);this.dispatch(q(k({},n),{method:n.method||"GET",upgrade:n.protocol||"Websocket"}),t)}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}MF.exports=NF});var PF=B((_Qe,UF)=>{"use strict";var M$=T("assert"),{AsyncResource:F$}=T("async_hooks"),{InvalidArgumentError:wB,SocketError:L$}=Me(),LF=fe(),{addSignal:x$,removeSignal:xF}=hh(),QB=class extends F${constructor(e,t){if(!e||typeof e!="object")throw new wB("invalid opts");if(typeof t!="function")throw new wB("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new wB("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=t,this.abort=null,x$(this,r)}onConnect(e,t){if(this.reason){e(this.reason);return}M$(this.callback),this.abort=e,this.context=t}onHeaders(){throw new L$("bad connect",null)}onUpgrade(e,t,r){let{callback:i,opaque:s,context:o}=this;xF(this),this.callback=null;let a=t;a!=null&&(a=this.responseHeaders==="raw"?LF.parseRawHeaders(t):LF.parseHeaders(t)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:t,opaque:r}=this;xF(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}};function OF(n,e){if(e===void 0)return new Promise((t,r)=>{OF.call(this,n,(i,s)=>i?r(i):t(s))});try{let t=new QB(n,e);this.dispatch(q(k({},n),{method:"CONNECT"}),t)}catch(t){if(typeof e!="function")throw t;let r=n?.opaque;queueMicrotask(()=>e(t,{opaque:r}))}}UF.exports=OF});var VF=B((bQe,Qc)=>{"use strict";Qc.exports.request=EF();Qc.exports.stream=vF();Qc.exports.pipeline=TF();Qc.exports.upgrade=FF();Qc.exports.connect=PF()});var _B=B((TQe,GF)=>{"use strict";var{UndiciError:O$}=Me(),vB=class n extends O${constructor(e){super(e),Error.captureStackTrace(this,n),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};GF.exports={MockNotMatchedError:vB}});var vc=B((DQe,qF)=>{"use strict";qF.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var dh=B((RQe,eL)=>{"use strict";var{MockNotMatchedError:Ho}=_B(),{kDispatches:Zf,kMockAgent:U$,kOriginalDispatch:P$,kOrigin:V$,kGetNetConnect:G$}=vc(),{buildURL:q$}=fe(),{STATUS_CODES:H$}=T("http"),{types:{isPromise:Y$}}=T("util");function Ki(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):typeof n=="function"?n(e)===!0:!1}function YF(n){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function WF(n,e){if(Array.isArray(n)){for(let t=0;t<n.length;t+=2)if(n[t].toLocaleLowerCase()===e.toLocaleLowerCase())return n[t+1];return}else return typeof n.get=="function"?n.get(e):YF(n)[e.toLocaleLowerCase()]}function TB(n){let e=n.slice(),t=[];for(let r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return Object.fromEntries(t)}function JF(n,e){if(typeof n.headers=="function")return Array.isArray(e)&&(e=TB(e)),n.headers(e?YF(e):{});if(typeof n.headers>"u")return!0;if(typeof e!="object"||typeof n.headers!="object")return!1;for(let[t,r]of Object.entries(n.headers)){let i=WF(e,t);if(!Ki(r,i))return!1}return!0}function HF(n){if(typeof n!="string")return n;let e=n.split("?");if(e.length!==2)return n;let t=new URLSearchParams(e.pop());return t.sort(),[...e,t.toString()].join("?")}function W$(n,{path:e,method:t,body:r,headers:i}){let s=Ki(n.path,e),o=Ki(n.method,t),a=typeof n.body<"u"?Ki(n.body,r):!0,c=JF(n,i);return s&&o&&a&&c}function zF(n){return Buffer.isBuffer(n)?n:typeof n=="object"?JSON.stringify(n):n.toString()}function KF(n,e){let t=e.query?q$(e.path,e.query):e.path,r=typeof t=="string"?HF(t):t,i=n.filter(({consumed:s})=>!s).filter(({path:s})=>Ki(HF(s),r));if(i.length===0)throw new Ho(`Mock dispatch not matched for path '${r}'`);if(i=i.filter(({method:s})=>Ki(s,e.method)),i.length===0)throw new Ho(`Mock dispatch not matched for method '${e.method}' on path '${r}'`);if(i=i.filter(({body:s})=>typeof s<"u"?Ki(s,e.body):!0),i.length===0)throw new Ho(`Mock dispatch not matched for body '${e.body}' on path '${r}'`);if(i=i.filter(s=>JF(s,e.headers)),i.length===0){let s=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new Ho(`Mock dispatch not matched for headers '${s}' on path '${r}'`)}return i[0]}function J$(n,e,t){let r={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof t=="function"?{callback:t}:k({},t),s=q(k(k({},r),e),{pending:!0,data:k({error:null},i)});return n.push(s),s}function SB(n,e){let t=n.findIndex(r=>r.consumed?W$(r,e):!1);t!==-1&&n.splice(t,1)}function jF(n){let{path:e,method:t,body:r,headers:i,query:s}=n;return{path:e,method:t,body:r,headers:i,query:s}}function bB(n){let e=Object.keys(n),t=[];for(let r=0;r<e.length;++r){let i=e[r],s=n[i],o=Buffer.from(`${i}`);if(Array.isArray(s))for(let a=0;a<s.length;++a)t.push(o,Buffer.from(`${s[a]}`));else t.push(o,Buffer.from(`${s}`))}return t}function $F(n){return H$[n]||"unknown"}function z$(n){return I(this,null,function*(){let e=[];try{for(var t=Xr(n),r,i,s;r=!(i=yield t.next()).done;r=!1){let o=i.value;e.push(o)}}catch{s=[i]}finally{try{r&&(i=t.return)&&(yield i.call(t))}finally{if(s)throw s[0]}}return Buffer.concat(e).toString("utf8")})}function XF(n,e){let t=jF(n),r=KF(this[Zf],t);r.timesInvoked++,r.data.callback&&(r.data=k(k({},r.data),r.data.callback(n)));let{data:{statusCode:i,data:s,headers:o,trailers:a,error:c},delay:l,persist:u}=r,{timesInvoked:h,times:A}=r;if(r.consumed=!u&&h>=A,r.pending=h<A,c!==null)return SB(this[Zf],t),e.onError(c),!0;typeof l=="number"&&l>0?setTimeout(()=>{d(this[Zf])},l):d(this[Zf]);function d(m,y=s){let _=Array.isArray(n.headers)?TB(n.headers):n.headers,S=typeof y=="function"?y(q(k({},n),{headers:_})):y;if(Y$(S)){S.then(x=>d(m,x));return}let R=zF(S),D=bB(o),N=bB(a);e.onConnect?.(x=>e.onError(x),null),e.onHeaders?.(i,D,C,$F(i)),e.onData?.(Buffer.from(R)),e.onComplete?.(N),SB(m,t)}function C(){}return!0}function K$(){let n=this[U$],e=this[V$],t=this[P$];return function(i,s){if(n.isMockActive)try{XF.call(this,i,s)}catch(o){if(o instanceof Ho){let a=n[G$]();if(a===!1)throw new Ho(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(ZF(a,e))t.call(this,i,s);else throw new Ho(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else t.call(this,i,s)}}function ZF(n,e){let t=new URL(e);return n===!0?!0:!!(Array.isArray(n)&&n.some(r=>Ki(r,t.host)))}function j$(n){if(n){let e=n,{agent:t}=e;return Dt(e,["agent"])}}eL.exports={getResponseData:zF,getMockDispatch:KF,addMockDispatch:J$,deleteMockDispatch:SB,buildKey:jF,generateKeyValues:bB,matchValue:Ki,getResponse:z$,getStatusText:$F,mockDispatch:XF,buildMockDispatch:K$,checkNetConnect:ZF,buildMockOptions:j$,getHeaderByName:WF,buildHeadersFromArray:TB}});var LB=B((NQe,FB)=>{"use strict";var{getResponseData:$$,buildKey:X$,addMockDispatch:DB}=dh(),{kDispatches:eg,kDispatchKey:tg,kDefaultHeaders:RB,kDefaultTrailers:kB,kContentLength:NB,kMockDispatch:ng}=vc(),{InvalidArgumentError:gi}=Me(),{buildURL:Z$}=fe(),_c=class{constructor(e){this[ng]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new gi("waitInMs must be a valid integer > 0");return this[ng].delay=e,this}persist(){return this[ng].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new gi("repeatTimes must be a valid integer > 0");return this[ng].times=e,this}},MB=class{constructor(e,t){if(typeof e!="object")throw new gi("opts must be an object");if(typeof e.path>"u")throw new gi("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=Z$(e.path,e.query);else{let r=new URL(e.path,"data://");e.path=r.pathname+r.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[tg]=X$(e),this[eg]=t,this[RB]={},this[kB]={},this[NB]=!1}createMockScopeDispatchData({statusCode:e,data:t,responseOptions:r}){let i=$$(t),s=this[NB]?{"content-length":i.length}:{},o=k(k(k({},this[RB]),s),r.headers),a=k(k({},this[kB]),r.trailers);return{statusCode:e,data:t,headers:o,trailers:a}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new gi("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new gi("responseOptions must be an object")}reply(e){if(typeof e=="function"){let s=a=>{let c=e(a);if(typeof c!="object"||c===null)throw new gi("reply options callback must return an object");let l=k({data:"",responseOptions:{}},c);return this.validateReplyParameters(l),k({},this.createMockScopeDispatchData(l))},o=DB(this[eg],this[tg],s);return new _c(o)}let t={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(t);let r=this.createMockScopeDispatchData(t),i=DB(this[eg],this[tg],r);return new _c(i)}replyWithError(e){if(typeof e>"u")throw new gi("error must be defined");let t=DB(this[eg],this[tg],{error:e});return new _c(t)}defaultReplyHeaders(e){if(typeof e>"u")throw new gi("headers must be defined");return this[RB]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new gi("trailers must be defined");return this[kB]=e,this}replyContentLength(){return this[NB]=!0,this}};FB.exports.MockInterceptor=MB;FB.exports.MockScope=_c});var UB=B((FQe,aL)=>{"use strict";var{promisify:eX}=T("util"),tX=rh(),{buildMockDispatch:nX}=dh(),{kDispatches:tL,kMockAgent:nL,kClose:rL,kOriginalClose:iL,kOrigin:sL,kOriginalDispatch:rX,kConnected:xB}=vc(),{MockInterceptor:iX}=LB(),oL=Xe(),{InvalidArgumentError:sX}=Me(),OB=class extends tX{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new sX("Argument opts.agent must implement Agent");this[nL]=t.agent,this[sL]=e,this[tL]=[],this[xB]=1,this[rX]=this.dispatch,this[iL]=this.close.bind(this),this.dispatch=nX.call(this),this.close=this[rL]}get[oL.kConnected](){return this[xB]}intercept(e){return new iX(e,this[tL])}[rL](){return I(this,null,function*(){yield eX(this[iL])(),this[xB]=0,this[nL][oL.kClients].delete(this[sL])})}};aL.exports=OB});var GB=B((xQe,fL)=>{"use strict";var{promisify:oX}=T("util"),aX=mc(),{buildMockDispatch:cX}=dh(),{kDispatches:cL,kMockAgent:lL,kClose:uL,kOriginalClose:hL,kOrigin:AL,kOriginalDispatch:lX,kConnected:PB}=vc(),{MockInterceptor:uX}=LB(),dL=Xe(),{InvalidArgumentError:hX}=Me(),VB=class extends aX{constructor(e,t){if(super(e,t),!t||!t.agent||typeof t.agent.dispatch!="function")throw new hX("Argument opts.agent must implement Agent");this[lL]=t.agent,this[AL]=e,this[cL]=[],this[PB]=1,this[lX]=this.dispatch,this[hL]=this.close.bind(this),this.dispatch=cX.call(this),this.close=this[uL]}get[dL.kConnected](){return this[PB]}intercept(e){return new uX(e,this[cL])}[uL](){return I(this,null,function*(){yield oX(this[hL])(),this[PB]=0,this[lL][dL.kClients].delete(this[AL])})}};fL.exports=VB});var pL=B((PQe,gL)=>{"use strict";var AX={pronoun:"it",is:"is",was:"was",this:"this"},dX={pronoun:"they",is:"are",was:"were",this:"these"};gL.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let t=e===1,r=t?AX:dX,i=t?this.singular:this.plural;return q(k({},r),{count:e,noun:i})}}});var EL=B((qQe,mL)=>{"use strict";var{Transform:fX}=T("stream"),{Console:gX}=T("console"),pX=process.versions.icu?"\u2705":"Y ",mX=process.versions.icu?"\u274C":"N ";mL.exports=class{constructor({disableColors:e}={}){this.transform=new fX({transform(t,r,i){i(null,t)}}),this.logger=new gX({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:r,path:i,data:{statusCode:s},persist:o,times:a,timesInvoked:c,origin:l})=>({Method:r,Origin:l,Path:i,"Status code":s,Persistent:o?pX:mX,Invocations:c,Remaining:o?1/0:a-c}));return this.logger.table(t),this.transform.read().toString()}}});var BL=B((HQe,yL)=>{"use strict";var{kClients:Yo}=Xe(),EX=Ec(),{kAgent:qB,kMockAgentSet:rg,kMockAgentGet:CL,kDispatches:HB,kIsMockActive:ig,kNetConnect:Wo,kGetNetConnect:CX,kOptions:sg,kFactory:og}=vc(),IX=UB(),yX=GB(),{matchValue:BX,buildMockOptions:wX}=dh(),{InvalidArgumentError:IL,UndiciError:QX}=Me(),vX=Fu(),_X=pL(),SX=EL(),YB=class extends vX{constructor(e){if(super(e),this[Wo]=!0,this[ig]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new IL("Argument opts.agent must implement Agent");let t=e?.agent?e.agent:new EX(e);this[qB]=t,this[Yo]=t[Yo],this[sg]=wX(e)}get(e){let t=this[CL](e);return t||(t=this[og](e),this[rg](e,t)),t}dispatch(e,t){return this.get(e.origin),this[qB].dispatch(e,t)}close(){return I(this,null,function*(){yield this[qB].close(),this[Yo].clear()})}deactivate(){this[ig]=!1}activate(){this[ig]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[Wo])?this[Wo].push(e):this[Wo]=[e];else if(typeof e>"u")this[Wo]=!0;else throw new IL("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[Wo]=!1}get isMockActive(){return this[ig]}[rg](e,t){this[Yo].set(e,t)}[og](e){let t=Object.assign({agent:this},this[sg]);return this[sg]&&this[sg].connections===1?new IX(e,t):new yX(e,t)}[CL](e){let t=this[Yo].get(e);if(t)return t;if(typeof e!="string"){let r=this[og]("http://localhost:9999");return this[rg](e,r),r}for(let[r,i]of Array.from(this[Yo]))if(i&&typeof r!="string"&&BX(r,e)){let s=this[og](e);return this[rg](e,s),s[HB]=i[HB],s}}[CX](){return this[Wo]}pendingInterceptors(){let e=this[Yo];return Array.from(e.entries()).flatMap(([t,r])=>r[HB].map(i=>q(k({},i),{origin:t}))).filter(({pending:t})=>t)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new SX}={}){let t=this.pendingInterceptors();if(t.length===0)return;let r=new _X("interceptor","interceptors").pluralize(t.length);throw new QX(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}};yL.exports=YB});var ag=B((WQe,_L)=>{"use strict";var wL=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:bX}=Me(),TX=Ec();vL()===void 0&&QL(new TX);function QL(n){if(!n||typeof n.dispatch!="function")throw new bX("Argument agent must implement Agent");Object.defineProperty(globalThis,wL,{value:n,writable:!0,enumerable:!1,configurable:!1})}function vL(){return globalThis[wL]}_L.exports={setGlobalDispatcher:QL,getGlobalDispatcher:vL}});var WB=B((zQe,SL)=>{"use strict";SL.exports=class{#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var TL=B((KQe,bL)=>{"use strict";var DX=Of();bL.exports=n=>{let e=n?.maxRedirections;return t=>function(i,s){let l=i,{maxRedirections:o=e}=l,a=Dt(l,["maxRedirections"]);if(!o)return t(i,s);let c=new DX(t,o,i,s);return t(a,c)}}});var RL=B(($Qe,DL)=>{"use strict";var RX=jf();DL.exports=n=>e=>function(r,i){return e(r,new RX(q(k({},r),{retryOptions:k(k({},n),r.retryOptions)}),{handler:i,dispatch:e}))}});var NL=B((ZQe,kL)=>{"use strict";var kX=fe(),{InvalidArgumentError:NX,RequestAbortedError:MX}=Me(),FX=WB(),JB=class extends FX{#e=1024*1024;#t=null;#i=!1;#r=!1;#n=0;#s=null;#o=null;constructor({maxSize:e},t){if(super(t),e!=null&&(!Number.isFinite(e)||e<1))throw new NX("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#o=t}onConnect(e){this.#t=e,this.#o.onConnect(this.#a.bind(this))}#a(e){this.#r=!0,this.#s=e}onHeaders(e,t,r,i){let o=kX.parseHeaders(t)["content-length"];if(o!=null&&o>this.#e)throw new MX(`Response size (${o}) larger than maxSize (${this.#e})`);return this.#r?!0:this.#o.onHeaders(e,t,r,i)}onError(e){this.#i||(e=this.#s??e,this.#o.onError(e))}onData(e){return this.#n=this.#n+e.length,this.#n>=this.#e&&(this.#i=!0,this.#r?this.#o.onError(this.#s):this.#o.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#r){this.#o.onError(this.reason);return}this.#o.onComplete(e)}}};function LX({maxSize:n}={maxSize:1024*1024}){return e=>function(r,i){let{dumpMaxSize:s=n}=r,o=new JB({maxSize:s},i);return e(r,o)}}kL.exports=LX});var Jo=B((eve,PL)=>{"use strict";var{kConstruct:xX}=Xe(),{kEnumerableProperty:Sc}=fe(),{iteratorMixin:OX,isValidHeaderName:fh,isValidHeaderValue:FL}=Un(),{webidl:Qe}=Gt(),zB=T("assert"),cg=T("util"),Bt=Symbol("headers map"),Vn=Symbol("headers map sorted");function ML(n){return n===10||n===13||n===9||n===32}function LL(n){let e=0,t=n.length;for(;t>e&&ML(n.charCodeAt(t-1));)--t;for(;t>e&&ML(n.charCodeAt(e));)++e;return e===0&&t===n.length?n:n.substring(e,t)}function xL(n,e){if(Array.isArray(e))for(let t=0;t<e.length;++t){let r=e[t];if(r.length!==2)throw Qe.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${r.length}.`});KB(n,r[0],r[1])}else if(typeof e=="object"&&e!==null){let t=Object.keys(e);for(let r=0;r<t.length;++r)KB(n,t[r],e[t[r]])}else throw Qe.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function KB(n,e,t){if(t=LL(t),fh(e)){if(!FL(t))throw Qe.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header value"})}else throw Qe.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(UL(n)==="immutable")throw new TypeError("immutable");return jB(n).append(e,t,!1)}function OL(n,e){return n[0]<e[0]?-1:1}var lg=class n{cookies=null;constructor(e){e instanceof n?(this[Bt]=new Map(e[Bt]),this[Vn]=e[Vn],this.cookies=e.cookies===null?null:[...e.cookies]):(this[Bt]=new Map(e),this[Vn]=null)}contains(e,t){return this[Bt].has(t?e:e.toLowerCase())}clear(){this[Bt].clear(),this[Vn]=null,this.cookies=null}append(e,t,r){this[Vn]=null;let i=r?e:e.toLowerCase(),s=this[Bt].get(i);if(s){let o=i==="cookie"?"; ":", ";this[Bt].set(i,{name:s.name,value:`${s.value}${o}${t}`})}else this[Bt].set(i,{name:e,value:t});i==="set-cookie"&&(this.cookies??=[]).push(t)}set(e,t,r){this[Vn]=null;let i=r?e:e.toLowerCase();i==="set-cookie"&&(this.cookies=[t]),this[Bt].set(i,{name:e,value:t})}delete(e,t){this[Vn]=null,t||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[Bt].delete(e)}get(e,t){return this[Bt].get(t?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:t}}of this[Bt])yield[e,t]}get entries(){let e={};if(this[Bt].size!==0)for(let{name:t,value:r}of this[Bt].values())e[t]=r;return e}rawValues(){return this[Bt].values()}get entriesList(){let e=[];if(this[Bt].size!==0)for(let{0:t,1:{name:r,value:i}}of this[Bt])if(t==="set-cookie")for(let s of this.cookies)e.push([r,s]);else e.push([r,i]);return e}toSortedArray(){let e=this[Bt].size,t=new Array(e);if(e<=32){if(e===0)return t;let r=this[Bt][Symbol.iterator](),i=r.next().value;t[0]=[i[0],i[1].value],zB(i[1].value!==null);for(let s=1,o=0,a=0,c=0,l=0,u,h;s<e;++s){for(h=r.next().value,u=t[s]=[h[0],h[1].value],zB(u[1]!==null),c=0,a=s;c<a;)l=c+(a-c>>1),t[l][0]<=u[0]?c=l+1:a=l;if(s!==l){for(o=s;o>c;)t[o]=t[--o];t[c]=u}}if(!r.next().done)throw new TypeError("Unreachable");return t}else{let r=0;for(let{0:i,1:{value:s}}of this[Bt])t[r++]=[i,s],zB(s!==null);return t.sort(OL)}}},Nr=class n{#e;#t;constructor(e=void 0){e!==xX&&(this.#t=new lg,this.#e="none",e!==void 0&&(e=Qe.converters.HeadersInit(e,"Headers contructor","init"),xL(this,e)))}append(e,t){Qe.brandCheck(this,n),Qe.argumentLengthCheck(arguments,2,"Headers.append");let r="Headers.append";return e=Qe.converters.ByteString(e,r,"name"),t=Qe.converters.ByteString(t,r,"value"),KB(this,e,t)}delete(e){if(Qe.brandCheck(this,n),Qe.argumentLengthCheck(arguments,1,"Headers.delete"),e=Qe.converters.ByteString(e,"Headers.delete","name"),!fh(e))throw Qe.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){Qe.brandCheck(this,n),Qe.argumentLengthCheck(arguments,1,"Headers.get");let t="Headers.get";if(e=Qe.converters.ByteString(e,t,"name"),!fh(e))throw Qe.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){Qe.brandCheck(this,n),Qe.argumentLengthCheck(arguments,1,"Headers.has");let t="Headers.has";if(e=Qe.converters.ByteString(e,t,"name"),!fh(e))throw Qe.errors.invalidArgument({prefix:t,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,t){Qe.brandCheck(this,n),Qe.argumentLengthCheck(arguments,2,"Headers.set");let r="Headers.set";if(e=Qe.converters.ByteString(e,r,"name"),t=Qe.converters.ByteString(t,r,"value"),t=LL(t),fh(e)){if(!FL(t))throw Qe.errors.invalidArgument({prefix:r,value:t,type:"header value"})}else throw Qe.errors.invalidArgument({prefix:r,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,t,!1)}getSetCookie(){Qe.brandCheck(this,n);let e=this.#t.cookies;return e?[...e]:[]}get[Vn](){if(this.#t[Vn])return this.#t[Vn];let e=[],t=this.#t.toSortedArray(),r=this.#t.cookies;if(r===null||r.length===1)return this.#t[Vn]=t;for(let i=0;i<t.length;++i){let{0:s,1:o}=t[i];if(s==="set-cookie")for(let a=0;a<r.length;++a)e.push([s,r[a]]);else e.push([s,o])}return this.#t[Vn]=e}[cg.inspect.custom](e,t){return t.depth??=e,`Headers ${cg.formatWithOptions(t,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,t){e.#e=t}static getHeadersList(e){return e.#t}static setHeadersList(e,t){e.#t=t}},{getHeadersGuard:UL,setHeadersGuard:UX,getHeadersList:jB,setHeadersList:PX}=Nr;Reflect.deleteProperty(Nr,"getHeadersGuard");Reflect.deleteProperty(Nr,"setHeadersGuard");Reflect.deleteProperty(Nr,"getHeadersList");Reflect.deleteProperty(Nr,"setHeadersList");OX("Headers",Nr,Vn,0,1);Object.defineProperties(Nr.prototype,{append:Sc,delete:Sc,get:Sc,has:Sc,set:Sc,getSetCookie:Sc,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[cg.inspect.custom]:{enumerable:!1}});Qe.converters.HeadersInit=function(n,e,t){if(Qe.util.Type(n)==="Object"){let r=Reflect.get(n,Symbol.iterator);if(!cg.types.isProxy(n)&&r===Nr.prototype.entries)try{return jB(n).entriesList}catch{}return typeof r=="function"?Qe.converters["sequence<sequence<ByteString>>"](n,e,t,r.bind(n)):Qe.converters["record<ByteString, ByteString>"](n,e,t)}throw Qe.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};PL.exports={fill:xL,compareHeaderName:OL,Headers:Nr,HeadersList:lg,getHeadersGuard:UL,setHeadersGuard:UX,setHeadersList:PX,getHeadersList:jB}});var ph=B((tve,XL)=>{"use strict";var{Headers:WL,HeadersList:VL,fill:VX,getHeadersGuard:GX,setHeadersGuard:JL,setHeadersList:zL}=Jo(),{extractBody:GL,cloneBody:qX,mixinBody:HX}=Wu(),$B=fe(),qL=T("util"),{kEnumerableProperty:Gn}=$B,{isValidReasonPhrase:YX,isCancelled:WX,isAborted:JX,isBlobLike:zX,serializeJavascriptValueToJSONString:KX,isErrorLike:jX,isomorphicEncode:$X,environmentSettingsObject:XX}=Un(),{redirectStatusSet:ZX,nullBodyStatus:eZ}=Ou(),{kState:lt,kHeaders:ji}=ws(),{webidl:he}=Gt(),{FormData:tZ}=Hu(),{URLSerializer:HL}=Cn(),{kConstruct:hg}=Xe(),XB=T("assert"),{types:nZ}=T("util"),{isDisturbed:rZ,isErrored:iZ}=T("stream"),sZ=new TextEncoder("utf-8"),KL=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,jL;KL&&(jL=new FinalizationRegistry(n=>{let e=n.deref();e&&!e.locked&&!rZ(e)&&!iZ(e)&&e.cancel("Response object has been garbage collected").catch(oZ)}));function oZ(){}var zo=class n{static error(){return gh(Ag(),"immutable")}static json(e,t={}){he.argumentLengthCheck(arguments,1,"Response.json"),t!==null&&(t=he.converters.ResponseInit(t));let r=sZ.encode(KX(e)),i=GL(r),s=gh(bc({}),"response");return YL(s,t,{body:i[0],type:"application/json"}),s}static redirect(e,t=302){he.argumentLengthCheck(arguments,1,"Response.redirect"),e=he.converters.USVString(e),t=he.converters["unsigned short"](t);let r;try{r=new URL(e,XX.settingsObject.baseUrl)}catch(o){throw new TypeError(`Failed to parse URL from ${e}`,{cause:o})}if(!ZX.has(t))throw new RangeError(`Invalid status code ${t}`);let i=gh(bc({}),"immutable");i[lt].status=t;let s=$X(HL(r));return i[lt].headersList.append("location",s,!0),i}constructor(e=null,t={}){if(e===hg)return;e!==null&&(e=he.converters.BodyInit(e)),t=he.converters.ResponseInit(t),this[lt]=bc({}),this[ji]=new WL(hg),JL(this[ji],"response"),zL(this[ji],this[lt].headersList);let r=null;if(e!=null){let[i,s]=GL(e);r={body:i,type:s}}YL(this,t,r)}get type(){return he.brandCheck(this,n),this[lt].type}get url(){he.brandCheck(this,n);let e=this[lt].urlList,t=e[e.length-1]??null;return t===null?"":HL(t,!0)}get redirected(){return he.brandCheck(this,n),this[lt].urlList.length>1}get status(){return he.brandCheck(this,n),this[lt].status}get ok(){return he.brandCheck(this,n),this[lt].status>=200&&this[lt].status<=299}get statusText(){return he.brandCheck(this,n),this[lt].statusText}get headers(){return he.brandCheck(this,n),this[ji]}get body(){return he.brandCheck(this,n),this[lt].body?this[lt].body.stream:null}get bodyUsed(){return he.brandCheck(this,n),!!this[lt].body&&$B.isDisturbed(this[lt].body.stream)}clone(){if(he.brandCheck(this,n),this.bodyUsed||this.body?.locked)throw he.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=ZB(this[lt]);return gh(e,GX(this[ji]))}[qL.inspect.custom](e,t){t.depth===null&&(t.depth=2),t.colors??=!0;let r={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${qL.formatWithOptions(t,r)}`}};HX(zo);Object.defineProperties(zo.prototype,{type:Gn,url:Gn,status:Gn,ok:Gn,redirected:Gn,statusText:Gn,headers:Gn,clone:Gn,body:Gn,bodyUsed:Gn,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(zo,{json:Gn,redirect:Gn,error:Gn});function ZB(n){if(n.internalResponse)return $L(ZB(n.internalResponse),n.type);let e=bc(q(k({},n),{body:null}));return n.body!=null&&(e.body=qX(n.body)),e}function bc(n){return q(k({aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:""},n),{headersList:n?.headersList?new VL(n?.headersList):new VL,urlList:n?.urlList?[...n.urlList]:[]})}function Ag(n){let e=jX(n);return bc({type:"error",status:0,error:e?n:new Error(n&&String(n)),aborted:n&&n.name==="AbortError"})}function aZ(n){return n.type==="error"&&n.status===0}function ug(n,e){return e=k({internalResponse:n},e),new Proxy(n,{get(t,r){return r in e?e[r]:t[r]},set(t,r,i){return XB(!(r in e)),t[r]=i,!0}})}function $L(n,e){if(e==="basic")return ug(n,{type:"basic",headersList:n.headersList});if(e==="cors")return ug(n,{type:"cors",headersList:n.headersList});if(e==="opaque")return ug(n,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return ug(n,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});XB(!1)}function cZ(n,e=null){return XB(WX(n)),JX(n)?Ag(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):Ag(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}function YL(n,e,t){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!YX(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(n[lt].status=e.status),"statusText"in e&&e.statusText!=null&&(n[lt].statusText=e.statusText),"headers"in e&&e.headers!=null&&VX(n[ji],e.headers),t){if(eZ.includes(n.status))throw he.errors.exception({header:"Response constructor",message:`Invalid response status code ${n.status}`});n[lt].body=t.body,t.type!=null&&!n[lt].headersList.contains("content-type",!0)&&n[lt].headersList.append("content-type",t.type,!0)}}function gh(n,e){let t=new zo(hg);return t[lt]=n,t[ji]=new WL(hg),zL(t[ji],n.headersList),JL(t[ji],e),KL&&n.body?.stream&&jL.register(t,new WeakRef(n.body.stream)),t}he.converters.ReadableStream=he.interfaceConverter(ReadableStream);he.converters.FormData=he.interfaceConverter(tZ);he.converters.URLSearchParams=he.interfaceConverter(URLSearchParams);he.converters.XMLHttpRequestBodyInit=function(n,e,t){return typeof n=="string"?he.converters.USVString(n,e,t):zX(n)?he.converters.Blob(n,e,t,{strict:!1}):ArrayBuffer.isView(n)||nZ.isArrayBuffer(n)?he.converters.BufferSource(n,e,t):$B.isFormDataLike(n)?he.converters.FormData(n,e,t,{strict:!1}):n instanceof URLSearchParams?he.converters.URLSearchParams(n,e,t):he.converters.DOMString(n,e,t)};he.converters.BodyInit=function(n,e,t){return n instanceof ReadableStream?he.converters.ReadableStream(n,e,t):n?.[Symbol.asyncIterator]?n:he.converters.XMLHttpRequestBodyInit(n,e,t)};he.converters.ResponseInit=he.dictionaryConverter([{key:"status",converter:he.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:he.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:he.converters.HeadersInit}]);XL.exports={isNetworkError:aZ,makeNetworkError:Ag,makeResponse:bc,makeAppropriateNetworkError:cZ,filterResponse:$L,Response:zo,cloneResponse:ZB,fromInnerResponse:gh}});var nx=B((rve,tx)=>{"use strict";var{kConnected:ZL,kSize:ex}=Xe(),ew=class{constructor(e){this.value=e}deref(){return this.value[ZL]===0&&this.value[ex]===0?void 0:this.value}},tw=class{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{e[ZL]===0&&e[ex]===0&&this.finalizer(t)})}unregister(e){}};tx.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:ew,FinalizationRegistry:tw}):{WeakRef,FinalizationRegistry}}});var Tc=B((ive,px)=>{"use strict";var{extractBody:lZ,mixinBody:uZ,cloneBody:hZ}=Wu(),{Headers:hx,fill:AZ,HeadersList:gg,setHeadersGuard:rw,getHeadersGuard:dZ,setHeadersList:Ax,getHeadersList:rx}=Jo(),{FinalizationRegistry:fZ}=nx()(),mh=fe(),ix=T("util"),{isValidHTTPToken:gZ,sameOrigin:sx,environmentSettingsObject:dg}=Un(),{forbiddenMethodsSet:pZ,corsSafeListedMethodsSet:mZ,referrerPolicy:EZ,requestRedirect:CZ,requestMode:IZ,requestCredentials:yZ,requestCache:BZ,requestDuplex:wZ}=Ou(),{kEnumerableProperty:wt,normalizedMethodRecordsBase:QZ,normalizedMethodRecords:vZ}=mh,{kHeaders:qn,kSignal:fg,kState:ze,kDispatcher:nw}=ws(),{webidl:te}=Gt(),{URLSerializer:_Z}=Cn(),{kConstruct:pg}=Xe(),SZ=T("assert"),{getMaxListeners:ox,setMaxListeners:ax,getEventListeners:bZ,defaultMaxListeners:cx}=T("events"),TZ=Symbol("abortController"),dx=new fZ(({signal:n,abort:e})=>{n.removeEventListener("abort",e)}),mg=new WeakMap;function lx(n){return e;function e(){let t=n.deref();if(t!==void 0){dx.unregister(e),this.removeEventListener("abort",e),t.abort(this.reason);let r=mg.get(t.signal);if(r!==void 0){if(r.size!==0){for(let i of r){let s=i.deref();s!==void 0&&s.abort(this.reason)}r.clear()}mg.delete(t.signal)}}}}var ux=!1,ks=class n{constructor(e,t={}){if(e===pg)return;let r="Request constructor";te.argumentLengthCheck(arguments,1,r),e=te.converters.RequestInfo(e,r,"input"),t=te.converters.RequestInit(t,r,"init");let i=null,s=null,o=dg.settingsObject.baseUrl,a=null;if(typeof e=="string"){this[nw]=t.dispatcher;let _;try{_=new URL(e,o)}catch(S){throw new TypeError("Failed to parse URL from "+e,{cause:S})}if(_.username||_.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);i=Eg({urlList:[_]}),s="cors"}else this[nw]=t.dispatcher||e[nw],SZ(e instanceof n),i=e[ze],a=e[fg];let c=dg.settingsObject.origin,l="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&sx(i.window,c)&&(l=i.window),t.window!=null)throw new TypeError(`'window' option '${l}' must be null`);"window"in t&&(l="no-window"),i=Eg({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:dg.settingsObject,window:l,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let u=Object.keys(t).length!==0;if(u&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),t.referrer!==void 0){let _=t.referrer;if(_==="")i.referrer="no-referrer";else{let S;try{S=new URL(_,o)}catch(R){throw new TypeError(`Referrer "${_}" is not a valid URL.`,{cause:R})}S.protocol==="about:"&&S.hostname==="client"||c&&!sx(S,dg.settingsObject.baseUrl)?i.referrer="client":i.referrer=S}}t.referrerPolicy!==void 0&&(i.referrerPolicy=t.referrerPolicy);let h;if(t.mode!==void 0?h=t.mode:h=s,h==="navigate")throw te.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(h!=null&&(i.mode=h),t.credentials!==void 0&&(i.credentials=t.credentials),t.cache!==void 0&&(i.cache=t.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(t.redirect!==void 0&&(i.redirect=t.redirect),t.integrity!=null&&(i.integrity=String(t.integrity)),t.keepalive!==void 0&&(i.keepalive=!!t.keepalive),t.method!==void 0){let _=t.method,S=vZ[_];if(S!==void 0)i.method=S;else{if(!gZ(_))throw new TypeError(`'${_}' is not a valid HTTP method.`);let R=_.toUpperCase();if(pZ.has(R))throw new TypeError(`'${_}' HTTP method is unsupported.`);_=QZ[R]??_,i.method=_}!ux&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),ux=!0)}t.signal!==void 0&&(a=t.signal),this[ze]=i;let A=new AbortController;if(this[fg]=A.signal,a!=null){if(!a||typeof a.aborted!="boolean"||typeof a.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(a.aborted)A.abort(a.reason);else{this[TZ]=A;let _=new WeakRef(A),S=lx(_);try{(typeof ox=="function"&&ox(a)===cx||bZ(a,"abort").length>=cx)&&ax(1500,a)}catch{}mh.addAbortListener(a,S),dx.register(A,{signal:a,abort:S},S)}}if(this[qn]=new hx(pg),Ax(this[qn],i.headersList),rw(this[qn],"request"),h==="no-cors"){if(!mZ.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);rw(this[qn],"request-no-cors")}if(u){let _=rx(this[qn]),S=t.headers!==void 0?t.headers:new gg(_);if(_.clear(),S instanceof gg){for(let{name:R,value:D}of S.rawValues())_.append(R,D,!1);_.cookies=S.cookies}else AZ(this[qn],S)}let d=e instanceof n?e[ze].body:null;if((t.body!=null||d!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let C=null;if(t.body!=null){let[_,S]=lZ(t.body,i.keepalive);C=_,S&&!rx(this[qn]).contains("content-type",!0)&&this[qn].append("content-type",S)}let m=C??d;if(m!=null&&m.source==null){if(C!=null&&t.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let y=m;if(C==null&&d!=null){if(mh.isDisturbed(d.stream)||d.stream.locked)throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let _=new TransformStream;d.stream.pipeThrough(_),y={source:d.source,length:d.length,stream:_.readable}}this[ze].body=y}get method(){return te.brandCheck(this,n),this[ze].method}get url(){return te.brandCheck(this,n),_Z(this[ze].url)}get headers(){return te.brandCheck(this,n),this[qn]}get destination(){return te.brandCheck(this,n),this[ze].destination}get referrer(){return te.brandCheck(this,n),this[ze].referrer==="no-referrer"?"":this[ze].referrer==="client"?"about:client":this[ze].referrer.toString()}get referrerPolicy(){return te.brandCheck(this,n),this[ze].referrerPolicy}get mode(){return te.brandCheck(this,n),this[ze].mode}get credentials(){return this[ze].credentials}get cache(){return te.brandCheck(this,n),this[ze].cache}get redirect(){return te.brandCheck(this,n),this[ze].redirect}get integrity(){return te.brandCheck(this,n),this[ze].integrity}get keepalive(){return te.brandCheck(this,n),this[ze].keepalive}get isReloadNavigation(){return te.brandCheck(this,n),this[ze].reloadNavigation}get isHistoryNavigation(){return te.brandCheck(this,n),this[ze].historyNavigation}get signal(){return te.brandCheck(this,n),this[fg]}get body(){return te.brandCheck(this,n),this[ze].body?this[ze].body.stream:null}get bodyUsed(){return te.brandCheck(this,n),!!this[ze].body&&mh.isDisturbed(this[ze].body.stream)}get duplex(){return te.brandCheck(this,n),"half"}clone(){if(te.brandCheck(this,n),this.bodyUsed||this.body?.locked)throw new TypeError("unusable");let e=fx(this[ze]),t=new AbortController;if(this.signal.aborted)t.abort(this.signal.reason);else{let r=mg.get(this.signal);r===void 0&&(r=new Set,mg.set(this.signal,r));let i=new WeakRef(t);r.add(i),mh.addAbortListener(t.signal,lx(i))}return gx(e,t.signal,dZ(this[qn]))}[ix.inspect.custom](e,t){t.depth===null&&(t.depth=2),t.colors??=!0;let r={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${ix.formatWithOptions(t,r)}`}};uZ(ks);function Eg(n){return{method:n.method??"GET",localURLsOnly:n.localURLsOnly??!1,unsafeRequest:n.unsafeRequest??!1,body:n.body??null,client:n.client??null,reservedClient:n.reservedClient??null,replacesClientId:n.replacesClientId??"",window:n.window??"client",keepalive:n.keepalive??!1,serviceWorkers:n.serviceWorkers??"all",initiator:n.initiator??"",destination:n.destination??"",priority:n.priority??null,origin:n.origin??"client",policyContainer:n.policyContainer??"client",referrer:n.referrer??"client",referrerPolicy:n.referrerPolicy??"",mode:n.mode??"no-cors",useCORSPreflightFlag:n.useCORSPreflightFlag??!1,credentials:n.credentials??"same-origin",useCredentials:n.useCredentials??!1,cache:n.cache??"default",redirect:n.redirect??"follow",integrity:n.integrity??"",cryptoGraphicsNonceMetadata:n.cryptoGraphicsNonceMetadata??"",parserMetadata:n.parserMetadata??"",reloadNavigation:n.reloadNavigation??!1,historyNavigation:n.historyNavigation??!1,userActivation:n.userActivation??!1,taintedOrigin:n.taintedOrigin??!1,redirectCount:n.redirectCount??0,responseTainting:n.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:n.preventNoCacheCacheControlHeaderModification??!1,done:n.done??!1,timingAllowFailed:n.timingAllowFailed??!1,urlList:n.urlList,url:n.urlList[0],headersList:n.headersList?new gg(n.headersList):new gg}}function fx(n){let e=Eg(q(k({},n),{body:null}));return n.body!=null&&(e.body=hZ(n.body)),e}function gx(n,e,t){let r=new ks(pg);return r[ze]=n,r[fg]=e,r[qn]=new hx(pg),Ax(r[qn],n.headersList),rw(r[qn],t),r}Object.defineProperties(ks.prototype,{method:wt,url:wt,headers:wt,redirect:wt,clone:wt,signal:wt,duplex:wt,destination:wt,body:wt,bodyUsed:wt,isHistoryNavigation:wt,isReloadNavigation:wt,keepalive:wt,integrity:wt,cache:wt,credentials:wt,attribute:wt,referrerPolicy:wt,referrer:wt,mode:wt,[Symbol.toStringTag]:{value:"Request",configurable:!0}});te.converters.Request=te.interfaceConverter(ks);te.converters.RequestInfo=function(n,e,t){return typeof n=="string"?te.converters.USVString(n,e,t):n instanceof ks?te.converters.Request(n,e,t):te.converters.USVString(n,e,t)};te.converters.AbortSignal=te.interfaceConverter(AbortSignal);te.converters.RequestInit=te.dictionaryConverter([{key:"method",converter:te.converters.ByteString},{key:"headers",converter:te.converters.HeadersInit},{key:"body",converter:te.nullableConverter(te.converters.BodyInit)},{key:"referrer",converter:te.converters.USVString},{key:"referrerPolicy",converter:te.converters.DOMString,allowedValues:EZ},{key:"mode",converter:te.converters.DOMString,allowedValues:IZ},{key:"credentials",converter:te.converters.DOMString,allowedValues:yZ},{key:"cache",converter:te.converters.DOMString,allowedValues:BZ},{key:"redirect",converter:te.converters.DOMString,allowedValues:CZ},{key:"integrity",converter:te.converters.DOMString},{key:"keepalive",converter:te.converters.boolean},{key:"signal",converter:te.nullableConverter(n=>te.converters.AbortSignal(n,"RequestInit","signal",{strict:!1}))},{key:"window",converter:te.converters.any},{key:"duplex",converter:te.converters.DOMString,allowedValues:wZ},{key:"dispatcher",converter:te.converters.any}]);px.exports={Request:ks,makeRequest:Eg,fromInnerRequest:gx,cloneRequest:fx}});var Ch=B((ove,Rx)=>{"use strict";var{makeNetworkError:Le,makeAppropriateNetworkError:Ig,filterResponse:iw,makeResponse:yg,fromInnerResponse:DZ}=ph(),{HeadersList:mx}=Jo(),{Request:RZ,cloneRequest:kZ}=Tc(),Cg=T("zlib"),{bytesMatch:NZ,makePolicyContainer:MZ,clonePolicyContainer:FZ,requestBadPort:LZ,TAOCheck:xZ,appendRequestOriginHeader:OZ,responseLocationURL:UZ,requestCurrentURL:pi,setRequestReferrerPolicyOnRedirect:PZ,tryUpgradeRequestToAPotentiallyTrustworthyURL:VZ,createOpaqueTimingInfo:lw,appendFetchMetadata:GZ,corsCheck:qZ,crossOriginResourcePolicyCheck:HZ,determineRequestsReferrer:YZ,coarsenedSharedCurrentTime:Eh,createDeferredPromise:WZ,isBlobLike:JZ,sameOrigin:cw,isCancelled:Ko,isAborted:Ex,isErrorLike:zZ,fullyReadBody:KZ,readableStreamClose:jZ,isomorphicEncode:Bg,urlIsLocal:$Z,urlIsHttpHttpsScheme:uw,urlHasHttpsScheme:XZ,clampAndCoarsenConnectionTimingInfo:ZZ,simpleRangeHeaderValue:e7,buildContentRange:t7,createInflate:n7,extractMimeType:r7}=Un(),{kState:Bx,kDispatcher:i7}=ws(),jo=T("assert"),{safelyExtractBody:hw,extractBody:Cx}=Wu(),{redirectStatusSet:wx,nullBodyStatus:Qx,safeMethodsSet:s7,requestBodyHeader:o7,subresourceSet:a7}=Ou(),c7=T("events"),{Readable:l7,pipeline:u7,finished:h7}=T("stream"),{addAbortListener:A7,isErrored:d7,isReadable:wg,bufferToLowerCasedHeaderName:Ix}=fe(),{dataURLProcessor:f7,serializeAMimeType:g7,minimizeSupportedMimeType:p7}=Cn(),{getGlobalDispatcher:m7}=ag(),{webidl:E7}=Gt(),{STATUS_CODES:C7}=T("http"),I7=["GET","HEAD"],y7=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",sw,Qg=class extends c7{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function B7(n){vx(n,"fetch")}function w7(n,e=void 0){E7.argumentLengthCheck(arguments,1,"globalThis.fetch");let t=WZ(),r;try{r=new RZ(n,e)}catch(u){return t.reject(u),t.promise}let i=r[Bx];if(r.signal.aborted)return ow(t,i,null,r.signal.reason),t.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let o=null,a=!1,c=null;return A7(r.signal,()=>{a=!0,jo(c!=null),c.abort(r.signal.reason);let u=o?.deref();ow(t,i,u,r.signal.reason)}),c=Sx({request:i,processResponseEndOfBody:B7,processResponse:u=>{if(!a){if(u.aborted){ow(t,i,o,c.serializedAbortReason);return}if(u.type==="error"){t.reject(new TypeError("fetch failed",{cause:u.error}));return}o=new WeakRef(DZ(u,"immutable")),t.resolve(o.deref()),t=null}},dispatcher:r[i7]}),t.promise}function vx(n,e="other"){if(n.type==="error"&&n.aborted||!n.urlList?.length)return;let t=n.urlList[0],r=n.timingInfo,i=n.cacheState;uw(t)&&r!==null&&(n.timingAllowPassed||(r=lw({startTime:r.startTime}),i=""),r.endTime=Eh(),n.timingInfo=r,_x(r,t.href,e,globalThis,i))}var _x=performance.markResourceTiming;function ow(n,e,t,r){if(n&&n.reject(r),e.body!=null&&wg(e.body?.stream)&&e.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),t==null)return;let i=t[Bx];i.body!=null&&wg(i.body?.stream)&&i.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}function Sx({request:n,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a=m7()}){jo(a);let c=null,l=!1;n.client!=null&&(c=n.client.globalObject,l=n.client.crossOriginIsolatedCapability);let u=Eh(l),h=lw({startTime:u}),A={controller:new Qg(a),request:n,timingInfo:h,processRequestBodyChunkLength:e,processRequestEndOfBody:t,processResponse:r,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:l};return jo(!n.body||n.body.stream),n.window==="client"&&(n.window=n.client?.globalObject?.constructor?.name==="Window"?n.client:"no-window"),n.origin==="client"&&(n.origin=n.client.origin),n.policyContainer==="client"&&(n.client!=null?n.policyContainer=FZ(n.client.policyContainer):n.policyContainer=MZ()),n.headersList.contains("accept",!0)||n.headersList.append("accept","*/*",!0),n.headersList.contains("accept-language",!0)||n.headersList.append("accept-language","*",!0),n.priority,a7.has(n.destination),bx(A).catch(d=>{A.controller.terminate(d)}),A.controller}function bx(n,e=!1){return I(this,null,function*(){let t=n.request,r=null;if(t.localURLsOnly&&!$Z(pi(t))&&(r=Le("local URLs only")),VZ(t),LZ(t)==="blocked"&&(r=Le("bad port")),t.referrerPolicy===""&&(t.referrerPolicy=t.policyContainer.referrerPolicy),t.referrer!=="no-referrer"&&(t.referrer=YZ(t)),r===null&&(r=yield I(this,null,function*(){let s=pi(t);return cw(s,t.url)&&t.responseTainting==="basic"||s.protocol==="data:"||t.mode==="navigate"||t.mode==="websocket"?(t.responseTainting="basic",yield yx(n)):t.mode==="same-origin"?Le('request mode cannot be "same-origin"'):t.mode==="no-cors"?t.redirect!=="follow"?Le('redirect mode cannot be "follow" for "no-cors" request'):(t.responseTainting="opaque",yield yx(n)):uw(pi(t))?(t.responseTainting="cors",yield Tx(n)):Le("URL scheme must be a HTTP(S) scheme")})),e)return r;r.status!==0&&!r.internalResponse&&(t.responseTainting,t.responseTainting==="basic"?r=iw(r,"basic"):t.responseTainting==="cors"?r=iw(r,"cors"):t.responseTainting==="opaque"?r=iw(r,"opaque"):jo(!1));let i=r.status===0?r:r.internalResponse;if(i.urlList.length===0&&i.urlList.push(...t.urlList),t.timingAllowFailed||(r.timingAllowPassed=!0),r.type==="opaque"&&i.status===206&&i.rangeRequested&&!t.headers.contains("range",!0)&&(r=i=Le()),r.status!==0&&(t.method==="HEAD"||t.method==="CONNECT"||Qx.includes(i.status))&&(i.body=null,n.controller.dump=!0),t.integrity){let s=a=>aw(n,Le(a));if(t.responseTainting==="opaque"||r.body==null){s(r.error);return}let o=a=>{if(!NZ(a,t.integrity)){s("integrity mismatch");return}r.body=hw(a)[0],aw(n,r)};yield KZ(r.body,o,s)}else aw(n,r)})}function yx(n){if(Ko(n)&&n.request.redirectCount===0)return Promise.resolve(Ig(n));let{request:e}=n,{protocol:t}=pi(e);switch(t){case"about:":return Promise.resolve(Le("about scheme is not supported"));case"blob:":{sw||(sw=T("buffer").resolveObjectURL);let r=pi(e);if(r.search.length!==0)return Promise.resolve(Le("NetworkError when attempting to fetch resource."));let i=sw(r.toString());if(e.method!=="GET"||!JZ(i))return Promise.resolve(Le("invalid method"));let s=yg(),o=i.size,a=Bg(`${o}`),c=i.type;if(e.headersList.contains("range",!0)){s.rangeRequested=!0;let l=e.headersList.get("range",!0),u=e7(l,!0);if(u==="failure")return Promise.resolve(Le("failed to fetch the data URL"));let{rangeStartValue:h,rangeEndValue:A}=u;if(h===null)h=o-A,A=h+A-1;else{if(h>=o)return Promise.resolve(Le("Range start is greater than the blob's size."));(A===null||A>=o)&&(A=o-1)}let d=i.slice(h,A,c),C=Cx(d);s.body=C[0];let m=Bg(`${d.size}`),y=t7(h,A,o);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",m,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",y,!0)}else{let l=Cx(i);s.statusText="OK",s.body=l[0],s.headersList.set("content-length",a,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let r=pi(e),i=f7(r);if(i==="failure")return Promise.resolve(Le("failed to fetch the data URL"));let s=g7(i.mimeType);return Promise.resolve(yg({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:hw(i.body)[0]}))}case"file:":return Promise.resolve(Le("not implemented... yet..."));case"http:":case"https:":return Tx(n).catch(r=>Le(r));default:return Promise.resolve(Le("unknown scheme"))}}function Q7(n,e){n.request.done=!0,n.processResponseDone!=null&&queueMicrotask(()=>n.processResponseDone(e))}function aw(n,e){let t=n.timingInfo,r=()=>{let s=Date.now();n.request.destination==="document"&&(n.controller.fullTimingInfo=t),n.controller.reportTimingSteps=()=>{if(n.request.url.protocol!=="https:")return;t.endTime=s;let a=e.cacheState,c=e.bodyInfo;e.timingAllowPassed||(t=lw(t),a="");let l=0;if(n.request.mode!=="navigator"||!e.hasCrossOriginRedirects){l=e.status;let u=r7(e.headersList);u!=="failure"&&(c.contentType=p7(u))}n.request.initiatorType!=null&&_x(t,n.request.url.href,n.request.initiatorType,globalThis,a,c,l)};let o=()=>{n.request.done=!0,n.processResponseEndOfBody!=null&&queueMicrotask(()=>n.processResponseEndOfBody(e)),n.request.initiatorType!=null&&n.controller.reportTimingSteps()};queueMicrotask(()=>o())};n.processResponse!=null&&queueMicrotask(()=>{n.processResponse(e),n.processResponse=null});let i=e.type==="error"?e:e.internalResponse??e;i.body==null?r():h7(i.body.stream,()=>{r()})}function Tx(n){return I(this,null,function*(){let e=n.request,t=null,r=null,i=n.timingInfo;if(e.serviceWorkers,t===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),r=t=yield Dx(n),e.responseTainting==="cors"&&qZ(e,t)==="failure")return Le("cors failure");xZ(e,t)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||t.type==="opaque")&&HZ(e.origin,e.client,e.destination,r)==="blocked"?Le("blocked"):(wx.has(r.status)&&(e.redirect!=="manual"&&n.controller.connection.destroy(void 0,!1),e.redirect==="error"?t=Le("unexpected redirect"):e.redirect==="manual"?t=r:e.redirect==="follow"?t=yield v7(n,t):jo(!1)),t.timingInfo=i,t)})}function v7(n,e){let t=n.request,r=e.internalResponse?e.internalResponse:e,i;try{if(i=UZ(r,pi(t).hash),i==null)return e}catch(o){return Promise.resolve(Le(o))}if(!uw(i))return Promise.resolve(Le("URL scheme must be a HTTP(S) scheme"));if(t.redirectCount===20)return Promise.resolve(Le("redirect count exceeded"));if(t.redirectCount+=1,t.mode==="cors"&&(i.username||i.password)&&!cw(t,i))return Promise.resolve(Le('cross origin not allowed for request mode "cors"'));if(t.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Le('URL cannot contain credentials for request mode "cors"'));if(r.status!==303&&t.body!=null&&t.body.source==null)return Promise.resolve(Le());if([301,302].includes(r.status)&&t.method==="POST"||r.status===303&&!I7.includes(t.method)){t.method="GET",t.body=null;for(let o of o7)t.headersList.delete(o)}cw(pi(t),i)||(t.headersList.delete("authorization",!0),t.headersList.delete("proxy-authorization",!0),t.headersList.delete("cookie",!0),t.headersList.delete("host",!0)),t.body!=null&&(jo(t.body.source!=null),t.body=hw(t.body.source)[0]);let s=n.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=Eh(n.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),t.urlList.push(i),PZ(t,r),bx(n,!0)}function Dx(n,e=!1,t=!1){return I(this,null,function*(){let r=n.request,i=null,s=null,o=null,a=null,c=!1;r.window==="no-window"&&r.redirect==="error"?(i=n,s=r):(s=kZ(r),i=k({},n),i.request=s);let l=r.credentials==="include"||r.credentials==="same-origin"&&r.responseTainting==="basic",u=s.body?s.body.length:null,h=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(h="0"),u!=null&&(h=Bg(`${u}`)),h!=null&&s.headersList.append("content-length",h,!0),u!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",Bg(s.referrer.href),!0),OZ(s),GZ(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",y7),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(XZ(pi(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),a==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,o==null){if(s.cache==="only-if-cached")return Le("only if cached");let A=yield _7(i,l,t);!s7.has(s.method)&&A.status>=200&&A.status<=399,c&&A.status,o==null&&(o=A)}if(o.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(o.rangeRequested=!0),o.requestIncludesCredentials=l,o.status===407)return r.window==="no-window"?Le():Ko(n)?Ig(n):Le("proxy authentication required");if(o.status===421&&!t&&(r.body==null||r.body.source!=null)){if(Ko(n))return Ig(n);n.controller.connection.destroy(),o=yield Dx(n,e,!0)}return o})}function _7(n,e=!1,t=!1){return I(this,null,function*(){jo(!n.controller.connection||n.controller.connection.destroyed),n.controller.connection={abort:null,destroyed:!1,destroy(m,y=!0){this.destroyed||(this.destroyed=!0,y&&this.abort?.(m??new DOMException("The operation was aborted.","AbortError")))}};let r=n.request,i=null,s=n.timingInfo;null==null&&(r.cache="no-store");let a=t?"yes":"no";r.mode;let c=null;if(r.body==null&&n.processRequestEndOfBody)queueMicrotask(()=>n.processRequestEndOfBody());else if(r.body!=null){let m=function(S){return Ui(this,null,function*(){Ko(n)||(yield S,n.processRequestBodyChunkLength?.(S.byteLength))})},y=()=>{Ko(n)||n.processRequestEndOfBody&&n.processRequestEndOfBody()},_=S=>{Ko(n)||(S.name==="AbortError"?n.controller.abort():n.controller.terminate(S))};c=function(){return Ui(this,null,function*(){try{try{for(var S=Xr(r.body.stream),R,D,N;R=!(D=yield new bC(S.next())).done;R=!1){let x=D.value;yield*ps(m(x))}}catch{N=[D]}finally{try{R&&(D=S.return)&&(yield new bC(D.call(S)))}finally{if(N)throw N[0]}}y()}catch(x){_(x)}})}()}try{let{body:m,status:y,statusText:_,headersList:S,socket:R}=yield d({body:c});if(R)i=yg({status:y,statusText:_,headersList:S,socket:R});else{let D=m[Symbol.asyncIterator]();n.controller.next=()=>D.next(),i=yg({status:y,statusText:_,headersList:S})}}catch(m){return m.name==="AbortError"?(n.controller.connection.destroy(),Ig(n,m)):Le(m)}let l=()=>I(this,null,function*(){yield n.controller.resume()}),u=m=>{Ko(n)||n.controller.abort(m)},h=new ReadableStream({start(m){return I(this,null,function*(){n.controller.controller=m})},pull(m){return I(this,null,function*(){yield l(m)})},cancel(m){return I(this,null,function*(){yield u(m)})},type:"bytes"});i.body={stream:h,source:null,length:null},n.controller.onAborted=A,n.controller.on("terminated",A),n.controller.resume=()=>I(this,null,function*(){for(;;){let m,y;try{let{done:S,value:R}=yield n.controller.next();if(Ex(n))break;m=S?void 0:R}catch(S){n.controller.ended&&!s.encodedBodySize?m=void 0:(m=S,y=!0)}if(m===void 0){jZ(n.controller.controller),Q7(n,i);return}if(s.decodedBodySize+=m?.byteLength??0,y){n.controller.terminate(m);return}let _=new Uint8Array(m);if(_.byteLength&&n.controller.controller.enqueue(_),d7(h)){n.controller.terminate();return}if(n.controller.controller.desiredSize<=0)return}});function A(m){Ex(n)?(i.aborted=!0,wg(h)&&n.controller.controller.error(n.controller.serializedAbortReason)):wg(h)&&n.controller.controller.error(new TypeError("terminated",{cause:zZ(m)?m:void 0})),n.controller.connection.destroy()}return i;function d({body:m}){let y=pi(r),_=n.controller.dispatcher;return new Promise((S,R)=>_.dispatch({path:y.pathname+y.search,origin:y.origin,method:r.method,body:_.isMockActive?r.body&&(r.body.source||r.body.stream):m,headers:r.headersList.entries,maxRedirections:0,upgrade:r.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(D){let{connection:N}=n.controller;s.finalConnectionTimingInfo=ZZ(void 0,s.postRedirectStartTime,n.crossOriginIsolatedCapability),N.destroyed?D(new DOMException("The operation was aborted.","AbortError")):(n.controller.on("terminated",D),this.abort=N.abort=D),s.finalNetworkRequestStartTime=Eh(n.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=Eh(n.crossOriginIsolatedCapability)},onHeaders(D,N,x,Q){if(D<200)return;let E=[],w="",v=new mx;for(let p=0;p<N.length;p+=2)v.append(Ix(N[p]),N[p+1].toString("latin1"),!0);let g=v.get("content-encoding",!0);g&&(E=g.toLowerCase().split(",").map(p=>p.trim())),w=v.get("location",!0),this.body=new l7({read:x});let b=[],f=w&&r.redirect==="follow"&&wx.has(D);if(E.length!==0&&r.method!=="HEAD"&&r.method!=="CONNECT"&&!Qx.includes(D)&&!f)for(let p=0;p<E.length;++p){let P=E[p];if(P==="x-gzip"||P==="gzip")b.push(Cg.createGunzip({flush:Cg.constants.Z_SYNC_FLUSH,finishFlush:Cg.constants.Z_SYNC_FLUSH}));else if(P==="deflate")b.push(n7());else if(P==="br")b.push(Cg.createBrotliDecompress());else{b.length=0;break}}return S({status:D,statusText:Q,headersList:v,body:b.length?u7(this.body,...b,()=>{}):this.body.on("error",()=>{})}),!0},onData(D){if(n.controller.dump)return;let N=D;return s.encodedBodySize+=N.byteLength,this.body.push(N)},onComplete(){this.abort&&n.controller.off("terminated",this.abort),n.controller.onAborted&&n.controller.off("terminated",n.controller.onAborted),n.controller.ended=!0,this.body.push(null)},onError(D){this.abort&&n.controller.off("terminated",this.abort),this.body?.destroy(D),n.controller.terminate(D),R(D)},onUpgrade(D,N,x){if(D!==101)return;let Q=new mx;for(let E=0;E<N.length;E+=2)Q.append(Ix(N[E]),N[E+1].toString("latin1"),!0);return S({status:D,statusText:C7[D],headersList:Q,socket:x}),!0}}))}})}Rx.exports={fetch:w7,Fetch:Qg,fetching:Sx,finalizeAndReportTiming:vx}});var Aw=B((cve,kx)=>{"use strict";kx.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var Mx=B((lve,Nx)=>{"use strict";var{webidl:Hn}=Gt(),vg=Symbol("ProgressEvent state"),dw=class n extends Event{constructor(e,t={}){e=Hn.converters.DOMString(e,"ProgressEvent constructor","type"),t=Hn.converters.ProgressEventInit(t??{}),super(e,t),this[vg]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return Hn.brandCheck(this,n),this[vg].lengthComputable}get loaded(){return Hn.brandCheck(this,n),this[vg].loaded}get total(){return Hn.brandCheck(this,n),this[vg].total}};Hn.converters.ProgressEventInit=Hn.dictionaryConverter([{key:"lengthComputable",converter:Hn.converters.boolean,defaultValue:()=>!1},{key:"loaded",converter:Hn.converters["unsigned long long"],defaultValue:()=>0},{key:"total",converter:Hn.converters["unsigned long long"],defaultValue:()=>0},{key:"bubbles",converter:Hn.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:Hn.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:Hn.converters.boolean,defaultValue:()=>!1}]);Nx.exports={ProgressEvent:dw}});var Lx=B((uve,Fx)=>{"use strict";function S7(n){if(!n)return"failure";switch(n.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}Fx.exports={getEncoding:S7}});var Hx=B((hve,qx)=>{"use strict";var{kState:Dc,kError:fw,kResult:xx,kAborted:Ih,kLastProgressEventFired:gw}=Aw(),{ProgressEvent:b7}=Mx(),{getEncoding:Ox}=Lx(),{serializeAMimeType:T7,parseMIMEType:Ux}=Cn(),{types:D7}=T("util"),{StringDecoder:Px}=T("string_decoder"),{btoa:Vx}=T("buffer"),R7={enumerable:!0,writable:!1,configurable:!1};function k7(n,e,t,r){if(n[Dc]==="loading")throw new DOMException("Invalid state","InvalidStateError");n[Dc]="loading",n[xx]=null,n[fw]=null;let s=e.stream().getReader(),o=[],a=s.read(),c=!0;I(this,null,function*(){for(;!n[Ih];)try{let{done:l,value:u}=yield a;if(c&&!n[Ih]&&queueMicrotask(()=>{Ns("loadstart",n)}),c=!1,!l&&D7.isUint8Array(u))o.push(u),(n[gw]===void 0||Date.now()-n[gw]>=50)&&!n[Ih]&&(n[gw]=Date.now(),queueMicrotask(()=>{Ns("progress",n)})),a=s.read();else if(l){queueMicrotask(()=>{n[Dc]="done";try{let h=N7(o,t,e.type,r);if(n[Ih])return;n[xx]=h,Ns("load",n)}catch(h){n[fw]=h,Ns("error",n)}n[Dc]!=="loading"&&Ns("loadend",n)});break}}catch(l){if(n[Ih])return;queueMicrotask(()=>{n[Dc]="done",n[fw]=l,Ns("error",n),n[Dc]!=="loading"&&Ns("loadend",n)});break}})}function Ns(n,e){let t=new b7(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(t)}function N7(n,e,t,r){switch(e){case"DataURL":{let i="data:",s=Ux(t||"application/octet-stream");s!=="failure"&&(i+=T7(s)),i+=";base64,";let o=new Px("latin1");for(let a of n)i+=Vx(o.write(a));return i+=Vx(o.end()),i}case"Text":{let i="failure";if(r&&(i=Ox(r)),i==="failure"&&t){let s=Ux(t);s!=="failure"&&(i=Ox(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),M7(n,i)}case"ArrayBuffer":return Gx(n).buffer;case"BinaryString":{let i="",s=new Px("latin1");for(let o of n)i+=s.write(o);return i+=s.end(),i}}}function M7(n,e){let t=Gx(n),r=F7(t),i=0;r!==null&&(e=r,i=r==="UTF-8"?3:2);let s=t.slice(i);return new TextDecoder(e).decode(s)}function F7(n){let[e,t,r]=n;return e===239&&t===187&&r===191?"UTF-8":e===254&&t===255?"UTF-16BE":e===255&&t===254?"UTF-16LE":null}function Gx(n){let e=n.reduce((r,i)=>r+i.byteLength,0),t=0;return n.reduce((r,i)=>(r.set(i,t),t+=i.byteLength,r),new Uint8Array(e))}qx.exports={staticPropertyDescriptors:R7,readOperation:k7,fireAProgressEvent:Ns}});var zx=B((dve,Jx)=>{"use strict";var{staticPropertyDescriptors:Rc,readOperation:_g,fireAProgressEvent:Yx}=Hx(),{kState:$o,kError:Wx,kResult:Sg,kEvents:Re,kAborted:L7}=Aw(),{webidl:Pe}=Gt(),{kEnumerableProperty:Bn}=fe(),Mr=class n extends EventTarget{constructor(){super(),this[$o]="empty",this[Sg]=null,this[Wx]=null,this[Re]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Pe.brandCheck(this,n),Pe.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Pe.converters.Blob(e,{strict:!1}),_g(this,e,"ArrayBuffer")}readAsBinaryString(e){Pe.brandCheck(this,n),Pe.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Pe.converters.Blob(e,{strict:!1}),_g(this,e,"BinaryString")}readAsText(e,t=void 0){Pe.brandCheck(this,n),Pe.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Pe.converters.Blob(e,{strict:!1}),t!==void 0&&(t=Pe.converters.DOMString(t,"FileReader.readAsText","encoding")),_g(this,e,"Text",t)}readAsDataURL(e){Pe.brandCheck(this,n),Pe.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Pe.converters.Blob(e,{strict:!1}),_g(this,e,"DataURL")}abort(){if(this[$o]==="empty"||this[$o]==="done"){this[Sg]=null;return}this[$o]==="loading"&&(this[$o]="done",this[Sg]=null),this[L7]=!0,Yx("abort",this),this[$o]!=="loading"&&Yx("loadend",this)}get readyState(){switch(Pe.brandCheck(this,n),this[$o]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Pe.brandCheck(this,n),this[Sg]}get error(){return Pe.brandCheck(this,n),this[Wx]}get onloadend(){return Pe.brandCheck(this,n),this[Re].loadend}set onloadend(e){Pe.brandCheck(this,n),this[Re].loadend&&this.removeEventListener("loadend",this[Re].loadend),typeof e=="function"?(this[Re].loadend=e,this.addEventListener("loadend",e)):this[Re].loadend=null}get onerror(){return Pe.brandCheck(this,n),this[Re].error}set onerror(e){Pe.brandCheck(this,n),this[Re].error&&this.removeEventListener("error",this[Re].error),typeof e=="function"?(this[Re].error=e,this.addEventListener("error",e)):this[Re].error=null}get onloadstart(){return Pe.brandCheck(this,n),this[Re].loadstart}set onloadstart(e){Pe.brandCheck(this,n),this[Re].loadstart&&this.removeEventListener("loadstart",this[Re].loadstart),typeof e=="function"?(this[Re].loadstart=e,this.addEventListener("loadstart",e)):this[Re].loadstart=null}get onprogress(){return Pe.brandCheck(this,n),this[Re].progress}set onprogress(e){Pe.brandCheck(this,n),this[Re].progress&&this.removeEventListener("progress",this[Re].progress),typeof e=="function"?(this[Re].progress=e,this.addEventListener("progress",e)):this[Re].progress=null}get onload(){return Pe.brandCheck(this,n),this[Re].load}set onload(e){Pe.brandCheck(this,n),this[Re].load&&this.removeEventListener("load",this[Re].load),typeof e=="function"?(this[Re].load=e,this.addEventListener("load",e)):this[Re].load=null}get onabort(){return Pe.brandCheck(this,n),this[Re].abort}set onabort(e){Pe.brandCheck(this,n),this[Re].abort&&this.removeEventListener("abort",this[Re].abort),typeof e=="function"?(this[Re].abort=e,this.addEventListener("abort",e)):this[Re].abort=null}};Mr.EMPTY=Mr.prototype.EMPTY=0;Mr.LOADING=Mr.prototype.LOADING=1;Mr.DONE=Mr.prototype.DONE=2;Object.defineProperties(Mr.prototype,{EMPTY:Rc,LOADING:Rc,DONE:Rc,readAsArrayBuffer:Bn,readAsBinaryString:Bn,readAsText:Bn,readAsDataURL:Bn,abort:Bn,readyState:Bn,result:Bn,error:Bn,onloadstart:Bn,onprogress:Bn,onload:Bn,onabort:Bn,onerror:Bn,onloadend:Bn,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Mr,{EMPTY:Rc,LOADING:Rc,DONE:Rc});Jx.exports={FileReader:Mr}});var bg=B((fve,Kx)=>{"use strict";Kx.exports={kConstruct:Xe().kConstruct}});var Xx=B((gve,$x)=>{"use strict";var x7=T("assert"),{URLSerializer:jx}=Cn(),{isValidHeaderName:O7}=Un();function U7(n,e,t=!1){let r=jx(n,t),i=jx(e,t);return r===i}function P7(n){x7(n!==null);let e=[];for(let t of n.split(","))t=t.trim(),O7(t)&&e.push(t);return e}$x.exports={urlEquals:U7,getFieldValues:P7}});var tO=B((pve,eO)=>{"use strict";var{kConstruct:V7}=bg(),{urlEquals:G7,getFieldValues:pw}=Xx(),{kEnumerableProperty:Xo,isDisturbed:q7}=fe(),{webidl:$}=Gt(),{Response:H7,cloneResponse:Y7,fromInnerResponse:W7}=ph(),{Request:$i,fromInnerRequest:J7}=Tc(),{kState:Fr}=ws(),{fetching:z7}=Ch(),{urlIsHttpHttpsScheme:Tg,createDeferredPromise:kc,readAllBytes:K7}=Un(),mw=T("assert"),Dg=class n{#e;constructor(){arguments[0]!==V7&&$.illegalConstructor(),this.#e=arguments[1]}match(r){return I(this,arguments,function*(e,t={}){$.brandCheck(this,n);let i="Cache.match";$.argumentLengthCheck(arguments,1,i),e=$.converters.RequestInfo(e,i,"request"),t=$.converters.CacheQueryOptions(t,i,"options");let s=this.#n(e,t,1);if(s.length!==0)return s[0]})}matchAll(){return I(this,arguments,function*(e=void 0,t={}){$.brandCheck(this,n);let r="Cache.matchAll";return e!==void 0&&(e=$.converters.RequestInfo(e,r,"request")),t=$.converters.CacheQueryOptions(t,r,"options"),this.#n(e,t)})}add(t){return I(this,arguments,function*(e){$.brandCheck(this,n);let r="Cache.add";$.argumentLengthCheck(arguments,1,r),e=$.converters.RequestInfo(e,r,"request");let i=[e];return yield this.addAll(i)})}addAll(t){return I(this,arguments,function*(e){$.brandCheck(this,n);let r="Cache.addAll";$.argumentLengthCheck(arguments,1,r);let i=[],s=[];for(let d of e){if(d===void 0)throw $.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(d=$.converters.RequestInfo(d),typeof d=="string")continue;let C=d[Fr];if(!Tg(C.url)||C.method!=="GET")throw $.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let o=[];for(let d of e){let C=new $i(d)[Fr];if(!Tg(C.url))throw $.errors.exception({header:r,message:"Expected http/s scheme."});C.initiator="fetch",C.destination="subresource",s.push(C);let m=kc();o.push(z7({request:C,processResponse(y){if(y.type==="error"||y.status===206||y.status<200||y.status>299)m.reject($.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(y.headersList.contains("vary")){let _=pw(y.headersList.get("vary"));for(let S of _)if(S==="*"){m.reject($.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let R of o)R.abort();return}}},processResponseEndOfBody(y){if(y.aborted){m.reject(new DOMException("aborted","AbortError"));return}m.resolve(y)}})),i.push(m.promise)}let c=yield Promise.all(i),l=[],u=0;for(let d of c){let C={type:"put",request:s[u],response:d};l.push(C),u++}let h=kc(),A=null;try{this.#t(l)}catch(d){A=d}return queueMicrotask(()=>{A===null?h.resolve(void 0):h.reject(A)}),h.promise})}put(r,i){return I(this,arguments,function*(e,t){$.brandCheck(this,n);let s="Cache.put";$.argumentLengthCheck(arguments,2,s),e=$.converters.RequestInfo(e,s,"request"),t=$.converters.Response(t,s,"response");let o=null;if(e instanceof $i?o=e[Fr]:o=new $i(e)[Fr],!Tg(o.url)||o.method!=="GET")throw $.errors.exception({header:s,message:"Expected an http/s scheme when method is not GET"});let a=t[Fr];if(a.status===206)throw $.errors.exception({header:s,message:"Got 206 status"});if(a.headersList.contains("vary")){let m=pw(a.headersList.get("vary"));for(let y of m)if(y==="*")throw $.errors.exception({header:s,message:"Got * vary field value"})}if(a.body&&(q7(a.body.stream)||a.body.stream.locked))throw $.errors.exception({header:s,message:"Response body is locked or disturbed"});let c=Y7(a),l=kc();if(a.body!=null){let y=a.body.stream.getReader();K7(y).then(l.resolve,l.reject)}else l.resolve(void 0);let u=[],h={type:"put",request:o,response:c};u.push(h);let A=yield l.promise;c.body!=null&&(c.body.source=A);let d=kc(),C=null;try{this.#t(u)}catch(m){C=m}return queueMicrotask(()=>{C===null?d.resolve():d.reject(C)}),d.promise})}delete(r){return I(this,arguments,function*(e,t={}){$.brandCheck(this,n);let i="Cache.delete";$.argumentLengthCheck(arguments,1,i),e=$.converters.RequestInfo(e,i,"request"),t=$.converters.CacheQueryOptions(t,i,"options");let s=null;if(e instanceof $i){if(s=e[Fr],s.method!=="GET"&&!t.ignoreMethod)return!1}else mw(typeof e=="string"),s=new $i(e)[Fr];let o=[],a={type:"delete",request:s,options:t};o.push(a);let c=kc(),l=null,u;try{u=this.#t(o)}catch(h){l=h}return queueMicrotask(()=>{l===null?c.resolve(!!u?.length):c.reject(l)}),c.promise})}keys(){return I(this,arguments,function*(e=void 0,t={}){$.brandCheck(this,n);let r="Cache.keys";e!==void 0&&(e=$.converters.RequestInfo(e,r,"request")),t=$.converters.CacheQueryOptions(t,r,"options");let i=null;if(e!==void 0)if(e instanceof $i){if(i=e[Fr],i.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(i=new $i(e)[Fr]);let s=kc(),o=[];if(e===void 0)for(let a of this.#e)o.push(a[0]);else{let a=this.#i(i,t);for(let c of a)o.push(c[0])}return queueMicrotask(()=>{let a=[];for(let c of o){let l=J7(c,new AbortController().signal,"immutable");a.push(l)}s.resolve(Object.freeze(a))}),s.promise})}#t(e){let t=this.#e,r=[...t],i=[],s=[];try{for(let o of e){if(o.type!=="delete"&&o.type!=="put")throw $.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(o.type==="delete"&&o.response!=null)throw $.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(o.request,o.options,i).length)throw new DOMException("???","InvalidStateError");let a;if(o.type==="delete"){if(a=this.#i(o.request,o.options),a.length===0)return[];for(let c of a){let l=t.indexOf(c);mw(l!==-1),t.splice(l,1)}}else if(o.type==="put"){if(o.response==null)throw $.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=o.request;if(!Tg(c.url))throw $.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw $.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(o.options!=null)throw $.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});a=this.#i(o.request);for(let l of a){let u=t.indexOf(l);mw(u!==-1),t.splice(u,1)}t.push([o.request,o.response]),i.push([o.request,o.response])}s.push([o.request,o.response])}return s}catch(o){throw this.#e.length=0,this.#e=r,o}}#i(e,t,r){let i=[],s=r??this.#e;for(let o of s){let[a,c]=o;this.#r(e,a,c,t)&&i.push(o)}return i}#r(e,t,r=null,i){let s=new URL(e.url),o=new URL(t.url);if(i?.ignoreSearch&&(o.search="",s.search=""),!G7(s,o,!0))return!1;if(r==null||i?.ignoreVary||!r.headersList.contains("vary"))return!0;let a=pw(r.headersList.get("vary"));for(let c of a){if(c==="*")return!1;let l=t.headersList.get(c),u=e.headersList.get(c);if(l!==u)return!1}return!0}#n(e,t,r=1/0){let i=null;if(e!==void 0)if(e instanceof $i){if(i=e[Fr],i.method!=="GET"&&!t.ignoreMethod)return[]}else typeof e=="string"&&(i=new $i(e)[Fr]);let s=[];if(e===void 0)for(let a of this.#e)s.push(a[1]);else{let a=this.#i(i,t);for(let c of a)s.push(c[1])}let o=[];for(let a of s){let c=W7(a,"immutable");if(o.push(c.clone()),o.length>=r)break}return Object.freeze(o)}};Object.defineProperties(Dg.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:Xo,matchAll:Xo,add:Xo,addAll:Xo,put:Xo,delete:Xo,keys:Xo});var Zx=[{key:"ignoreSearch",converter:$.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:$.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:$.converters.boolean,defaultValue:()=>!1}];$.converters.CacheQueryOptions=$.dictionaryConverter(Zx);$.converters.MultiCacheQueryOptions=$.dictionaryConverter([...Zx,{key:"cacheName",converter:$.converters.DOMString}]);$.converters.Response=$.interfaceConverter(H7);$.converters["sequence<RequestInfo>"]=$.sequenceConverter($.converters.RequestInfo);eO.exports={Cache:Dg}});var rO=B((Eve,nO)=>{"use strict";var{kConstruct:yh}=bg(),{Cache:Rg}=tO(),{webidl:hn}=Gt(),{kEnumerableProperty:Bh}=fe(),kg=class n{#e=new Map;constructor(){arguments[0]!==yh&&hn.illegalConstructor()}match(r){return I(this,arguments,function*(e,t={}){if(hn.brandCheck(this,n),hn.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=hn.converters.RequestInfo(e),t=hn.converters.MultiCacheQueryOptions(t),t.cacheName!=null){if(this.#e.has(t.cacheName)){let i=this.#e.get(t.cacheName);return yield new Rg(yh,i).match(e,t)}}else for(let i of this.#e.values()){let o=yield new Rg(yh,i).match(e,t);if(o!==void 0)return o}})}has(t){return I(this,arguments,function*(e){hn.brandCheck(this,n);let r="CacheStorage.has";return hn.argumentLengthCheck(arguments,1,r),e=hn.converters.DOMString(e,r,"cacheName"),this.#e.has(e)})}open(t){return I(this,arguments,function*(e){hn.brandCheck(this,n);let r="CacheStorage.open";if(hn.argumentLengthCheck(arguments,1,r),e=hn.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let s=this.#e.get(e);return new Rg(yh,s)}let i=[];return this.#e.set(e,i),new Rg(yh,i)})}delete(t){return I(this,arguments,function*(e){hn.brandCheck(this,n);let r="CacheStorage.delete";return hn.argumentLengthCheck(arguments,1,r),e=hn.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)})}keys(){return I(this,null,function*(){return hn.brandCheck(this,n),[...this.#e.keys()]})}};Object.defineProperties(kg.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Bh,has:Bh,open:Bh,delete:Bh,keys:Bh});nO.exports={CacheStorage:kg}});var sO=B((Ive,iO)=>{"use strict";iO.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Ew=B((yve,uO)=>{"use strict";function j7(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t>=0&&t<=8||t>=10&&t<=31||t===127)return!0}return!1}function oO(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<33||t>126||t===34||t===40||t===41||t===60||t===62||t===64||t===44||t===59||t===58||t===92||t===47||t===91||t===93||t===63||t===61||t===123||t===125)throw new Error("Invalid cookie name")}}function aO(n){let e=n.length,t=0;if(n[0]==='"'){if(e===1||n[e-1]!=='"')throw new Error("Invalid cookie value");--e,++t}for(;t<e;){let r=n.charCodeAt(t++);if(r<33||r>126||r===34||r===44||r===59||r===92)throw new Error("Invalid cookie value")}}function cO(n){for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<32||t===127||t===59)throw new Error("Invalid cookie path")}}function $7(n){if(n.startsWith("-")||n.endsWith(".")||n.endsWith("-"))throw new Error("Invalid cookie domain")}var X7=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z7=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ng=Array(61).fill(0).map((n,e)=>e.toString().padStart(2,"0"));function lO(n){return typeof n=="number"&&(n=new Date(n)),`${X7[n.getUTCDay()]}, ${Ng[n.getUTCDate()]} ${Z7[n.getUTCMonth()]} ${n.getUTCFullYear()} ${Ng[n.getUTCHours()]}:${Ng[n.getUTCMinutes()]}:${Ng[n.getUTCSeconds()]} GMT`}function eee(n){if(n<0)throw new Error("Invalid cookie max-age")}function tee(n){if(n.name.length===0)return null;oO(n.name),aO(n.value);let e=[`${n.name}=${n.value}`];n.name.startsWith("__Secure-")&&(n.secure=!0),n.name.startsWith("__Host-")&&(n.secure=!0,n.domain=null,n.path="/"),n.secure&&e.push("Secure"),n.httpOnly&&e.push("HttpOnly"),typeof n.maxAge=="number"&&(eee(n.maxAge),e.push(`Max-Age=${n.maxAge}`)),n.domain&&($7(n.domain),e.push(`Domain=${n.domain}`)),n.path&&(cO(n.path),e.push(`Path=${n.path}`)),n.expires&&n.expires.toString()!=="Invalid Date"&&e.push(`Expires=${lO(n.expires)}`),n.sameSite&&e.push(`SameSite=${n.sameSite}`);for(let t of n.unparsed){if(!t.includes("="))throw new Error("Invalid unparsed");let[r,...i]=t.split("=");e.push(`${r.trim()}=${i.join("=")}`)}return e.join("; ")}uO.exports={isCTLExcludingHtab:j7,validateCookieName:oO,validateCookiePath:cO,validateCookieValue:aO,toIMFDate:lO,stringify:tee}});var AO=B((Bve,hO)=>{"use strict";var{maxNameValuePairSize:nee,maxAttributeValueSize:ree}=sO(),{isCTLExcludingHtab:iee}=Ew(),{collectASequenceOfCodePointsFast:Mg}=Cn(),see=T("assert");function oee(n){if(iee(n))return null;let e="",t="",r="",i="";if(n.includes(";")){let s={position:0};e=Mg(";",n,s),t=n.slice(s.position)}else e=n;if(!e.includes("="))i=e;else{let s={position:0};r=Mg("=",e,s),i=e.slice(s.position+1)}return r=r.trim(),i=i.trim(),r.length+i.length>nee?null:k({name:r,value:i},Nc(t))}function Nc(n,e={}){if(n.length===0)return e;see(n[0]===";"),n=n.slice(1);let t="";n.includes(";")?(t=Mg(";",n,{position:0}),n=n.slice(t.length)):(t=n,n="");let r="",i="";if(t.includes("=")){let o={position:0};r=Mg("=",t,o),i=t.slice(o.position+1)}else r=t;if(r=r.trim(),i=i.trim(),i.length>ree)return Nc(n,e);let s=r.toLowerCase();if(s==="expires"){let o=new Date(i);e.expires=o}else if(s==="max-age"){let o=i.charCodeAt(0);if((o<48||o>57)&&i[0]!=="-"||!/^\d+$/.test(i))return Nc(n,e);let a=Number(i);e.maxAge=a}else if(s==="domain"){let o=i;o[0]==="."&&(o=o.slice(1)),o=o.toLowerCase(),e.domain=o}else if(s==="path"){let o="";i.length===0||i[0]!=="/"?o="/":o=i,e.path=o}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let o="Default",a=i.toLowerCase();a.includes("none")&&(o="None"),a.includes("strict")&&(o="Strict"),a.includes("lax")&&(o="Lax"),e.sameSite=o}else e.unparsed??=[],e.unparsed.push(`${r}=${i}`);return Nc(n,e)}hO.exports={parseSetCookie:oee,parseUnparsedAttributes:Nc}});var gO=B((Qve,fO)=>{"use strict";var{parseSetCookie:aee}=AO(),{stringify:cee}=Ew(),{webidl:pe}=Gt(),{Headers:Fg}=Jo();function lee(n){pe.argumentLengthCheck(arguments,1,"getCookies"),pe.brandCheck(n,Fg,{strict:!1});let e=n.get("cookie"),t={};if(!e)return t;for(let r of e.split(";")){let[i,...s]=r.split("=");t[i.trim()]=s.join("=")}return t}function uee(n,e,t){pe.brandCheck(n,Fg,{strict:!1});let r="deleteCookie";pe.argumentLengthCheck(arguments,2,r),e=pe.converters.DOMString(e,r,"name"),t=pe.converters.DeleteCookieAttributes(t),dO(n,k({name:e,value:"",expires:new Date(0)},t))}function hee(n){pe.argumentLengthCheck(arguments,1,"getSetCookies"),pe.brandCheck(n,Fg,{strict:!1});let e=n.getSetCookie();return e?e.map(t=>aee(t)):[]}function dO(n,e){pe.argumentLengthCheck(arguments,2,"setCookie"),pe.brandCheck(n,Fg,{strict:!1}),e=pe.converters.Cookie(e);let t=cee(e);t&&n.append("Set-Cookie",t)}pe.converters.DeleteCookieAttributes=pe.dictionaryConverter([{converter:pe.nullableConverter(pe.converters.DOMString),key:"path",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters.DOMString),key:"domain",defaultValue:()=>null}]);pe.converters.Cookie=pe.dictionaryConverter([{converter:pe.converters.DOMString,key:"name"},{converter:pe.converters.DOMString,key:"value"},{converter:pe.nullableConverter(n=>typeof n=="number"?pe.converters["unsigned long long"](n):new Date(n)),key:"expires",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters.DOMString),key:"path",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters.boolean),key:"secure",defaultValue:()=>null},{converter:pe.nullableConverter(pe.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:pe.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:pe.sequenceConverter(pe.converters.DOMString),key:"unparsed",defaultValue:()=>new Array(0)}]);fO.exports={getCookies:lee,deleteCookie:uee,getSetCookies:hee,setCookie:dO}});var Fc=B((_ve,mO)=>{"use strict";var{webidl:Z}=Gt(),{kEnumerableProperty:wn}=fe(),{kConstruct:pO}=Xe(),{MessagePort:Aee}=T("worker_threads"),Mc=class n extends Event{#e;constructor(e,t={}){if(e===pO){super(arguments[1],arguments[2]);return}let r="MessageEvent constructor";Z.argumentLengthCheck(arguments,1,r),e=Z.converters.DOMString(e,r,"type"),t=Z.converters.MessageEventInit(t,r,"eventInitDict"),super(e,t),this.#e=t}get data(){return Z.brandCheck(this,n),this.#e.data}get origin(){return Z.brandCheck(this,n),this.#e.origin}get lastEventId(){return Z.brandCheck(this,n),this.#e.lastEventId}get source(){return Z.brandCheck(this,n),this.#e.source}get ports(){return Z.brandCheck(this,n),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,t=!1,r=!1,i=null,s="",o="",a=null,c=[]){return Z.brandCheck(this,n),Z.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new n(e,{bubbles:t,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:c})}static createFastMessageEvent(e,t){let r=new n(pO,e,t);return r.#e=t,r.#e.data??=null,r.#e.origin??="",r.#e.lastEventId??="",r.#e.source??=null,r.#e.ports??=[],r}},{createFastMessageEvent:dee}=Mc;delete Mc.createFastMessageEvent;var Lg=class n extends Event{#e;constructor(e,t={}){let r="CloseEvent constructor";Z.argumentLengthCheck(arguments,1,r),e=Z.converters.DOMString(e,r,"type"),t=Z.converters.CloseEventInit(t),super(e,t),this.#e=t}get wasClean(){return Z.brandCheck(this,n),this.#e.wasClean}get code(){return Z.brandCheck(this,n),this.#e.code}get reason(){return Z.brandCheck(this,n),this.#e.reason}},xg=class n extends Event{#e;constructor(e,t){let r="ErrorEvent constructor";Z.argumentLengthCheck(arguments,1,r),super(e,t),e=Z.converters.DOMString(e,r,"type"),t=Z.converters.ErrorEventInit(t??{}),this.#e=t}get message(){return Z.brandCheck(this,n),this.#e.message}get filename(){return Z.brandCheck(this,n),this.#e.filename}get lineno(){return Z.brandCheck(this,n),this.#e.lineno}get colno(){return Z.brandCheck(this,n),this.#e.colno}get error(){return Z.brandCheck(this,n),this.#e.error}};Object.defineProperties(Mc.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:wn,origin:wn,lastEventId:wn,source:wn,ports:wn,initMessageEvent:wn});Object.defineProperties(Lg.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:wn,code:wn,wasClean:wn});Object.defineProperties(xg.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:wn,filename:wn,lineno:wn,colno:wn,error:wn});Z.converters.MessagePort=Z.interfaceConverter(Aee);Z.converters["sequence<MessagePort>"]=Z.sequenceConverter(Z.converters.MessagePort);var Cw=[{key:"bubbles",converter:Z.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:Z.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:Z.converters.boolean,defaultValue:()=>!1}];Z.converters.MessageEventInit=Z.dictionaryConverter([...Cw,{key:"data",converter:Z.converters.any,defaultValue:()=>null},{key:"origin",converter:Z.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:Z.converters.DOMString,defaultValue:()=>""},{key:"source",converter:Z.nullableConverter(Z.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:Z.converters["sequence<MessagePort>"],defaultValue:()=>new Array(0)}]);Z.converters.CloseEventInit=Z.dictionaryConverter([...Cw,{key:"wasClean",converter:Z.converters.boolean,defaultValue:()=>!1},{key:"code",converter:Z.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:Z.converters.USVString,defaultValue:()=>""}]);Z.converters.ErrorEventInit=Z.dictionaryConverter([...Cw,{key:"message",converter:Z.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:Z.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:Z.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:Z.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:Z.converters.any}]);mO.exports={MessageEvent:Mc,CloseEvent:Lg,ErrorEvent:xg,createFastMessageEvent:dee}});var Zo=B((Sve,EO)=>{"use strict";var fee="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",gee={enumerable:!0,writable:!1,configurable:!1},pee={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},mee={NOT_SENT:0,PROCESSING:1,SENT:2},Eee={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Cee=2**16-1,Iee={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},yee=Buffer.allocUnsafe(0),Bee={string:1,typedArray:2,arrayBuffer:3,blob:4};EO.exports={uid:fee,sentCloseFrameState:mee,staticPropertyDescriptors:gee,states:pee,opcodes:Eee,maxUnsigned16Bit:Cee,parserStates:Iee,emptyBuffer:yee,sendHints:Bee}});var wh=B((bve,CO)=>{"use strict";CO.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var _h=B((Tve,bO)=>{"use strict";var{kReadyState:Qh,kController:wee,kResponse:Qee,kBinaryType:vee,kWebSocketURL:_ee}=wh(),{states:vh,opcodes:Ms}=Zo(),{ErrorEvent:See,createFastMessageEvent:bee}=Fc(),{isUtf8:Tee}=T("buffer"),{collectASequenceOfCodePointsFast:Dee,removeHTTPWhitespace:IO}=Cn();function Ree(n){return n[Qh]===vh.CONNECTING}function kee(n){return n[Qh]===vh.OPEN}function Nee(n){return n[Qh]===vh.CLOSING}function Mee(n){return n[Qh]===vh.CLOSED}function Iw(n,e,t=(i,s)=>new Event(i,s),r={}){let i=t(n,r);e.dispatchEvent(i)}function Fee(n,e,t){if(n[Qh]!==vh.OPEN)return;let r;if(e===Ms.TEXT)try{r=SO(t)}catch{BO(n,"Received invalid UTF-8 in text frame.");return}else e===Ms.BINARY&&(n[vee]==="blob"?r=new Blob([t]):r=Lee(t));Iw("message",n,bee,{origin:n[_ee].origin,data:r})}function Lee(n){return n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}function xee(n){if(n.length===0)return!1;for(let e=0;e<n.length;++e){let t=n.charCodeAt(e);if(t<33||t>126||t===34||t===40||t===41||t===44||t===47||t===58||t===59||t===60||t===61||t===62||t===63||t===64||t===91||t===92||t===93||t===123||t===125)return!1}return!0}function Oee(n){return n>=1e3&&n<1015?n!==1004&&n!==1005&&n!==1006:n>=3e3&&n<=4999}function BO(n,e){let{[wee]:t,[Qee]:r}=n;t.abort(),r?.socket&&!r.socket.destroyed&&r.socket.destroy(),e&&Iw("error",n,(i,s)=>new See(i,s),{error:new Error(e),message:e})}function wO(n){return n===Ms.CLOSE||n===Ms.PING||n===Ms.PONG}function QO(n){return n===Ms.CONTINUATION}function vO(n){return n===Ms.TEXT||n===Ms.BINARY}function Uee(n){return vO(n)||QO(n)||wO(n)}function Pee(n){let e={position:0},t=new Map;for(;e.position<n.length;){let r=Dee(";",n,e),[i,s=""]=r.split("=");t.set(IO(i,!0,!1),IO(s,!1,!0)),e.position++}return t}function Vee(n){for(let e=0;e<n.length;e++){let t=n.charCodeAt(e);if(t<48||t>57)return!1}return!0}var _O=typeof process.versions.icu=="string",yO=_O?new TextDecoder("utf-8",{fatal:!0}):void 0,SO=_O?yO.decode.bind(yO):function(n){if(Tee(n))return n.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};bO.exports={isConnecting:Ree,isEstablished:kee,isClosing:Nee,isClosed:Mee,fireEvent:Iw,isValidSubprotocol:xee,isValidStatusCode:Oee,failWebsocketConnection:BO,websocketMessageReceived:Fee,utf8Decode:SO,isControlFrame:wO,isContinuationFrame:QO,isTextBinaryFrame:vO,isValidOpcode:Uee,parseExtensions:Pee,isValidClientWindowBits:Vee}});var Ug=B((Dve,TO)=>{"use strict";var{maxUnsigned16Bit:Gee}=Zo(),Og=16386,yw,Sh=null,Lc=Og;try{yw=T("crypto")}catch{yw={randomFillSync:function(e,t,r){for(let i=0;i<e.length;++i)e[i]=Math.random()*255|0;return e}}}function qee(){return Lc===Og&&(Lc=0,yw.randomFillSync(Sh??=Buffer.allocUnsafe(Og),0,Og)),[Sh[Lc++],Sh[Lc++],Sh[Lc++],Sh[Lc++]]}var Bw=class{constructor(e){this.frameData=e}createFrame(e){let t=this.frameData,r=qee(),i=t?.byteLength??0,s=i,o=6;i>Gee?(o+=8,s=127):i>125&&(o+=2,s=126);let a=Buffer.allocUnsafe(i+o);a[0]=a[1]=0,a[0]|=128,a[0]=(a[0]&240)+e;a[o-4]=r[0],a[o-3]=r[1],a[o-2]=r[2],a[o-1]=r[3],a[1]=s,s===126?a.writeUInt16BE(i,2):s===127&&(a[2]=a[3]=0,a.writeUIntBE(i,4,6)),a[1]|=128;for(let c=0;c<i;++c)a[o+c]=t[c]^r[c&3];return a}};TO.exports={WebsocketFrameSend:Bw}});var Qw=B((Rve,LO)=>{"use strict";var{uid:Hee,states:bh,sentCloseFrameState:Pg,emptyBuffer:Yee,opcodes:Wee}=Zo(),{kReadyState:Th,kSentClose:Vg,kByteParser:RO,kReceivedClose:DO,kResponse:kO}=wh(),{fireEvent:Jee,failWebsocketConnection:Fs,isClosing:zee,isClosed:Kee,isEstablished:jee,parseExtensions:$ee}=_h(),{channels:xc}=Xa(),{CloseEvent:Xee}=Fc(),{makeRequest:Zee}=Tc(),{fetching:ete}=Ch(),{Headers:tte,getHeadersList:nte}=Jo(),{getDecodeSplit:rte}=Un(),{WebsocketFrameSend:ite}=Ug(),ww;try{ww=T("crypto")}catch{}function ste(n,e,t,r,i,s){let o=n;o.protocol=n.protocol==="ws:"?"http:":"https:";let a=Zee({urlList:[o],client:t,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let h=nte(new tte(s.headers));a.headersList=h}let c=ww.randomBytes(16).toString("base64");a.headersList.append("sec-websocket-key",c),a.headersList.append("sec-websocket-version","13");for(let h of e)a.headersList.append("sec-websocket-protocol",h);return a.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),ete({request:a,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(h){if(h.type==="error"||h.status!==101){Fs(r,"Received network error or non-101 status code.");return}if(e.length!==0&&!h.headersList.get("Sec-WebSocket-Protocol")){Fs(r,"Server did not respond with sent protocols.");return}if(h.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Fs(r,'Server did not set Upgrade header to "websocket".');return}if(h.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Fs(r,'Server did not set Connection header to "upgrade".');return}let A=h.headersList.get("Sec-WebSocket-Accept"),d=ww.createHash("sha1").update(c+Hee).digest("base64");if(A!==d){Fs(r,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let C=h.headersList.get("Sec-WebSocket-Extensions"),m;if(C!==null&&(m=$ee(C),!m.has("permessage-deflate"))){Fs(r,"Sec-WebSocket-Extensions header does not match.");return}let y=h.headersList.get("Sec-WebSocket-Protocol");if(y!==null&&!rte("sec-websocket-protocol",a.headersList).includes(y)){Fs(r,"Protocol was not set in the opening handshake.");return}h.socket.on("data",NO),h.socket.on("close",MO),h.socket.on("error",FO),xc.open.hasSubscribers&&xc.open.publish({address:h.socket.address(),protocol:y,extensions:C}),i(h,m)}})}function ote(n,e,t,r){if(!(zee(n)||Kee(n)))if(!jee(n))Fs(n,"Connection was closed before it was established."),n[Th]=bh.CLOSING;else if(n[Vg]===Pg.NOT_SENT){n[Vg]=Pg.PROCESSING;let i=new ite;e!==void 0&&t===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&t!==void 0?(i.frameData=Buffer.allocUnsafe(2+r),i.frameData.writeUInt16BE(e,0),i.frameData.write(t,2,"utf-8")):i.frameData=Yee,n[kO].socket.write(i.createFrame(Wee.CLOSE)),n[Vg]=Pg.SENT,n[Th]=bh.CLOSING}else n[Th]=bh.CLOSING}function NO(n){this.ws[RO].write(n)||this.pause()}function MO(){let{ws:n}=this,{[kO]:e}=n;e.socket.off("data",NO),e.socket.off("close",MO),e.socket.off("error",FO);let t=n[Vg]===Pg.SENT&&n[DO],r=1005,i="",s=n[RO].closingInfo;s&&!s.error?(r=s.code??1005,i=s.reason):n[DO]||(r=1006),n[Th]=bh.CLOSED,Jee("close",n,(o,a)=>new Xee(o,a),{wasClean:t,code:r,reason:i}),xc.close.hasSubscribers&&xc.close.publish({websocket:n,code:r,reason:i})}function FO(n){let{ws:e}=this;e[Th]=bh.CLOSING,xc.socketError.hasSubscribers&&xc.socketError.publish(n),this.destroy()}LO.exports={establishWebSocketConnection:ste,closeWebSocketConnection:ote}});var OO=B((kve,xO)=>{"use strict";var{createInflateRaw:ate,Z_DEFAULT_WINDOWBITS:cte}=T("zlib"),{isValidClientWindowBits:lte}=_h(),ute=Buffer.from([0,0,255,255]),Gg=Symbol("kBuffer"),qg=Symbol("kLength"),vw=class{#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,t,r){if(!this.#e){let i=cte;if(this.#t.serverMaxWindowBits){if(!lte(this.#t.serverMaxWindowBits)){r(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=ate({windowBits:i}),this.#e[Gg]=[],this.#e[qg]=0,this.#e.on("data",s=>{this.#e[Gg].push(s),this.#e[qg]+=s.length}),this.#e.on("error",s=>{this.#e=null,r(s)})}this.#e.write(e),t&&this.#e.write(ute),this.#e.flush(()=>{let i=Buffer.concat(this.#e[Gg],this.#e[qg]);this.#e[Gg].length=0,this.#e[qg]=0,r(null,i)})}};xO.exports={PerMessageDeflate:vw}});var KO=B((Nve,zO)=>{"use strict";var{Writable:hte}=T("stream"),Ate=T("assert"),{parserStates:Qn,opcodes:Oc,states:dte,emptyBuffer:UO,sentCloseFrameState:PO}=Zo(),{kReadyState:fte,kSentClose:VO,kResponse:GO,kReceivedClose:qO}=wh(),{channels:Hg}=Xa(),{isValidStatusCode:gte,isValidOpcode:pte,failWebsocketConnection:cr,websocketMessageReceived:HO,utf8Decode:mte,isControlFrame:YO,isTextBinaryFrame:_w,isContinuationFrame:Ete}=_h(),{WebsocketFrameSend:WO}=Ug(),{closeWebSocketConnection:JO}=Qw(),{PerMessageDeflate:Cte}=OO(),Sw=class extends hte{#e=[];#t=0;#i=!1;#r=Qn.INFO;#n={};#s=[];#o;constructor(e,t){super(),this.ws=e,this.#o=t??new Map,this.#o.has("permessage-deflate")&&this.#o.set("permessage-deflate",new Cte(t))}_write(e,t,r){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(r)}run(e){for(;this.#i;)if(this.#r===Qn.INFO){if(this.#t<2)return e();let t=this.consume(2),r=(t[0]&128)!==0,i=t[0]&15,s=(t[1]&128)===128,o=!r&&i!==Oc.CONTINUATION,a=t[1]&127,c=t[0]&64,l=t[0]&32,u=t[0]&16;if(!pte(i))return cr(this.ws,"Invalid opcode received"),e();if(s)return cr(this.ws,"Frame cannot be masked"),e();if(c!==0&&!this.#o.has("permessage-deflate")){cr(this.ws,"Expected RSV1 to be clear.");return}if(l!==0||u!==0){cr(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(o&&!_w(i)){cr(this.ws,"Invalid frame type was fragmented.");return}if(_w(i)&&this.#s.length>0){cr(this.ws,"Expected continuation frame");return}if(this.#n.fragmented&&o){cr(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((a>125||o)&&YO(i)){cr(this.ws,"Control frame either too large or fragmented");return}if(Ete(i)&&this.#s.length===0&&!this.#n.compressed){cr(this.ws,"Unexpected continuation frame");return}a<=125?(this.#n.payloadLength=a,this.#r=Qn.READ_DATA):a===126?this.#r=Qn.PAYLOADLENGTH_16:a===127&&(this.#r=Qn.PAYLOADLENGTH_64),_w(i)&&(this.#n.binaryType=i,this.#n.compressed=c!==0),this.#n.opcode=i,this.#n.masked=s,this.#n.fin=r,this.#n.fragmented=o}else if(this.#r===Qn.PAYLOADLENGTH_16){if(this.#t<2)return e();let t=this.consume(2);this.#n.payloadLength=t.readUInt16BE(0),this.#r=Qn.READ_DATA}else if(this.#r===Qn.PAYLOADLENGTH_64){if(this.#t<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2**31-1){cr(this.ws,"Received payload length > 2^31 bytes.");return}let i=t.readUInt32BE(4);this.#n.payloadLength=(r<<8)+i,this.#r=Qn.READ_DATA}else if(this.#r===Qn.READ_DATA){if(this.#t<this.#n.payloadLength)return e();let t=this.consume(this.#n.payloadLength);if(YO(this.#n.opcode))this.#i=this.parseControlFrame(t),this.#r=Qn.INFO;else if(this.#n.compressed){this.#o.get("permessage-deflate").decompress(t,this.#n.fin,(r,i)=>{if(r){JO(this.ws,1007,r.message,r.message.length);return}if(this.#s.push(i),!this.#n.fin){this.#r=Qn.INFO,this.#i=!0,this.run(e);return}HO(this.ws,this.#n.binaryType,Buffer.concat(this.#s)),this.#i=!0,this.#r=Qn.INFO,this.#s.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#s.push(t),!this.#n.fragmented&&this.#n.fin){let r=Buffer.concat(this.#s);HO(this.ws,this.#n.binaryType,r),this.#s.length=0}this.#r=Qn.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return UO;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#e[0],{length:s}=i;if(s+r===e){t.set(this.#e.shift(),r);break}else if(s+r>e){t.set(i.subarray(0,e-r),r),this.#e[0]=i.subarray(e-r);break}else t.set(this.#e.shift(),r),r+=i.length}return this.#t-=e,t}parseCloseBody(e){Ate(e.length!==1);let t;if(e.length>=2&&(t=e.readUInt16BE(0)),t!==void 0&&!gte(t))return{code:1002,reason:"Invalid status code",error:!0};let r=e.subarray(2);r[0]===239&&r[1]===187&&r[2]===191&&(r=r.subarray(3));try{r=mte(r)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:t,reason:r,error:!1}}parseControlFrame(e){let{opcode:t,payloadLength:r}=this.#n;if(t===Oc.CLOSE){if(r===1)return cr(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#n.closeInfo=this.parseCloseBody(e),this.#n.closeInfo.error){let{code:i,reason:s}=this.#n.closeInfo;return JO(this.ws,i,s,s.length),cr(this.ws,s),!1}if(this.ws[VO]!==PO.SENT){let i=UO;this.#n.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#n.closeInfo.code,0));let s=new WO(i);this.ws[GO].socket.write(s.createFrame(Oc.CLOSE),o=>{o||(this.ws[VO]=PO.SENT)})}return this.ws[fte]=dte.CLOSING,this.ws[qO]=!0,!1}else if(t===Oc.PING){if(!this.ws[qO]){let i=new WO(e);this.ws[GO].socket.write(i.createFrame(Oc.PONG)),Hg.ping.hasSubscribers&&Hg.ping.publish({payload:e})}}else t===Oc.PONG&&Hg.pong.hasSubscribers&&Hg.pong.publish({payload:e});return!0}get closingInfo(){return this.#n.closeInfo}};zO.exports={ByteParser:Sw}});var eU=B((Mve,ZO)=>{"use strict";var{WebsocketFrameSend:Ite}=Ug(),{opcodes:jO,sendHints:Uc}=Zo(),yte=Py(),$O=Buffer[Symbol.species],bw=class{#e=new yte;#t=!1;#i;constructor(e){this.#i=e}add(e,t,r){if(r!==Uc.blob){let s=XO(e,r);if(!this.#t)this.#i.write(s,t);else{let o={promise:null,callback:t,frame:s};this.#e.push(o)}return}let i={promise:e.arrayBuffer().then(s=>{i.promise=null,i.frame=XO(s,r)}),callback:t,frame:null};this.#e.push(i),this.#t||this.#r()}#r(){return I(this,null,function*(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let t=e.shift();t.promise!==null&&(yield t.promise),this.#i.write(t.frame,t.callback),t.callback=t.frame=null}this.#t=!1})}};function XO(n,e){return new Ite(Bte(n,e)).createFrame(e===Uc.string?jO.TEXT:jO.BINARY)}function Bte(n,e){switch(e){case Uc.string:return Buffer.from(n);case Uc.arrayBuffer:case Uc.blob:return new $O(n);case Uc.typedArray:return new $O(n.buffer,n.byteOffset,n.byteLength)}}ZO.exports={SendQueue:bw}});var lU=B((Lve,cU)=>{"use strict";var{webidl:se}=Gt(),{URLSerializer:wte}=Cn(),{environmentSettingsObject:tU}=Un(),{staticPropertyDescriptors:Ls,states:Dh,sentCloseFrameState:Qte,sendHints:Yg}=Zo(),{kWebSocketURL:nU,kReadyState:Tw,kController:vte,kBinaryType:Wg,kResponse:rU,kSentClose:_te,kByteParser:Ste}=wh(),{isConnecting:bte,isEstablished:Tte,isClosing:Dte,isValidSubprotocol:Rte,fireEvent:iU}=_h(),{establishWebSocketConnection:kte,closeWebSocketConnection:sU}=Qw(),{ByteParser:Nte}=KO(),{kEnumerableProperty:lr,isBlobLike:oU}=fe(),{getGlobalDispatcher:Mte}=ag(),{types:aU}=T("util"),{ErrorEvent:Fte,CloseEvent:Lte}=Fc(),{SendQueue:xte}=eU(),Yn=class n extends EventTarget{#e={open:null,error:null,close:null,message:null};#t=0;#i="";#r="";#n;constructor(e,t=[]){super();let r="WebSocket constructor";se.argumentLengthCheck(arguments,1,r);let i=se.converters["DOMString or sequence<DOMString> or WebSocketInit"](t,r,"options");e=se.converters.USVString(e,r,"url"),t=i.protocols;let s=tU.settingsObject.baseUrl,o;try{o=new URL(e,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),o.protocol!=="ws:"&&o.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${o.protocol}`,"SyntaxError");if(o.hash||o.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof t=="string"&&(t=[t]),t.length!==new Set(t.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(t.length>0&&!t.every(c=>Rte(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[nU]=new URL(o.href);let a=tU.settingsObject;this[vte]=kte(o,t,a,this,(c,l)=>this.#s(c,l),i),this[Tw]=n.CONNECTING,this[_te]=Qte.NOT_SENT,this[Wg]="blob"}close(e=void 0,t=void 0){se.brandCheck(this,n);let r="WebSocket.close";if(e!==void 0&&(e=se.converters["unsigned short"](e,r,"code",{clamp:!0})),t!==void 0&&(t=se.converters.USVString(t,r,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(t!==void 0&&(i=Buffer.byteLength(t),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");sU(this,e,t,i)}send(e){se.brandCheck(this,n);let t="WebSocket.send";if(se.argumentLengthCheck(arguments,1,t),e=se.converters.WebSocketSendData(e,t,"data"),bte(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Tte(this)||Dte(this)))if(typeof e=="string"){let r=Buffer.byteLength(e);this.#t+=r,this.#n.add(e,()=>{this.#t-=r},Yg.string)}else aU.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#n.add(e,()=>{this.#t-=e.byteLength},Yg.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#n.add(e,()=>{this.#t-=e.byteLength},Yg.typedArray)):oU(e)&&(this.#t+=e.size,this.#n.add(e,()=>{this.#t-=e.size},Yg.blob))}get readyState(){return se.brandCheck(this,n),this[Tw]}get bufferedAmount(){return se.brandCheck(this,n),this.#t}get url(){return se.brandCheck(this,n),wte(this[nU])}get extensions(){return se.brandCheck(this,n),this.#r}get protocol(){return se.brandCheck(this,n),this.#i}get onopen(){return se.brandCheck(this,n),this.#e.open}set onopen(e){se.brandCheck(this,n),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return se.brandCheck(this,n),this.#e.error}set onerror(e){se.brandCheck(this,n),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return se.brandCheck(this,n),this.#e.close}set onclose(e){se.brandCheck(this,n),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return se.brandCheck(this,n),this.#e.message}set onmessage(e){se.brandCheck(this,n),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return se.brandCheck(this,n),this[Wg]}set binaryType(e){se.brandCheck(this,n),e!=="blob"&&e!=="arraybuffer"?this[Wg]="blob":this[Wg]=e}#s(e,t){this[rU]=e;let r=new Nte(this,t);r.on("drain",Ote),r.on("error",Ute.bind(this)),e.socket.ws=this,this[Ste]=r,this.#n=new xte(e.socket),this[Tw]=Dh.OPEN;let i=e.headersList.get("sec-websocket-extensions");i!==null&&(this.#r=i);let s=e.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),iU("open",this)}};Yn.CONNECTING=Yn.prototype.CONNECTING=Dh.CONNECTING;Yn.OPEN=Yn.prototype.OPEN=Dh.OPEN;Yn.CLOSING=Yn.prototype.CLOSING=Dh.CLOSING;Yn.CLOSED=Yn.prototype.CLOSED=Dh.CLOSED;Object.defineProperties(Yn.prototype,{CONNECTING:Ls,OPEN:Ls,CLOSING:Ls,CLOSED:Ls,url:lr,readyState:lr,bufferedAmount:lr,onopen:lr,onerror:lr,onclose:lr,close:lr,onmessage:lr,binaryType:lr,send:lr,extensions:lr,protocol:lr,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Yn,{CONNECTING:Ls,OPEN:Ls,CLOSING:Ls,CLOSED:Ls});se.converters["sequence<DOMString>"]=se.sequenceConverter(se.converters.DOMString);se.converters["DOMString or sequence<DOMString>"]=function(n,e,t){return se.util.Type(n)==="Object"&&Symbol.iterator in n?se.converters["sequence<DOMString>"](n):se.converters.DOMString(n,e,t)};se.converters.WebSocketInit=se.dictionaryConverter([{key:"protocols",converter:se.converters["DOMString or sequence<DOMString>"],defaultValue:()=>new Array(0)},{key:"dispatcher",converter:se.converters.any,defaultValue:()=>Mte()},{key:"headers",converter:se.nullableConverter(se.converters.HeadersInit)}]);se.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(n){return se.util.Type(n)==="Object"&&!(Symbol.iterator in n)?se.converters.WebSocketInit(n):{protocols:se.converters["DOMString or sequence<DOMString>"](n)}};se.converters.WebSocketSendData=function(n){if(se.util.Type(n)==="Object"){if(oU(n))return se.converters.Blob(n,{strict:!1});if(ArrayBuffer.isView(n)||aU.isArrayBuffer(n))return se.converters.BufferSource(n)}return se.converters.USVString(n)};function Ote(){this.ws[rU].socket.resume()}function Ute(n){let e,t;n instanceof Lte?(e=n.reason,t=n.code):e=n.message,iU("error",this,()=>new Fte("error",{error:n,message:e})),sU(this,t)}cU.exports={WebSocket:Yn}});var Dw=B((xve,uU)=>{"use strict";function Pte(n){return n.indexOf("\0")===-1}function Vte(n){if(n.length===0)return!1;for(let e=0;e<n.length;e++)if(n.charCodeAt(e)<48||n.charCodeAt(e)>57)return!1;return!0}function Gte(n){return new Promise(e=>{setTimeout(e,n).unref()})}uU.exports={isValidLastEventId:Pte,isASCIINumber:Vte,delay:Gte}});var fU=B((Ove,dU)=>{"use strict";var{Transform:qte}=T("stream"),{isASCIINumber:hU,isValidLastEventId:AU}=Dw(),Xi=[239,187,191],Rw=10,Jg=13,Hte=58,Yte=32,kw=class extends qte{state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,t,r){if(e.length===0){r();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===Xi[0]){r();return}this.checkBOM=!1,r();return;case 2:if(this.buffer[0]===Xi[0]&&this.buffer[1]===Xi[1]){r();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===Xi[0]&&this.buffer[1]===Xi[1]&&this.buffer[2]===Xi[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,r();return}this.checkBOM=!1;break;default:this.buffer[0]===Xi[0]&&this.buffer[1]===Xi[1]&&this.buffer[2]===Xi[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Rw){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Rw||this.buffer[this.pos]===Jg){this.buffer[this.pos]===Jg&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Rw||this.buffer[this.pos]===Jg){this.buffer[this.pos]===Jg&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}r()}parseLine(e,t){if(e.length===0)return;let r=e.indexOf(Hte);if(r===0)return;let i="",s="";if(r!==-1){i=e.subarray(0,r).toString("utf8");let o=r+1;e[o]===Yte&&++o,s=e.subarray(o).toString("utf8")}else i=e.toString("utf8"),s="";switch(i){case"data":t[i]===void 0?t[i]=s:t[i]+=`
${s}`;break;case"retry":hU(s)&&(t[i]=s);break;case"id":AU(s)&&(t[i]=s);break;case"event":s.length>0&&(t[i]=s);break}}processEvent(e){e.retry&&hU(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&AU(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};dU.exports={EventSourceStream:kw}});var BU=B((Uve,yU)=>{"use strict";var{pipeline:Wte}=T("stream"),{fetching:Jte}=Ch(),{makeRequest:zte}=Tc(),{webidl:xs}=Gt(),{EventSourceStream:Kte}=fU(),{parseMIMEType:jte}=Cn(),{createFastMessageEvent:$te}=Fc(),{isNetworkError:gU}=ph(),{delay:Xte}=Dw(),{kEnumerableProperty:ea}=fe(),{environmentSettingsObject:pU}=Un(),mU=!1,EU=3e3,Rh=0,CU=1,kh=2,Zte="anonymous",ene="use-credentials",Pc=class n extends EventTarget{#e={open:null,error:null,message:null};#t=null;#i=!1;#r=Rh;#n=null;#s=null;#o;#a;constructor(e,t={}){super();let r="EventSource constructor";xs.argumentLengthCheck(arguments,1,r),mU||(mU=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=xs.converters.USVString(e,r,"url"),t=xs.converters.EventSourceInitDict(t,r,"eventSourceInitDict"),this.#o=t.dispatcher,this.#a={lastEventId:"",reconnectionTime:EU};let i=pU,s;try{s=new URL(e,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let o=Zte;t.withCredentials&&(o=ene,this.#i=!0);let a={redirect:"follow",keepalive:!0,mode:"cors",credentials:o==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};a.client=pU.settingsObject,a.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],a.cache="no-store",a.initiator="other",a.urlList=[new URL(this.#t)],this.#n=zte(a),this.#c()}get readyState(){return this.#r}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#r===kh)return;this.#r=Rh;let e={request:this.#n,dispatcher:this.#o},t=r=>{gU(r)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()};e.processResponseEndOfBody=t,e.processResponse=r=>{if(gU(r))if(r.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let i=r.headersList.get("content-type",!0),s=i!==null?jte(i):"failure",o=s!=="failure"&&s.essence==="text/event-stream";if(r.status!==200||o===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#r=CU,this.dispatchEvent(new Event("open")),this.#a.origin=r.urlList[r.urlList.length-1].origin;let a=new Kte({eventSourceSettings:this.#a,push:c=>{this.dispatchEvent($te(c.type,c.options))}});Wte(r.body.stream,a,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#s=Jte(e)}#l(){return I(this,null,function*(){this.#r!==kh&&(this.#r=Rh,this.dispatchEvent(new Event("error")),yield Xte(this.#a.reconnectionTime),this.#r===Rh&&(this.#a.lastEventId.length&&this.#n.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))})}close(){xs.brandCheck(this,n),this.#r!==kh&&(this.#r=kh,this.#s.abort(),this.#n=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},IU={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:Rh,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:CU,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:kh,writable:!1}};Object.defineProperties(Pc,IU);Object.defineProperties(Pc.prototype,IU);Object.defineProperties(Pc.prototype,{close:ea,onerror:ea,onmessage:ea,onopen:ea,readyState:ea,url:ea,withCredentials:ea});xs.converters.EventSourceInitDict=xs.dictionaryConverter([{key:"withCredentials",converter:xs.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:xs.converters.any}]);yU.exports={EventSource:Pc,defaultReconnectionTime:EU}});var Mh=B((Vve,ne)=>{"use strict";var tne=rh(),wU=Fu(),nne=mc(),rne=NM(),ine=Ec(),sne=iB(),one=jM(),ane=nF(),QU=Me(),Kg=fe(),{InvalidArgumentError:zg}=QU,Vc=VF(),cne=xu(),lne=UB(),une=BL(),hne=GB(),Ane=_B(),dne=jf(),{getGlobalDispatcher:vU,setGlobalDispatcher:fne}=ag(),gne=WB(),pne=Of(),mne=Uf();Object.assign(wU.prototype,Vc);ne.exports.Dispatcher=wU;ne.exports.Client=tne;ne.exports.Pool=nne;ne.exports.BalancedPool=rne;ne.exports.Agent=ine;ne.exports.ProxyAgent=sne;ne.exports.EnvHttpProxyAgent=one;ne.exports.RetryAgent=ane;ne.exports.RetryHandler=dne;ne.exports.DecoratorHandler=gne;ne.exports.RedirectHandler=pne;ne.exports.createRedirectInterceptor=mne;ne.exports.interceptors={redirect:TL(),retry:RL(),dump:NL()};ne.exports.buildConnector=cne;ne.exports.errors=QU;ne.exports.util={parseHeaders:Kg.parseHeaders,headerNameToString:Kg.headerNameToString};function Nh(n){return(e,t,r)=>{if(typeof t=="function"&&(r=t,t=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new zg("invalid url");if(t!=null&&typeof t!="object")throw new zg("invalid opts");if(t&&t.path!=null){if(typeof t.path!="string")throw new zg("invalid opts.path");let o=t.path;t.path.startsWith("/")||(o=`/${o}`),e=new URL(Kg.parseOrigin(e).origin+o)}else t||(t=typeof e=="object"?e:{}),e=Kg.parseURL(e);let{agent:i,dispatcher:s=vU()}=t;if(i)throw new zg("unsupported opts.agent. Did you mean opts.client?");return n.call(s,q(k({},t),{origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:t.method||(t.body?"PUT":"GET")}),r)}}ne.exports.setGlobalDispatcher=fne;ne.exports.getGlobalDispatcher=vU;var Ene=Ch().fetch;ne.exports.fetch=function(e,t=void 0){return I(this,null,function*(){try{return yield Ene(e,t)}catch(r){throw r&&typeof r=="object"&&Error.captureStackTrace(r),r}})};ne.exports.Headers=Jo().Headers;ne.exports.Response=ph().Response;ne.exports.Request=Tc().Request;ne.exports.FormData=Hu().FormData;ne.exports.File=globalThis.File??T("buffer").File;ne.exports.FileReader=zx().FileReader;var{setGlobalOrigin:Cne,getGlobalOrigin:Ine}=ay();ne.exports.setGlobalOrigin=Cne;ne.exports.getGlobalOrigin=Ine;var{CacheStorage:yne}=rO(),{kConstruct:Bne}=bg();ne.exports.caches=new yne(Bne);var{deleteCookie:wne,getCookies:Qne,getSetCookies:vne,setCookie:_ne}=gO();ne.exports.deleteCookie=wne;ne.exports.getCookies=Qne;ne.exports.getSetCookies=vne;ne.exports.setCookie=_ne;var{parseMIMEType:Sne,serializeAMimeType:bne}=Cn();ne.exports.parseMIMEType=Sne;ne.exports.serializeAMimeType=bne;var{CloseEvent:Tne,ErrorEvent:Dne,MessageEvent:Rne}=Fc();ne.exports.WebSocket=lU().WebSocket;ne.exports.CloseEvent=Tne;ne.exports.ErrorEvent=Dne;ne.exports.MessageEvent=Rne;ne.exports.request=Nh(Vc.request);ne.exports.stream=Nh(Vc.stream);ne.exports.pipeline=Nh(Vc.pipeline);ne.exports.connect=Nh(Vc.connect);ne.exports.upgrade=Nh(Vc.upgrade);ne.exports.MockClient=lne;ne.exports.MockPool=hne;ne.exports.MockAgent=une;ne.exports.mockErrors=Ane;var{EventSource:kne}=BU();ne.exports.EventSource=kne});var ke=B(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=ur.DEFAULT_MAX_SEND_MESSAGE_LENGTH=ur.Propagate=ur.LogVerbosity=ur.Status=void 0;var $U=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n}($U||(ur.Status=$U={})),XU=function(n){return n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",n}(XU||(ur.LogVerbosity=XU={})),ZU=function(n){return n[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",n}(ZU||(ur.Propagate=ZU={}));ur.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;ur.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var Zw=B((J_e,sie)=>{sie.exports={name:"@grpc/grpc-js",version:"1.9.15",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var ut=B(An=>{"use strict";var eQ,tQ,nQ,rQ;Object.defineProperty(An,"__esModule",{value:!0});An.isTracerEnabled=An.trace=An.log=An.setLoggerVerbosity=An.setLogger=An.getLogger=void 0;var Ps=ke(),oie=T("process"),aie=Zw().version,cie={error:(n,...e)=>{console.error("E "+n,...e)},info:(n,...e)=>{console.error("I "+n,...e)},debug:(n,...e)=>{console.error("D "+n,...e)}},na=cie,qc=Ps.LogVerbosity.ERROR,lie=(tQ=(eQ=process.env.GRPC_NODE_VERBOSITY)!==null&&eQ!==void 0?eQ:process.env.GRPC_VERBOSITY)!==null&&tQ!==void 0?tQ:"";switch(lie.toUpperCase()){case"DEBUG":qc=Ps.LogVerbosity.DEBUG;break;case"INFO":qc=Ps.LogVerbosity.INFO;break;case"ERROR":qc=Ps.LogVerbosity.ERROR;break;case"NONE":qc=Ps.LogVerbosity.NONE;break;default:}var uie=()=>na;An.getLogger=uie;var hie=n=>{na=n};An.setLogger=hie;var Aie=n=>{qc=n};An.setLoggerVerbosity=Aie;var die=(n,...e)=>{let t;if(n>=qc){switch(n){case Ps.LogVerbosity.DEBUG:t=na.debug;break;case Ps.LogVerbosity.INFO:t=na.info;break;case Ps.LogVerbosity.ERROR:t=na.error;break}t||(t=na.error),t&&t.bind(na)(...e)}};An.log=die;var fie=(rQ=(nQ=process.env.GRPC_NODE_TRACE)!==null&&nQ!==void 0?nQ:process.env.GRPC_TRACE)!==null&&rQ!==void 0?rQ:"",iQ=new Set,e1=new Set;for(let n of fie.split(","))n.startsWith("-")?e1.add(n.substring(1)):iQ.add(n);var gie=iQ.has("all");function pie(n,e,t){t1(e)&&(0,An.log)(n,new Date().toISOString()+" | v"+aie+" "+oie.pid+" | "+e+" | "+t)}An.trace=pie;function t1(n){return!e1.has(n)&&(gie||iQ.has(n))}An.isTracerEnabled=t1});var op=B(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.getErrorCode=Hc.getErrorMessage=void 0;function mie(n){return n instanceof Error?n.message:String(n)}Hc.getErrorMessage=mie;function Eie(n){return typeof n=="object"&&n!==null&&"code"in n&&typeof n.code=="number"?n.code:null}Hc.getErrorCode=Eie});var vn=B(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.Metadata=void 0;var Cie=ut(),Iie=ke(),yie=op(),Bie=/^[0-9a-z_.-]+$/,wie=/^[ -~]*$/;function Qie(n){return Bie.test(n)}function vie(n){return wie.test(n)}function r1(n){return n.endsWith("-bin")}function _ie(n){return!n.startsWith("grpc-")}function ap(n){return n.toLowerCase()}function n1(n,e){if(!Qie(n))throw new Error('Metadata key "'+n+'" contains illegal characters');if(e!=null)if(r1(n)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!vie(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var sQ=class n{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=ap(e),n1(e,t),this.internalRepr.set(e,[t])}add(e,t){e=ap(e),n1(e,t);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=ap(e),this.internalRepr.delete(e)}get(e){return e=ap(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new n(this.options),t=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);t.set(r,s)}return e}merge(e){for(let[t,r]of e.internalRepr){let i=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(Sie);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new n;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{r1(r)?Array.isArray(i)?i.forEach(s=>{t.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(_ie(r)?i.split(",").forEach(s=>{t.add(r,Buffer.from(s.trim(),"base64"))}):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{t.add(r,s)}):i!==void 0&&t.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,yie.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Cie.log)(Iie.LogVerbosity.ERROR,o)}}return t}};cp.Metadata=sQ;var Sie=n=>Buffer.isBuffer(n)?n.toString("base64"):n});var uQ=B(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.CallCredentials=void 0;var lQ=vn();function bie(n){return"getRequestHeaders"in n&&typeof n.getRequestHeaders=="function"}var Yc=class n{static createFromMetadataGenerator(e){return new aQ(e)}static createFromGoogleCredential(e){return n.createFromMetadataGenerator((t,r)=>{let i;bie(e)?i=e.getRequestHeaders(t.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(t.service_url,(a,c)=>{if(a){o(a);return}if(!c){o(new Error("Headers not set by metadata plugin"));return}s(c)})}),i.then(s=>{let o=new lQ.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new cQ}};lp.CallCredentials=Yc;var oQ=class n extends Yc{constructor(e){super(),this.creds=e}generateMetadata(e){return I(this,null,function*(){let t=new lQ.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)t.merge(i);return t})}compose(e){return new n(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof n?this.creds.every((t,r)=>t._equals(e.creds[r])):!1}},aQ=class n extends Yc{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?t(s):r(i)})})}compose(e){return new oQ([this,e])}_equals(e){return this===e?!0:e instanceof n?this.metadataGenerator===e.metadataGenerator:!1}},cQ=class n extends Yc{generateMetadata(e){return Promise.resolve(new lQ.Metadata)}compose(e){return e}_equals(e){return e instanceof n}}});var AQ=B(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.getDefaultRootsData=Wc.CIPHER_SUITES=void 0;var Tie=T("fs");Wc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var i1=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,hQ=null;function Die(){return i1?(hQ===null&&(hQ=Tie.readFileSync(i1)),hQ):null}Wc.getDefaultRootsData=Die});var Ap=B(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.ChannelCredentials=void 0;var Rie=T("tls"),kie=uQ(),s1=AQ();function dQ(n,e){if(n&&!(n instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Jc=class{constructor(e){this.callCredentials=e||kie.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var s;if(dQ(e,"Root certificate"),dQ(t,"Private key"),dQ(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,Rie.createSecureContext)({ca:(s=e??(0,s1.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:t??void 0,cert:r??void 0,ciphers:s1.CIPHER_SUITES});return new up(o,i??{})}static createFromSecureContext(e,t){return new up(e,t??{})}static createInsecure(){return new fQ}};hp.ChannelCredentials=Jc;var fQ=class n extends Jc{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof n}},up=class n extends Jc{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new gQ(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},gQ=class n extends Jc{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new n(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Gs=B(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.validateLoadBalancingConfig=zt.getFirstUsableConfig=zt.isLoadBalancerNameRegistered=zt.createLoadBalancer=zt.registerDefaultLoadBalancerType=zt.registerLoadBalancerType=zt.createChildChannelControlHelper=void 0;function Nie(n,e){var t,r,i,s,o,a,c,l,u,h;return{createSubchannel:(r=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&r!==void 0?r:n.createSubchannel.bind(n),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:n.updateState.bind(n),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:n.requestReresolution.bind(n),addChannelzChild:(l=(c=e.addChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&l!==void 0?l:n.addChannelzChild.bind(n),removeChannelzChild:(h=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&h!==void 0?h:n.removeChannelzChild.bind(n)}}zt.createChildChannelControlHelper=Nie;var Vs={},pQ=null;function Mie(n,e,t){Vs[n]={LoadBalancer:e,LoadBalancingConfig:t}}zt.registerLoadBalancerType=Mie;function Fie(n){pQ=n}zt.registerDefaultLoadBalancerType=Fie;function Lie(n,e){let t=n.getLoadBalancerName();return t in Vs?new Vs[t].LoadBalancer(e):null}zt.createLoadBalancer=Lie;function xie(n){return n in Vs}zt.isLoadBalancerNameRegistered=xie;function Oie(n,e=!1){for(let t of n)if(t.getLoadBalancerName()in Vs)return t;return e&&pQ?new Vs[pQ].LoadBalancingConfig:null}zt.getFirstUsableConfig=Oie;function Uie(n){if(!(n!==null&&typeof n=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(n);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in Vs)return Vs[t].LoadBalancingConfig.createFromJson(n[t]);throw new Error(`Unrecognized load balancing config name ${t}`)}zt.validateLoadBalancingConfig=Uie});var mQ=B(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.extractAndSelectServiceConfig=qs.validateServiceConfig=qs.validateRetryThrottling=void 0;var Pie=T("os"),dp=ke(),Vie=Gs(),fp=/^\d+(\.\d{1,9})?s$/,Gie="node";function qie(n){if("service"in n&&n.service!==""){if(typeof n.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof n.service}`);if("method"in n&&n.method!==""){if(typeof n.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof n.service}`);return{service:n.service,method:n.method}}else return{service:n.service}}else{if("method"in n&&n.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Hie(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in n)||typeof n.initialBackoff!="string"||!fp.test(n.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in n)||typeof n.maxBackoff!="string"||!fp.test(n.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in n)||typeof n.backoffMultiplier!="number"||n.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in n&&Array.isArray(n.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(n.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of n.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(dp.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(dp.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:n.maxAttempts,initialBackoff:n.initialBackoff,maxBackoff:n.maxBackoff,backoffMultiplier:n.backoffMultiplier,retryableStatusCodes:n.retryableStatusCodes}}function Yie(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in n&&(typeof n.hedgingDelay!="string"||!fp.test(n.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in n&&Array.isArray(n.nonFatalStatusCodes))for(let t of n.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(dp.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(dp.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:n.maxAttempts};return n.hedgingDelay&&(e.hedgingDelay=n.hedgingDelay),n.nonFatalStatusCodes&&(e.nonFatalStatusCodes=n.nonFatalStatusCodes),e}function Wie(n){var e;let t={name:[]};if(!("name"in n)||!Array.isArray(n.name))throw new Error("Invalid method config: invalid name array");for(let r of n.name)t.name.push(qie(r));if("waitForReady"in n){if(typeof n.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=n.waitForReady}if("timeout"in n)if(typeof n.timeout=="object"){if(!("seconds"in n.timeout)||typeof n.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in n.timeout)||typeof n.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=n.timeout}else if(typeof n.timeout=="string"&&fp.test(n.timeout)){let r=n.timeout.substring(0,n.timeout.length-1).split(".");t.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in n){if(typeof n.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=n.maxRequestBytes}if("maxResponseBytes"in n){if(typeof n.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=n.maxResponseBytes}if("retryPolicy"in n){if("hedgingPolicy"in n)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=Hie(n.retryPolicy)}else"hedgingPolicy"in n&&(t.hedgingPolicy=Yie(n.hedgingPolicy));return t}function o1(n){if(!("maxTokens"in n)||typeof n.maxTokens!="number"||n.maxTokens<=0||n.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in n)||typeof n.tokenRatio!="number"||n.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+n.maxTokens.toFixed(3),tokenRatio:+n.tokenRatio.toFixed(3)}}qs.validateRetryThrottling=o1;function a1(n){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in n)if(typeof n.loadBalancingPolicy=="string")e.loadBalancingPolicy=n.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in n)if(Array.isArray(n.loadBalancingConfig))for(let r of n.loadBalancingConfig)e.loadBalancingConfig.push((0,Vie.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in n&&Array.isArray(n.methodConfig))for(let r of n.methodConfig)e.methodConfig.push(Wie(r));"retryThrottling"in n&&(e.retryThrottling=o1(n.retryThrottling));let t=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of t)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);t.push(i)}return e}qs.validateServiceConfig=a1;function Jie(n){if(!("serviceConfig"in n))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:a1(n.serviceConfig)};if("clientLanguage"in n)if(Array.isArray(n.clientLanguage)){e.clientLanguage=[];for(let r of n.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in n)if(Array.isArray(n.clientHostname)){e.clientHostname=[];for(let r of n.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in n)if(typeof n.percentage=="number"&&0<=n.percentage&&n.percentage<=100)e.percentage=n.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in n)if(!t.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function zie(n,e){if(!Array.isArray(n))throw new Error("Invalid service config list");for(let t of n){let r=Jie(t);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===Pie.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===Gie&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function Kie(n,e){for(let t of n)if(t.length>0&&t[0].startsWith("grpc_config=")){let r=t.join("").substring(12),i=JSON.parse(r);return zie(i,e)}return null}qs.extractAndSelectServiceConfig=Kie});var hr=B(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.ConnectivityState=void 0;var c1=function(n){return n[n.IDLE=0]="IDLE",n[n.CONNECTING=1]="CONNECTING",n[n.READY=2]="READY",n[n.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",n[n.SHUTDOWN=4]="SHUTDOWN",n}(c1||(gp.ConnectivityState=c1={}))});var Wn=B(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.uriToString=Hs.splitHostPort=Hs.parseUri=void 0;var jie=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function $ie(n){let e=jie.exec(n);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Hs.parseUri=$ie;var l1=/^\d+$/;function Xie(n){if(n.startsWith("[")){let e=n.indexOf("]");if(e===-1)return null;let t=n.substring(1,e);if(t.indexOf(":")===-1)return null;if(n.length>e+1)if(n[e+1]===":"){let r=n.substring(e+2);return l1.test(r)?{host:t,port:+r}:null}else return null;else return{host:t}}else{let e=n.split(":");return e.length===2?l1.test(e[1])?{host:e[0],port:+e[1]}:null:{host:n}}}Hs.splitHostPort=Xie;function Zie(n){let e="";return n.scheme!==void 0&&(e+=n.scheme+":"),n.authority!==void 0&&(e+="//"+n.authority+"/"),e+=n.path,e}Hs.uriToString=Zie});var mi=B(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.mapUriDefaultScheme=Ar.getDefaultAuthority=Ar.createResolver=Ar.registerDefaultScheme=Ar.registerResolver=void 0;var CQ=Wn(),zc={},EQ=null;function ese(n,e){zc[n]=e}Ar.registerResolver=ese;function tse(n){EQ=n}Ar.registerDefaultScheme=tse;function nse(n,e,t){if(n.scheme!==void 0&&n.scheme in zc)return new zc[n.scheme](n,e,t);throw new Error(`No resolver could be created for target ${(0,CQ.uriToString)(n)}`)}Ar.createResolver=nse;function rse(n){if(n.scheme!==void 0&&n.scheme in zc)return zc[n.scheme].getDefaultAuthority(n);throw new Error(`Invalid target ${(0,CQ.uriToString)(n)}`)}Ar.getDefaultAuthority=rse;function ise(n){return n.scheme===void 0||!(n.scheme in zc)?EQ!==null?{scheme:EQ,authority:void 0,path:(0,CQ.uriToString)(n)}:null:n}Ar.mapUriDefaultScheme=ise});var Ws=B(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.QueuePicker=Ys.UnavailablePicker=Ys.PickResultType=void 0;var sse=vn(),ose=ke(),pp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP",n}(pp||(Ys.PickResultType=pp={})),IQ=class{constructor(e){this.status=Object.assign({code:ose.Status.UNAVAILABLE,details:"No connection established",metadata:new sse.Metadata},e)}pick(e){return{pickResultType:pp.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ys.UnavailablePicker=IQ;var yQ=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:pp.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ys.QueuePicker=yQ});var Gh=B(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.BackoffTimeout=void 0;var ase=1e3,cse=1.6,lse=12e4,use=.2;function hse(n,e){return Math.random()*(e-n)+n}var BQ=class{constructor(e,t){this.callback=e,this.initialDelay=ase,this.multiplier=cse,this.maxDelay=lse,this.jitter=use,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+hse(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};mp.BackoffTimeout=BQ});var Cp=B(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.ChildLoadBalancerHandler=void 0;var Ase=Gs(),dse=hr(),fse="child_load_balancer_helper",wQ=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var i;if(this.calledByPendingChild()){if(t===dse.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let s=new this.ChildPolicyHelper(this),o=(0,Ase.createLoadBalancer)(t,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return fse}};Ep.ChildLoadBalancerHandler=wQ});var h1=B(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.ResolvingLoadBalancer=void 0;var gse=Gs(),pse=mQ(),_n=hr(),mse=mi(),Kc=Ws(),Ese=Gh(),QQ=ke(),Cse=vn(),Ise=ut(),yse=ke(),Bse=Wn(),wse=Cp(),Qse="resolving_load_balancer";function u1(n){Ise.trace(yse.LogVerbosity.DEBUG,Qse,n)}var vse=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function _se(n,e,t,r){for(let i of t.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===n&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===n&&i.method===e)return!0}return!1}function Sse(n,e,t,r){for(let i of t)if(_se(n,e,i,r))return i;return null}function bse(n){return function(t,r){var i,s;let o=t.split("/").filter(l=>l.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",c=(s=o[1])!==null&&s!==void 0?s:"";if(n&&n.methodConfig)for(let l of vse){let u=Sse(a,c,n.methodConfig,l);if(u)return{methodConfig:u,pickInformation:{},status:QQ.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:QQ.Status.OK,dynamicFilterFactories:[]}}}var vQ=class{constructor(e,t,r,i,s){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=_n.ConnectivityState.IDLE,this.latestChildPicker=new Kc.QueuePicker(this),this.currentState=_n.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,pse.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(_n.ConnectivityState.IDLE,new Kc.QueuePicker(this)),this.childLoadBalancer=new wse.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(u1("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,c)=>{this.latestChildState=a,this.latestChildPicker=c,this.updateState(a,c)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,mse.createResolver)(e,{onSuccessfulResolution:(a,c,l,u,h)=>{var A;this.backoffTimeout.stop(),this.backoffTimeout.reset();let d=null;c===null?l===null?(this.previousServiceConfig=null,d=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(l):d=this.previousServiceConfig:(d=c,this.previousServiceConfig=c);let C=(A=d?.loadBalancingConfig)!==null&&A!==void 0?A:[],m=(0,gse.getFirstUsableConfig)(C,!0);if(m===null){this.handleResolutionFailure({code:QQ.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Cse.Metadata});return}this.childLoadBalancer.updateAddressList(a,m,h);let y=d??this.defaultServiceConfig;this.onSuccessfulResolution(y,u??bse(y))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Ese.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===_n.ConnectivityState.IDLE&&this.updateState(_n.ConnectivityState.CONNECTING,new Kc.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){u1((0,Bse.uriToString)(this.target)+" "+_n.ConnectivityState[this.currentState]+" -> "+_n.ConnectivityState[e]),e===_n.ConnectivityState.IDLE&&(t=new Kc.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===_n.ConnectivityState.IDLE&&(this.updateState(_n.ConnectivityState.TRANSIENT_FAILURE,new Kc.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===_n.ConnectivityState.IDLE||this.currentState===_n.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=_n.ConnectivityState.IDLE,this.latestChildPicker=new Kc.QueuePicker(this),this.currentState=_n.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Ip.ResolvingLoadBalancer=vQ});var A1=B(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.channelOptionsEqual=jc.recognizedOptions=void 0;jc.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function Tse(n,e){let t=Object.keys(n).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==r[i]||n[t[i]]!==e[r[i]])return!1;return!0}jc.channelOptionsEqual=Tse});var Ci=B(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.stringToSubchannelAddress=Ei.subchannelAddressToString=Ei.subchannelAddressEqual=Ei.isTcpSubchannelAddress=void 0;var Dse=T("net");function qh(n){return"port"in n}Ei.isTcpSubchannelAddress=qh;function Rse(n,e){return!n&&!e?!0:!n||!e?!1:qh(n)?qh(e)&&n.host===e.host&&n.port===e.port:!qh(e)&&n.path===e.path}Ei.subchannelAddressEqual=Rse;function kse(n){return qh(n)?n.host+":"+n.port:n.path}Ei.subchannelAddressToString=kse;var Nse=443;function Mse(n,e){return(0,Dse.isIP)(n)?{host:n,port:e??Nse}:{path:n}}Ei.stringToSubchannelAddress=Mse});var yp=B($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.addAdminServicesToServer=$c.registerAdminService=void 0;var d1=[];function Fse(n,e){d1.push({getServiceDefinition:n,getHandlers:e})}$c.registerAdminService=Fse;function Lse(n){for(let{getServiceDefinition:e,getHandlers:t}of d1)n.addService(e(),t())}$c.addAdminServicesToServer=Lse});var f1=B(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.ClientDuplexStreamImpl=dr.ClientWritableStreamImpl=dr.ClientReadableStreamImpl=dr.ClientUnaryCallImpl=dr.callErrorFromStatus=void 0;var xse=T("events"),DQ=T("stream"),Hh=ke();function Ose(n,e){let t=`${n.code} ${Hh.Status[n.code]}: ${n.details}`,i=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),n,{stack:i})}dr.callErrorFromStatus=Ose;var _Q=class extends xse.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Hh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};dr.ClientUnaryCallImpl=_Q;var SQ=class extends DQ.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Hh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};dr.ClientReadableStreamImpl=SQ;var bQ=class extends DQ.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Hh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};dr.ClientWritableStreamImpl=bQ;var TQ=class extends DQ.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Hh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};dr.ClientDuplexStreamImpl=TQ});var g1=B(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.InterceptingListenerImpl=Xc.isInterceptingListener=void 0;function Use(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}Xc.isInterceptingListener=Use;var RQ=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};Xc.InterceptingListenerImpl=RQ});var OQ=B(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.getInterceptingCall=fr.InterceptingCall=fr.RequesterBuilder=fr.ListenerBuilder=fr.InterceptorConfigurationError=void 0;var Pse=vn(),p1=g1(),m1=ke(),E1=op(),Wh=class n extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,n)}};fr.InterceptorConfigurationError=Wh;var NQ=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};fr.ListenerBuilder=NQ;var MQ=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};fr.RequesterBuilder=MQ;var kQ={onReceiveMetadata:(n,e)=>{e(n)},onReceiveMessage:(n,e)=>{e(n)},onReceiveStatus:(n,e)=>{e(n)}},Yh={start:(n,e,t)=>{t(n,e)},sendMessage:(n,e)=>{e(n)},halfClose:n=>{n()},cancel:n=>{n()}},FQ=class{constructor(e,t){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(r=t.start)!==null&&r!==void 0?r:Yh.start,sendMessage:(i=t.sendMessage)!==null&&i!==void 0?i:Yh.sendMessage,halfClose:(s=t.halfClose)!==null&&s!==void 0?s:Yh.halfClose,cancel:(o=t.cancel)!==null&&o!==void 0?o:Yh.cancel}:this.requester=Yh}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,c;let l={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:u=>{},onReceiveMessage:(o=(s=t?.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:u=>{},onReceiveStatus:(c=(a=t?.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&c!==void 0?c:u=>{}};this.processingMetadata=!0,this.requester.start(e,l,(u,h)=>{var A,d,C;this.processingMetadata=!1;let m;if((0,p1.isInterceptingListener)(h))m=h;else{let y={onReceiveMetadata:(A=h.onReceiveMetadata)!==null&&A!==void 0?A:kQ.onReceiveMetadata,onReceiveMessage:(d=h.onReceiveMessage)!==null&&d!==void 0?d:kQ.onReceiveMessage,onReceiveStatus:(C=h.onReceiveStatus)!==null&&C!==void 0?C:kQ.onReceiveStatus};m=new p1.InterceptingListenerImpl(y,l)}this.nextCall.start(u,m),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};fr.InterceptingCall=FQ;function Vse(n,e,t){var r,i;let s=(r=t.deadline)!==null&&r!==void 0?r:1/0,o=t.host,a=(i=t.parent)!==null&&i!==void 0?i:null,c=t.propagate_flags,l=t.credentials,u=n.createCall(e,s,o,a,c);return l&&u.setCredentials(l),u}var Bp=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(i){this.call.cancelWithStatus(m1.Status.INTERNAL,`Request message serialization failure: ${(0,E1.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=t?.onReceiveMetadata)===null||s===void 0||s.call(t,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:m1.Status.INTERNAL,details:`Response message parsing error: ${(0,E1.getErrorMessage)(a)}`,metadata:new Pse.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=t?.onReceiveMessage)===null||s===void 0||s.call(t,o)},onReceiveStatus:i=>{var s,o;r?(s=t?.onReceiveStatus)===null||s===void 0||s.call(t,r):(o=t?.onReceiveStatus)===null||o===void 0||o.call(t,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},LQ=class extends Bp{constructor(e,t){super(e,t)}start(e,t){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var c;s=!0,(c=t?.onReceiveMessage)===null||c===void 0||c.call(t,a)},onReceiveStatus:a=>{var c,l;s||(c=t?.onReceiveMessage)===null||c===void 0||c.call(t,null),(l=t?.onReceiveStatus)===null||l===void 0||l.call(t,a)}};super.start(e,o),this.call.startRead()}},xQ=class extends Bp{};function Gse(n,e,t){let r=Vse(n,t.path,e);return t.responseStream?new xQ(r,t):new LQ(r,t)}function qse(n,e,t,r){if(n.clientInterceptors.length>0&&n.clientInterceptorProviders.length>0)throw new Wh("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(n.callInterceptors.length>0&&n.callInterceptorProviders.length>0)throw new Wh("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];n.callInterceptors.length>0||n.callInterceptorProviders.length>0?i=[].concat(n.callInterceptors,n.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(n.clientInterceptors,n.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},t,{method_definition:e});return i.reduceRight((a,c)=>l=>c(l,a),a=>Gse(r,a,e))(s)}fr.getInterceptingCall=qse});var VQ=B(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Client=void 0;var Ii=f1(),Hse=GQ(),Yse=hr(),Js=ke(),Zc=vn(),wp=OQ(),xr=Symbol(),el=Symbol(),tl=Symbol(),Zi=Symbol();function UQ(n){return typeof n=="function"}function nl(n){return n.stack.split(`
`).slice(1).join(`
`)}var PQ=class{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[el]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[tl]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[el].length>0&&this[tl].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Zi]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[xr]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[xr]=o(e,t,r)}else this[xr]=new Hse.ChannelImplementation(e,t,r)}close(){this[xr].close()}getChannel(){return this[xr]}waitForReady(e,t){let r=i=>{if(i){t(new Error("Failed to connect before the deadline"));return}let s;try{s=this[xr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(s===Yse.ConnectivityState.READY)t();else try{this[xr].watchConnectivityState(s,e,r)}catch{t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(UQ(e))return{metadata:new Zc.Metadata,options:{},callback:e};if(UQ(t))return e instanceof Zc.Metadata?{metadata:e,options:{},callback:t}:{metadata:new Zc.Metadata,options:e,callback:t};if(!(e instanceof Zc.Metadata&&t instanceof Object&&UQ(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,a){var c,l;let u=this.checkOptionalUnaryResponseArguments(s,o,a),h={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},A={argument:i,metadata:u.metadata,call:new Ii.ClientUnaryCallImpl,channel:this[xr],methodDefinition:h,callOptions:u.options,callback:u.callback};this[Zi]&&(A=this[Zi](A));let d=A.call,C={clientInterceptors:this[el],clientInterceptorProviders:this[tl],callInterceptors:(c=A.callOptions.interceptors)!==null&&c!==void 0?c:[],callInterceptorProviders:(l=A.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},m=(0,wp.getInterceptingCall)(C,A.methodDefinition,A.callOptions,A.channel);d.call=m;let y=null,_=!1,S=new Error;return m.start(A.metadata,{onReceiveMetadata:R=>{d.emit("metadata",R)},onReceiveMessage(R){y!==null&&m.cancelWithStatus(Js.Status.INTERNAL,"Too many responses received"),y=R},onReceiveStatus(R){if(!_){if(_=!0,R.code===Js.Status.OK)if(y===null){let D=nl(S);A.callback((0,Ii.callErrorFromStatus)({code:Js.Status.INTERNAL,details:"No message received",metadata:R.metadata},D))}else A.callback(null,y);else{let D=nl(S);A.callback((0,Ii.callErrorFromStatus)(R,D))}S=null,d.emit("status",R)}}}),m.sendMessage(i),m.halfClose(),d}makeClientStreamRequest(e,t,r,i,s,o){var a,c;let l=this.checkOptionalUnaryResponseArguments(i,s,o),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},h={metadata:l.metadata,call:new Ii.ClientWritableStreamImpl(t),channel:this[xr],methodDefinition:u,callOptions:l.options,callback:l.callback};this[Zi]&&(h=this[Zi](h));let A=h.call,d={clientInterceptors:this[el],clientInterceptorProviders:this[tl],callInterceptors:(a=h.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(c=h.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},C=(0,wp.getInterceptingCall)(d,h.methodDefinition,h.callOptions,h.channel);A.call=C;let m=null,y=!1,_=new Error;return C.start(h.metadata,{onReceiveMetadata:S=>{A.emit("metadata",S)},onReceiveMessage(S){m!==null&&C.cancelWithStatus(Js.Status.INTERNAL,"Too many responses received"),m=S},onReceiveStatus(S){if(!y){if(y=!0,S.code===Js.Status.OK)if(m===null){let R=nl(_);h.callback((0,Ii.callErrorFromStatus)({code:Js.Status.INTERNAL,details:"No message received",metadata:S.metadata},R))}else h.callback(null,m);else{let R=nl(_);h.callback((0,Ii.callErrorFromStatus)(S,R))}_=null,A.emit("status",S)}}}),A}checkMetadataAndOptions(e,t){let r,i;return e instanceof Zc.Metadata?(r=e,t?i=t:i={}):(e?i=e:i={},r=new Zc.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,i,s,o){var a,c;let l=this.checkMetadataAndOptions(s,o),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},h={argument:i,metadata:l.metadata,call:new Ii.ClientReadableStreamImpl(r),channel:this[xr],methodDefinition:u,callOptions:l.options};this[Zi]&&(h=this[Zi](h));let A=h.call,d={clientInterceptors:this[el],clientInterceptorProviders:this[tl],callInterceptors:(a=h.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(c=h.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},C=(0,wp.getInterceptingCall)(d,h.methodDefinition,h.callOptions,h.channel);A.call=C;let m=!1,y=new Error;return C.start(h.metadata,{onReceiveMetadata(_){A.emit("metadata",_)},onReceiveMessage(_){A.push(_)},onReceiveStatus(_){if(!m){if(m=!0,A.push(null),_.code!==Js.Status.OK){let S=nl(y);A.emit("error",(0,Ii.callErrorFromStatus)(_,S))}y=null,A.emit("status",_)}}}),C.sendMessage(i),C.halfClose(),A}makeBidiStreamRequest(e,t,r,i,s){var o,a;let c=this.checkMetadataAndOptions(i,s),l={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},u={metadata:c.metadata,call:new Ii.ClientDuplexStreamImpl(t,r),channel:this[xr],methodDefinition:l,callOptions:c.options};this[Zi]&&(u=this[Zi](u));let h=u.call,A={clientInterceptors:this[el],clientInterceptorProviders:this[tl],callInterceptors:(o=u.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=u.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},d=(0,wp.getInterceptingCall)(A,u.methodDefinition,u.callOptions,u.channel);h.call=d;let C=!1,m=new Error;return d.start(u.metadata,{onReceiveMetadata(y){h.emit("metadata",y)},onReceiveMessage(y){h.push(y)},onReceiveStatus(y){if(!C){if(C=!0,h.push(null),y.code!==Js.Status.OK){let _=nl(m);h.emit("error",(0,Ii.callErrorFromStatus)(y,_))}m=null,h.emit("status",y)}}}),h}};Qp.Client=PQ});var HQ=B(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.loadPackageDefinition=rl.makeClientConstructor=void 0;var Jh=VQ(),Wse={unary:Jh.Client.prototype.makeUnaryRequest,server_stream:Jh.Client.prototype.makeServerStreamRequest,client_stream:Jh.Client.prototype.makeClientStreamRequest,bidi:Jh.Client.prototype.makeBidiStreamRequest};function qQ(n){return["__proto__","prototype","constructor"].includes(n)}function C1(n,e,t){t||(t={});class r extends Jh.Client{}return Object.keys(n).forEach(i=>{if(qQ(i))return;let s=n[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,c=s.responseDeserialize,l=Jse(Wse[o],s.path,a,c);r.prototype[i]=l,Object.assign(r.prototype[i],s),s.originalName&&!qQ(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=n,r.serviceName=e,r}rl.makeClientConstructor=C1;function Jse(n,e,t,r){return function(...i){return n.call(this,e,t,r,...i)}}function zse(n){return"format"in n}function Kse(n){let e={};for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t],i=t.split(".");if(i.some(a=>qQ(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];zse(r)?o[s]=r:o[s]=C1(r,s,{})}return e}rl.loadPackageDefinition=Kse});var H1=B((CSe,q1)=>{"use strict";var jse=1/0,$se="[object Symbol]",Xse=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zse=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_p="\\ud800-\\udfff",S1="\\u0300-\\u036f\\ufe20-\\ufe23",b1="\\u20d0-\\u20f0",T1="\\u2700-\\u27bf",D1="a-z\\xdf-\\xf6\\xf8-\\xff",eoe="\\xac\\xb1\\xd7\\xf7",toe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",noe="\\u2000-\\u206f",roe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",R1="A-Z\\xc0-\\xd6\\xd8-\\xde",k1="\\ufe0e\\ufe0f",N1=eoe+toe+noe+roe,WQ="['\u2019]",ioe="["+_p+"]",I1="["+N1+"]",vp="["+S1+b1+"]",M1="\\d+",soe="["+T1+"]",F1="["+D1+"]",L1="[^"+_p+N1+M1+T1+D1+R1+"]",YQ="\\ud83c[\\udffb-\\udfff]",ooe="(?:"+vp+"|"+YQ+")",x1="[^"+_p+"]",JQ="(?:\\ud83c[\\udde6-\\uddff]){2}",zQ="[\\ud800-\\udbff][\\udc00-\\udfff]",il="["+R1+"]",O1="\\u200d",y1="(?:"+F1+"|"+L1+")",aoe="(?:"+il+"|"+L1+")",B1="(?:"+WQ+"(?:d|ll|m|re|s|t|ve))?",w1="(?:"+WQ+"(?:D|LL|M|RE|S|T|VE))?",U1=ooe+"?",P1="["+k1+"]?",coe="(?:"+O1+"(?:"+[x1,JQ,zQ].join("|")+")"+P1+U1+")*",V1=P1+U1+coe,loe="(?:"+[soe,JQ,zQ].join("|")+")"+V1,uoe="(?:"+[x1+vp+"?",vp,JQ,zQ,ioe].join("|")+")",hoe=RegExp(WQ,"g"),Aoe=RegExp(vp,"g"),doe=RegExp(YQ+"(?="+YQ+")|"+uoe+V1,"g"),foe=RegExp([il+"?"+F1+"+"+B1+"(?="+[I1,il,"$"].join("|")+")",aoe+"+"+w1+"(?="+[I1,il+y1,"$"].join("|")+")",il+"?"+y1+"+"+B1,il+"+"+w1,M1,loe].join("|"),"g"),goe=RegExp("["+O1+_p+S1+b1+k1+"]"),poe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,moe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},Eoe=typeof global=="object"&&global&&global.Object===Object&&global,Coe=typeof self=="object"&&self&&self.Object===Object&&self,Ioe=Eoe||Coe||Function("return this")();function yoe(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function Boe(n){return n.split("")}function woe(n){return n.match(Xse)||[]}function Qoe(n){return function(e){return n?.[e]}}var voe=Qoe(moe);function G1(n){return goe.test(n)}function _oe(n){return poe.test(n)}function Soe(n){return G1(n)?boe(n):Boe(n)}function boe(n){return n.match(doe)||[]}function Toe(n){return n.match(foe)||[]}var Doe=Object.prototype,Roe=Doe.toString,Q1=Ioe.Symbol,v1=Q1?Q1.prototype:void 0,_1=v1?v1.toString:void 0;function koe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Noe(n){if(typeof n=="string")return n;if(Ooe(n))return _1?_1.call(n):"";var e=n+"";return e=="0"&&1/n==-jse?"-0":e}function Moe(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:koe(n,e,t)}function Foe(n){return function(e){e=Sp(e);var t=G1(e)?Soe(e):void 0,r=t?t[0]:e.charAt(0),i=t?Moe(t,1).join(""):e.slice(1);return r[n]()+i}}function Loe(n){return function(e){return yoe(qoe(Voe(e).replace(hoe,"")),n,"")}}function xoe(n){return!!n&&typeof n=="object"}function Ooe(n){return typeof n=="symbol"||xoe(n)&&Roe.call(n)==$se}function Sp(n){return n==null?"":Noe(n)}var Uoe=Loe(function(n,e,t){return e=e.toLowerCase(),n+(t?Poe(e):e)});function Poe(n){return Goe(Sp(n).toLowerCase())}function Voe(n){return n=Sp(n),n&&n.replace(Zse,voe).replace(Aoe,"")}var Goe=Foe("toUpperCase");function qoe(n,e,t){return n=Sp(n),e=t?void 0:e,e===void 0?_oe(n)?Toe(n):woe(n):n.match(e)||[]}q1.exports=Uoe});var KQ=B((ISe,Y1)=>{"use strict";Y1.exports=Hoe;function Hoe(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,c){t[r]=function(u){if(s)if(s=!1,u)c(u);else{for(var h=new Array(arguments.length-1),A=0;A<h.length;)h[A++]=arguments[A];a.apply(null,h)}};try{n.apply(e||null,t)}catch(l){s&&(s=!1,c(l))}})}});var K1=B(z1=>{"use strict";var bp=z1;bp.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var sl=new Array(64),J1=new Array(123);for(Or=0;Or<64;)J1[sl[Or]=Or<26?Or+65:Or<52?Or+71:Or<62?Or-4:Or-59|43]=Or++;var Or;bp.encode=function(e,t,r){for(var i=null,s=[],o=0,a=0,c;t<r;){var l=e[t++];switch(a){case 0:s[o++]=sl[l>>2],c=(l&3)<<4,a=1;break;case 1:s[o++]=sl[c|l>>4],c=(l&15)<<2,a=2;break;case 2:s[o++]=sl[c|l>>6],s[o++]=sl[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=sl[c],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var W1="invalid encoding";bp.decode=function(e,t,r){for(var i=r,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=J1[c])===void 0)throw Error(W1);switch(s){case 0:o=c,s=1;break;case 1:t[r++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[r++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[r++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(W1);return r-i};bp.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var $1=B((BSe,j1)=>{"use strict";j1.exports=Tp;function Tp(){this._listeners={}}Tp.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};Tp.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};Tp.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var iP=B((wSe,rP)=>{"use strict";rP.exports=X1(X1);function X1(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3]}function s(c,l,u){e[0]=c,l[u]=t[3],l[u+1]=t[2],l[u+2]=t[1],l[u+3]=t[0]}n.writeFloatLE=r?i:s,n.writeFloatBE=r?s:i;function o(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],e[0]}function a(c,l){return t[3]=c[l],t[2]=c[l+1],t[1]=c[l+2],t[0]=c[l+3],e[0]}n.readFloatLE=r?o:a,n.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-c)*8388608)&8388607;r((a<<31|c+127<<23|l)>>>0,s,o)}}n.writeFloatLE=e.bind(null,Z1),n.writeFloatBE=e.bind(null,eP);function t(r,i,s){var o=r(i,s),a=(o>>31)*2+1,c=o>>>23&255,l=o&8388607;return c===255?l?NaN:a*(1/0):c===0?a*1401298464324817e-60*l:a*Math.pow(2,c-150)*(l+8388608)}n.readFloatLE=t.bind(null,tP),n.readFloatBE=t.bind(null,nP)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3],l[u+4]=t[4],l[u+5]=t[5],l[u+6]=t[6],l[u+7]=t[7]}function s(c,l,u){e[0]=c,l[u]=t[7],l[u+1]=t[6],l[u+2]=t[5],l[u+3]=t[4],l[u+4]=t[3],l[u+5]=t[2],l[u+6]=t[1],l[u+7]=t[0]}n.writeDoubleLE=r?i:s,n.writeDoubleBE=r?s:i;function o(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],t[4]=c[l+4],t[5]=c[l+5],t[6]=c[l+6],t[7]=c[l+7],e[0]}function a(c,l){return t[7]=c[l],t[6]=c[l+1],t[5]=c[l+2],t[4]=c[l+3],t[3]=c[l+4],t[2]=c[l+5],t[1]=c[l+6],t[0]=c[l+7],e[0]}n.readDoubleLE=r?o:a,n.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,c){var l=o<0?1:0;if(l&&(o=-o),o===0)r(0,a,c+i),r(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))r(0,a,c+i),r(2146959360,a,c+s);else if(o>17976931348623157e292)r(0,a,c+i),r((l<<31|2146435072)>>>0,a,c+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,r(u>>>0,a,c+i),r((l<<31|u/4294967296)>>>0,a,c+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),u=o*Math.pow(2,-h),r(u*4503599627370496>>>0,a,c+i),r((l<<31|h+1023<<20|u*1048576&1048575)>>>0,a,c+s)}}}n.writeDoubleLE=e.bind(null,Z1,0,4),n.writeDoubleBE=e.bind(null,eP,4,0);function t(r,i,s,o,a){var c=r(o,a+i),l=r(o,a+s),u=(l>>31)*2+1,h=l>>>20&2047,A=4294967296*(l&1048575)+c;return h===2047?A?NaN:u*(1/0):h===0?u*5e-324*A:u*Math.pow(2,h-1075)*(A+4503599627370496)}n.readDoubleLE=t.bind(null,tP,0,4),n.readDoubleBE=t.bind(null,nP,4,0)}(),n}function Z1(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function eP(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function tP(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function nP(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var jQ=B((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var oP=B(sP=>{"use strict";var $Q=sP;$Q.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};$Q.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var s=null,o=[],a=0,c;t<r;)c=e[t++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};$Q.write=function(e,t,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128);return r-i}});var cP=B((vSe,aP)=>{"use strict";aP.exports=Yoe;function Yoe(n,e,t){var r=t||8192,i=r>>>1,s=null,o=r;return function(c){if(c<1||c>i)return n(c);o+c>r&&(s=n(r),o=0);var l=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),l}}});var uP=B((_Se,lP)=>{"use strict";lP.exports=Nt;var zh=yi();function Nt(n,e){this.lo=n>>>0,this.hi=e>>>0}var ra=Nt.zero=new Nt(0,0);ra.toNumber=function(){return 0};ra.zzEncode=ra.zzDecode=function(){return this};ra.length=function(){return 1};var Woe=Nt.zeroHash="\0\0\0\0\0\0\0\0";Nt.fromNumber=function(e){if(e===0)return ra;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new Nt(r,i)};Nt.from=function(e){if(typeof e=="number")return Nt.fromNumber(e);if(zh.isString(e))if(zh.Long)e=zh.Long.fromString(e);else return Nt.fromNumber(parseInt(e,10));return e.low||e.high?new Nt(e.low>>>0,e.high>>>0):ra};Nt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};Nt.prototype.toLong=function(e){return zh.Long?new zh.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var zs=String.prototype.charCodeAt;Nt.fromHash=function(e){return e===Woe?ra:new Nt((zs.call(e,0)|zs.call(e,1)<<8|zs.call(e,2)<<16|zs.call(e,3)<<24)>>>0,(zs.call(e,4)|zs.call(e,5)<<8|zs.call(e,6)<<16|zs.call(e,7)<<24)>>>0)};Nt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Nt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Nt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Nt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var yi=B(XQ=>{"use strict";var J=XQ;J.asPromise=KQ();J.base64=K1();J.EventEmitter=$1();J.float=iP();J.inquire=jQ();J.utf8=oP();J.pool=cP();J.LongBits=uP();J.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);J.global=J.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||XQ;J.emptyArray=Object.freeze?Object.freeze([]):[];J.emptyObject=Object.freeze?Object.freeze({}):{};J.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};J.isString=function(e){return typeof e=="string"||e instanceof String};J.isObject=function(e){return e&&typeof e=="object"};J.isset=J.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};J.Buffer=function(){try{var n=J.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();J._Buffer_from=null;J._Buffer_allocUnsafe=null;J.newBuffer=function(e){return typeof e=="number"?J.Buffer?J._Buffer_allocUnsafe(e):new J.Array(e):J.Buffer?J._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};J.Array=typeof Uint8Array<"u"?Uint8Array:Array;J.Long=J.global.dcodeIO&&J.global.dcodeIO.Long||J.global.Long||J.inquire("long");J.key2Re=/^true|false|0|1$/;J.key32Re=/^-?(?:0|[1-9][0-9]*)$/;J.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;J.longToHash=function(e){return e?J.LongBits.from(e).toHash():J.LongBits.zeroHash};J.longFromHash=function(e,t){var r=J.LongBits.fromHash(e);return J.Long?J.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function hP(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}J.merge=hP;J.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function AP(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&hP(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}J.newError=AP;J.ProtocolError=AP("ProtocolError");J.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};J.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};J.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};J._configure=function(){var n=J.Buffer;if(!n){J._Buffer_from=J._Buffer_allocUnsafe=null;return}J._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},J._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var Rp=B((bSe,pP)=>{"use strict";pP.exports=_e;var gr=yi(),ZQ,Dp=gr.LongBits,dP=gr.base64,fP=gr.utf8;function Kh(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function tv(){}function Joe(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function _e(){this.len=0,this.head=new Kh(tv,0,0),this.tail=this.head,this.states=null}var gP=function(){return gr.Buffer?function(){return(_e.create=function(){return new ZQ})()}:function(){return new _e}};_e.create=gP();_e.alloc=function(e){return new gr.Array(e)};gr.Array!==Array&&(_e.alloc=gr.pool(_e.alloc,gr.Array.prototype.subarray));_e.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Kh(e,t,r),this.len+=t,this};function nv(n,e,t){e[t]=n&255}function zoe(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function rv(n,e){this.len=n,this.next=void 0,this.val=e}rv.prototype=Object.create(Kh.prototype);rv.prototype.fn=zoe;_e.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new rv((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_e.prototype.int32=function(e){return e<0?this._push(iv,10,Dp.fromNumber(e)):this.uint32(e)};_e.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function iv(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}_e.prototype.uint64=function(e){var t=Dp.from(e);return this._push(iv,t.length(),t)};_e.prototype.int64=_e.prototype.uint64;_e.prototype.sint64=function(e){var t=Dp.from(e).zzEncode();return this._push(iv,t.length(),t)};_e.prototype.bool=function(e){return this._push(nv,1,e?1:0)};function ev(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}_e.prototype.fixed32=function(e){return this._push(ev,4,e>>>0)};_e.prototype.sfixed32=_e.prototype.fixed32;_e.prototype.fixed64=function(e){var t=Dp.from(e);return this._push(ev,4,t.lo)._push(ev,4,t.hi)};_e.prototype.sfixed64=_e.prototype.fixed64;_e.prototype.float=function(e){return this._push(gr.float.writeFloatLE,4,e)};_e.prototype.double=function(e){return this._push(gr.float.writeDoubleLE,8,e)};var Koe=gr.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};_e.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(nv,1,0);if(gr.isString(e)){var r=_e.alloc(t=dP.length(e));dP.decode(e,r,0),e=r}return this.uint32(t)._push(Koe,t,e)};_e.prototype.string=function(e){var t=fP.length(e);return t?this.uint32(t)._push(fP.write,t,e):this._push(nv,1,0)};_e.prototype.fork=function(){return this.states=new Joe(this),this.head=this.tail=new Kh(tv,0,0),this.len=0,this};_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Kh(tv,0,0),this.len=0),this};_e.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};_e.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};_e._configure=function(n){ZQ=n,_e.create=gP(),ZQ._configure()}});var CP=B((TSe,EP)=>{"use strict";EP.exports=Bi;var mP=Rp();(Bi.prototype=Object.create(mP.prototype)).constructor=Bi;var Ks=yi();function Bi(){mP.call(this)}Bi._configure=function(){Bi.alloc=Ks._Buffer_allocUnsafe,Bi.writeBytesBuffer=Ks.Buffer&&Ks.Buffer.prototype instanceof Uint8Array&&Ks.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};Bi.prototype.bytes=function(e){Ks.isString(e)&&(e=Ks._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Bi.writeBytesBuffer,t,e),this};function joe(n,e,t){n.length<40?Ks.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}Bi.prototype.string=function(e){var t=Ks.Buffer.byteLength(e);return this.uint32(t),t&&this._push(joe,t,e),this};Bi._configure()});var Np=B((DSe,QP)=>{"use strict";QP.exports=pt;var Ur=yi(),ov,BP=Ur.LongBits,$oe=Ur.utf8;function Pr(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function pt(n){this.buf=n,this.pos=0,this.len=n.length}var IP=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new pt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new pt(e);throw Error("illegal buffer")},wP=function(){return Ur.Buffer?function(t){return(pt.create=function(i){return Ur.Buffer.isBuffer(i)?new ov(i):IP(i)})(t)}:IP};pt.create=wP();pt.prototype._slice=Ur.Array.prototype.subarray||Ur.Array.prototype.slice;pt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Pr(this,10);return e}}();pt.prototype.int32=function(){return this.uint32()|0};pt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function sv(){var n=new BP(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Pr(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw Pr(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}pt.prototype.bool=function(){return this.uint32()!==0};function kp(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}pt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Pr(this,4);return kp(this.buf,this.pos+=4)};pt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Pr(this,4);return kp(this.buf,this.pos+=4)|0};function yP(){if(this.pos+8>this.len)throw Pr(this,8);return new BP(kp(this.buf,this.pos+=4),kp(this.buf,this.pos+=4))}pt.prototype.float=function(){if(this.pos+4>this.len)throw Pr(this,4);var e=Ur.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};pt.prototype.double=function(){if(this.pos+8>this.len)throw Pr(this,4);var e=Ur.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};pt.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw Pr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=Ur.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};pt.prototype.string=function(){var e=this.bytes();return $oe.read(e,0,e.length)};pt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Pr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Pr(this);while(this.buf[this.pos++]&128);return this};pt.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};pt._configure=function(n){ov=n,pt.create=wP(),ov._configure();var e=Ur.Long?"toLong":"toNumber";Ur.merge(pt.prototype,{int64:function(){return sv.call(this)[e](!1)},uint64:function(){return sv.call(this)[e](!0)},sint64:function(){return sv.call(this).zzDecode()[e](!1)},fixed64:function(){return yP.call(this)[e](!0)},sfixed64:function(){return yP.call(this)[e](!1)}})}});var bP=B((RSe,SP)=>{"use strict";SP.exports=ia;var _P=Np();(ia.prototype=Object.create(_P.prototype)).constructor=ia;var vP=yi();function ia(n){_P.call(this,n)}ia._configure=function(){vP.Buffer&&(ia.prototype._slice=vP.Buffer.prototype.slice)};ia.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ia._configure()});var DP=B((kSe,TP)=>{"use strict";TP.exports=jh;var av=yi();(jh.prototype=Object.create(av.EventEmitter.prototype)).constructor=jh;function jh(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");av.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}jh.prototype.rpcCall=function n(e,t,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return av.asPromise(n,o,e,t,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,l){if(c)return o.emit("error",c,e),s(c);if(l===null){o.end(!0);return}if(!(l instanceof r))try{l=r[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(u){return o.emit("error",u,e),s(u)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};jh.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var cv=B(RP=>{"use strict";var Xoe=RP;Xoe.Service=DP()});var lv=B((MSe,kP)=>{"use strict";kP.exports={}});var FP=B(MP=>{"use strict";var Sn=MP;Sn.build="minimal";Sn.Writer=Rp();Sn.BufferWriter=CP();Sn.Reader=Np();Sn.BufferReader=bP();Sn.util=yi();Sn.rpc=cv();Sn.roots=lv();Sn.configure=NP;function NP(){Sn.util._configure(),Sn.Writer._configure(Sn.BufferWriter),Sn.Reader._configure(Sn.BufferReader)}NP()});var xP=B((LSe,LP)=>{"use strict";LP.exports=uv;function uv(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(s){if(typeof s!="string"){var o=i();if(uv.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),c=new Array(a.length+1),l=new Array(a.length),u=0;u<a.length;)c[u]=a[u],l[u]=s[a[u++]];return c[u]=o,Function.apply(null,c).apply(null,l)}return Function(o)()}for(var h=new Array(arguments.length-1),A=0;A<h.length;)h[A]=arguments[++A];if(A=0,s=s.replace(/%([%dfijs])/g,function(C,m){var y=h[A++];switch(m){case"d":case"f":return String(Number(y));case"i":return String(Math.floor(y));case"j":return JSON.stringify(y);case"s":return String(y)}return"%"}),A!==h.length)throw Error("parameter count mismatch");return t.push(s),r}function i(s){return"function "+(s||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}uv.verbose=!1});var UP=B((xSe,OP)=>{"use strict";OP.exports=$h;var Zoe=KQ(),eae=jQ(),hv=eae("fs");function $h(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&hv&&hv.readFile?hv.readFile(n,function(i,s){return i&&typeof XMLHttpRequest<"u"?$h.xhr(n,e,t):i?t(i):t(null,e.binary?s:s.toString("utf8"))}):$h.xhr(n,e,t):Zoe($h,this,n,e)}$h.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var GP=B(VP=>{"use strict";var dv=VP,PP=dv.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},Av=dv.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=PP(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)t[s]===".."?s>0&&t[s-1]!==".."?t.splice(--s,2):r?t.splice(s,1):++s:t[s]==="."?t.splice(s,1):++s;return i+t.join("/")};dv.resolve=function(e,t,r){return r||(t=Av(t)),PP(t)?t:(r||(e=Av(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?Av(e+"/"+t):t)}});var sa=B(qP=>{"use strict";var Xh=qP,tae=Mt(),nae=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Zh(n,e){var t=0,r={};for(e|=0;t<n.length;)r[nae[t+e]]=n[t++];return r}Xh.basic=Zh([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Xh.defaults=Zh([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",tae.emptyArray,null]);Xh.long=Zh([0,0,0,1,1],7);Xh.mapKey=Zh([0,0,0,5,5,0,0,0,1,1,0,2],2);Xh.packed=Zh([1,5,0,0,0,5,5,0,0,0,1,1,0])});var js=B((PSe,WP)=>{"use strict";WP.exports=pr;var Mp=oa();((pr.prototype=Object.create(Mp.prototype)).constructor=pr).className="Field";var HP=Vr(),YP=sa(),Qt=Mt(),fv,rae=/^required|optional|repeated$/;pr.fromJSON=function(e,t){return new pr(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function pr(n,e,t,r,i,s,o){if(Qt.isObject(r)?(o=i,s=r,r=i=void 0):Qt.isObject(i)&&(o=s,s=i,i=void 0),Mp.call(this,n,s),!Qt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Qt.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!rae.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!Qt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.required=r==="required",this.optional=!this.required,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Qt.Long?YP.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(pr.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});pr.prototype.setOption=function(e,t,r){return e==="packed"&&(this._packed=null),Mp.prototype.setOption.call(this,e,t,r)};pr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Qt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};pr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=YP.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof fv?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof HP&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof HP))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Qt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Qt.base64.test(this.typeDefault)?Qt.base64.decode(this.typeDefault,e=Qt.newBuffer(Qt.base64.length(this.typeDefault)),0):Qt.utf8.write(this.typeDefault,e=Qt.newBuffer(Qt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Qt.emptyObject:this.repeated?this.defaultValue=Qt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof fv&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Mp.prototype.resolve.call(this)};pr.d=function(e,t,r,i){return typeof t=="function"?t=Qt.decorateType(t).name:t&&typeof t=="object"&&(t=Qt.decorateEnum(t).name),function(o,a){Qt.decorateType(o.constructor).add(new pr(a,e,t,r,{default:i}))}};pr._configure=function(e){fv=e}});var ol=B((VSe,KP)=>{"use strict";KP.exports=mr;var Lp=oa();((mr.prototype=Object.create(Lp.prototype)).constructor=mr).className="OneOf";var JP=js(),Fp=Mt();function mr(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),Lp.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}mr.fromJSON=function(e,t){return new mr(e,t.oneof,t.options,t.comment)};mr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Fp.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function zP(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}mr.prototype.add=function(e){if(!(e instanceof JP))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,zP(this),this};mr.prototype.remove=function(e){if(!(e instanceof JP))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};mr.prototype.onAdd=function(e){Lp.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}zP(this)};mr.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);Lp.prototype.onRemove.call(this,e)};mr.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,s){Fp.decorateType(i.constructor).add(new mr(s,e)),Object.defineProperty(i,s,{get:Fp.oneOfGetter(e),set:Fp.oneOfSetter(e)})}}});var ll=B((GSe,ZP)=>{"use strict";ZP.exports=Te;var gv=oa();((Te.prototype=Object.create(gv.prototype)).constructor=Te).className="Namespace";var jP=js(),xp=Mt(),iae=ol(),al,eA,cl;Te.fromJSON=function(e,t){return new Te(e,t.options).addJSON(t.nested)};function $P(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Te.arrayToJSON=$P;Te.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Te.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Te(n,e){gv.call(this,n,e),this.nested=void 0,this._nestedArray=null}function XP(n){return n._nestedArray=null,n}Object.defineProperty(Te.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=xp.toArray(this.nested))}});Te.prototype.toJSON=function(e){return xp.toObject(["options",this.options,"nested",$P(this.nestedArray,e)])};Te.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],t.add((s.fields!==void 0?al.fromJSON:s.values!==void 0?cl.fromJSON:s.methods!==void 0?eA.fromJSON:s.id!==void 0?jP.fromJSON:Te.fromJSON)(r[i],s));return this};Te.prototype.get=function(e){return this.nested&&this.nested[e]||null};Te.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof cl)return this.nested[e].values;throw Error("no such enum: "+e)};Te.prototype.add=function(e){if(!(e instanceof jP&&e.extend!==void 0||e instanceof al||e instanceof iae||e instanceof cl||e instanceof eA||e instanceof Te))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Te&&e instanceof Te&&!(t instanceof al||t instanceof eA)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),XP(this)};Te.prototype.remove=function(e){if(!(e instanceof gv))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),XP(this)};Te.prototype.define=function(e,t){if(xp.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Te))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Te(i))}return t&&r.addJSON(t),r};Te.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof Te?e[t++].resolveAll():e[t++].resolve();return this.resolve()};Te.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),xp.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof Te&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof Te&&(i=this._nestedArray[s].lookup(e,t,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,t)};Te.prototype.lookupType=function(e){var t=this.lookup(e,[al]);if(!t)throw Error("no such type: "+e);return t};Te.prototype.lookupEnum=function(e){var t=this.lookup(e,[cl]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Te.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[al,cl]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Te.prototype.lookupService=function(e){var t=this.lookup(e,[eA]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Te._configure=function(n,e,t){al=n,eA=e,cl=t}});var Op=B((qSe,e2)=>{"use strict";e2.exports=es;var pv=js();((es.prototype=Object.create(pv.prototype)).constructor=es).className="MapField";var sae=sa(),tA=Mt();function es(n,e,t,r,i,s){if(pv.call(this,n,e,r,void 0,void 0,i,s),!tA.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}es.fromJSON=function(e,t){return new es(e,t.id,t.keyType,t.type,t.options,t.comment)};es.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return tA.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};es.prototype.resolve=function(){if(this.resolved)return this;if(sae.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return pv.prototype.resolve.call(this)};es.d=function(e,t,r){return typeof r=="function"?r=tA.decorateType(r).name:r&&typeof r=="object"&&(r=tA.decorateEnum(r).name),function(s,o){tA.decorateType(s.constructor).add(new es(o,e,t,r))}}});var Up=B((HSe,t2)=>{"use strict";t2.exports=aa;var mv=oa();((aa.prototype=Object.create(mv.prototype)).constructor=aa).className="Method";var ul=Mt();function aa(n,e,t,r,i,s,o,a,c){if(ul.isObject(i)?(o=i,i=s=void 0):ul.isObject(s)&&(o=s,s=void 0),!(e===void 0||ul.isString(e)))throw TypeError("type must be a string");if(!ul.isString(t))throw TypeError("requestType must be a string");if(!ul.isString(r))throw TypeError("responseType must be a string");mv.call(this,n,o),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=c}aa.fromJSON=function(e,t){return new aa(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};aa.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ul.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};aa.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),mv.prototype.resolve.call(this))}});var Pp=B((YSe,r2)=>{"use strict";r2.exports=Er;var $s=ll();((Er.prototype=Object.create($s.prototype)).constructor=Er).className="Service";var Ev=Up(),nA=Mt(),oae=cv();function Er(n,e){$s.call(this,n,e),this.methods={},this._methodsArray=null}Er.fromJSON=function(e,t){var r=new Er(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(Ev.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r};Er.prototype.toJSON=function(e){var t=$s.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return nA.toObject(["options",t&&t.options||void 0,"methods",$s.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(Er.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=nA.toArray(this.methods))}});function n2(n){return n._methodsArray=null,n}Er.prototype.get=function(e){return this.methods[e]||$s.prototype.get.call(this,e)};Er.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return $s.prototype.resolve.call(this)};Er.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof Ev?(this.methods[e.name]=e,e.parent=this,n2(this)):$s.prototype.add.call(this,e)};Er.prototype.remove=function(e){if(e instanceof Ev){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,n2(this)}return $s.prototype.remove.call(this,e)};Er.prototype.create=function(e,t,r){for(var i=new oae.Service(e,t,r),s=0,o;s<this.methodsArray.length;++s){var a=nA.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=nA.codegen(["r","c"],nA.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var Vp=B((WSe,i2)=>{"use strict";i2.exports=wi;var aae=yi();function wi(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}wi.create=function(e){return this.$type.create(e)};wi.encode=function(e,t){return this.$type.encode(e,t)};wi.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};wi.decode=function(e){return this.$type.decode(e)};wi.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};wi.verify=function(e){return this.$type.verify(e)};wi.fromObject=function(e){return this.$type.fromObject(e)};wi.toObject=function(e,t){return this.$type.toObject(e,t)};wi.prototype.toJSON=function(){return this.$type.toObject(this,aae.toJSONOptions)}});var Cv=B((JSe,o2)=>{"use strict";o2.exports=uae;var cae=Vr(),ts=sa(),s2=Mt();function lae(n){return"missing required '"+n.name+"'"}function uae(n){var e=s2.codegen(["r","l"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");n.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof cae?"int32":r.type,s="m"+s2.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),ts.defaults[r.keyType]!==void 0?e("k=%j",ts.defaults[r.keyType]):e("k=null"),ts.defaults[i]!==void 0?e("value=%j",ts.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),ts.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),ts.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),ts.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),ts.basic[i]===void 0?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,t):e("%s.push(r.%s())",s,i)):ts.basic[i]===void 0?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,t):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var o=n._fieldsArray[t];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",lae(o))}return e("return m")}});var Bv=B((zSe,a2)=>{"use strict";a2.exports=dae;var hae=Vr(),Iv=Mt();function Cr(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function yv(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof hae){n("switch(%s){",r)("default:")("return%j",Cr(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)n("case %i:",e.resolvedType.values[i[s]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",Cr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",Cr(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",Cr(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",Cr(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",Cr(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",Cr(e,"buffer"));break}return n}function Aae(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",Cr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",Cr(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",Cr(e,"boolean key"));break}return n}function dae(n){var e=Iv.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var s=n._fieldsArray[i].resolve(),o="m"+Iv.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",Cr(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),Aae(e,s,"k[i]"),yv(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",Cr(s,"array"))("for(var i=0;i<%s.length;++i){",o),yv(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=Iv.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}yv(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var vv=B(l2=>{"use strict";var c2=l2,rA=Vr(),Qi=Mt();function wv(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof rA){n("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var c=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}c2.fromObject=function(e){var t=e.fieldsArray,r=Qi.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),o=Qi.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),wv(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),wv(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof rA||r("if(d%s!=null){",o),wv(r,s,i,o),s.resolvedType instanceof rA||r("}"))}return r("return m")};function Qv(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof rA?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}c2.toObject=function(e){var t=e.fieldsArray.slice().sort(Qi.compareFieldsById);if(!t.length)return Qi.codegen()("return {}");for(var r=Qi.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?s:o).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",Qi.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",Qi.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var c=o[a],l=Qi.safeProp(c.name);if(c.resolvedType instanceof rA)r("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else r("d%s=%j",l,c.typeDefault)}r("}")}var h=!1;for(a=0;a<t.length;++a){var c=t[a],A=e._fieldsArray.indexOf(c),l=Qi.safeProp(c.name);c.map?(h||(h=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),Qv(r,c,A,l+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),Qv(r,c,A,l+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),Qv(r,c,A,l),c.partOf&&r("if(o.oneofs)")("d%s=%j",Qi.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}});var _v=B(u2=>{"use strict";var fae=u2,gae=Vp();fae[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(n=s.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof gae){var o=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,o["@type"]=i,o}return this.toObject(n,e)}}});var Hp=B(($Se,A2)=>{"use strict";A2.exports=He;var Gr=ll();((He.prototype=Object.create(Gr.prototype)).constructor=He).className="Type";var pae=Vr(),Tv=ol(),Gp=js(),mae=Op(),Eae=Pp(),Sv=Vp(),bv=Np(),Cae=Rp(),Kt=Mt(),Iae=Dv(),yae=Cv(),Bae=Bv(),h2=vv(),wae=_v();function He(n,e){Gr.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(He.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Kt.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Kt.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=He.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof Sv||((n.prototype=new Sv).constructor=n,Kt.merge(n.prototype,e)),n.$type=n.prototype.$type=this,Kt.merge(n,Sv,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:Kt.oneOfGetter(this._oneofsArray[t].oneof),set:Kt.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});He.generateConstructor=function(e){for(var t=Kt.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",Kt.safeProp(i.name)):i.repeated&&t("this%s=[]",Kt.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function qp(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}He.fromJSON=function(e,t){var r=new He(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),s=0;s<i.length;++s)r.add((typeof t.fields[i[s]].keyType<"u"?mae.fromJSON:Gp.fromJSON)(i[s],t.fields[i[s]]));if(t.oneofs)for(i=Object.keys(t.oneofs),s=0;s<i.length;++s)r.add(Tv.fromJSON(i[s],t.oneofs[i[s]]));if(t.nested)for(i=Object.keys(t.nested),s=0;s<i.length;++s){var o=t.nested[i[s]];r.add((o.id!==void 0?Gp.fromJSON:o.fields!==void 0?He.fromJSON:o.values!==void 0?pae.fromJSON:o.methods!==void 0?Eae.fromJSON:Gr.fromJSON)(i[s],o))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r};He.prototype.toJSON=function(e){var t=Gr.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Kt.toObject(["options",t&&t.options||void 0,"oneofs",Gr.arrayToJSON(this.oneofsArray,e),"fields",Gr.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};He.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return Gr.prototype.resolveAll.call(this)};He.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};He.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof Gp&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),qp(this)}return e instanceof Tv?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),qp(this)):Gr.prototype.add.call(this,e)};He.prototype.remove=function(e){if(e instanceof Gp&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),qp(this)}if(e instanceof Tv){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),qp(this)}return Gr.prototype.remove.call(this,e)};He.prototype.isReservedId=function(e){return Gr.isReservedId(this.reserved,e)};He.prototype.isReservedName=function(e){return Gr.isReservedName(this.reserved,e)};He.prototype.create=function(e){return new this.ctor(e)};He.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=Iae(this)({Writer:Cae,types:t,util:Kt}),this.decode=yae(this)({Reader:bv,types:t,util:Kt}),this.verify=Bae(this)({types:t,util:Kt}),this.fromObject=h2.fromObject(this)({types:t,util:Kt}),this.toObject=h2.toObject(this)({types:t,util:Kt});var i=wae[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};He.prototype.encode=function(e,t){return this.setup().encode(e,t)};He.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};He.prototype.decode=function(e,t){return this.setup().decode(e,t)};He.prototype.decodeDelimited=function(e){return e instanceof bv||(e=bv.create(e)),this.decode(e,e.uint32())};He.prototype.verify=function(e){return this.setup().verify(e)};He.prototype.fromObject=function(e){return this.setup().fromObject(e)};He.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};He.d=function(e){return function(r){Kt.decorateType(r,e)}}});var Jp=B((XSe,m2)=>{"use strict";m2.exports=Jn;var Wp=ll();((Jn.prototype=Object.create(Wp.prototype)).constructor=Jn).className="Root";var kv=js(),f2=Vr(),Qae=ol(),Xs=Mt(),g2,Rv,iA;function Jn(n){Wp.call(this,"",n),this.deferred=[],this.files=[]}Jn.fromJSON=function(e,t){return t||(t=new Jn),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};Jn.prototype.resolvePath=Xs.path.resolve;Jn.prototype.fetch=Xs.fetch;function p2(){}Jn.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return Xs.asPromise(n,i,e,t);var s=r===p2;function o(d,C){if(r){if(s)throw d;var m=r;r=null,m(d,C)}}function a(d){var C=d.lastIndexOf("google/protobuf/");if(C>-1){var m=d.substring(C);if(m in iA)return m}return null}function c(d,C){try{if(Xs.isString(C)&&C.charAt(0)==="{"&&(C=JSON.parse(C)),!Xs.isString(C))i.setOptions(C.options).addJSON(C.nested);else{Rv.filename=d;var m=Rv(C,i,t),y,_=0;if(m.imports)for(;_<m.imports.length;++_)(y=a(m.imports[_])||i.resolvePath(d,m.imports[_]))&&l(y);if(m.weakImports)for(_=0;_<m.weakImports.length;++_)(y=a(m.weakImports[_])||i.resolvePath(d,m.weakImports[_]))&&l(y,!0)}}catch(S){o(S)}!s&&!u&&o(null,i)}function l(d,C){if(d=a(d)||d,!(i.files.indexOf(d)>-1)){if(i.files.push(d),d in iA){s?c(d,iA[d]):(++u,setTimeout(function(){--u,c(d,iA[d])}));return}if(s){var m;try{m=Xs.fs.readFileSync(d).toString("utf8")}catch(y){C||o(y);return}c(d,m)}else++u,i.fetch(d,function(y,_){if(--u,!!r){if(y){C?u||o(null,i):o(y);return}c(d,_)}})}}var u=0;Xs.isString(e)&&(e=[e]);for(var h=0,A;h<e.length;++h)(A=i.resolvePath("",e[h]))&&l(A);if(s)return i;u||o(null,i)};Jn.prototype.loadSync=function(e,t){if(!Xs.isNode)throw Error("not supported");return this.load(e,t,p2)};Jn.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Wp.prototype.resolveAll.call(this)};var Yp=/^[A-Z]/;function d2(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new kv(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Jn.prototype._handleAdd=function(e){if(e instanceof kv)e.extend!==void 0&&!e.extensionField&&(d2(this,e)||this.deferred.push(e));else if(e instanceof f2)Yp.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Qae)){if(e instanceof g2)for(var t=0;t<this.deferred.length;)d2(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);Yp.test(e.name)&&(e.parent[e.name]=e)}};Jn.prototype._handleRemove=function(e){if(e instanceof kv){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof f2)Yp.test(e.name)&&delete e.parent[e.name];else if(e instanceof Wp){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);Yp.test(e.name)&&delete e.parent[e.name]}};Jn._configure=function(n,e,t){g2=n,Rv=e,iA=t}});var Mt=B((ZSe,C2)=>{"use strict";var mt=C2.exports=yi(),E2=lv(),Nv,Mv;mt.codegen=xP();mt.fetch=UP();mt.path=GP();mt.fs=mt.inquire("fs");mt.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};mt.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(t[i]=s)}return t};var vae=/\\/g,_ae=/"/g;mt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};mt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||mt.isReserved(e)?'["'+e.replace(vae,"\\\\").replace(_ae,'\\"')+'"]':"."+e};mt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Sae=/_([a-z])/g;mt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Sae,function(t,r){return r.toUpperCase()})};mt.compareFieldsById=function(e,t){return e.id-t.id};mt.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(mt.decorateRoot.remove(e.$type),e.$type.name=t,mt.decorateRoot.add(e.$type)),e.$type;Nv||(Nv=Hp());var r=new Nv(t||e.name);return mt.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var bae=0;mt.decorateEnum=function(e){if(e.$type)return e.$type;Mv||(Mv=Vr());var t=new Mv("Enum"+bae++,e);return mt.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};mt.setProperty=function(e,t,r){function i(s,o,a){var c=o.shift();if(c==="__proto__"||c==="prototype")return s;if(o.length>0)s[c]=i(s[c]||{},o,a);else{var l=s[c];l&&(a=[].concat(l).concat(a)),s[c]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),i(e,t,r)};Object.defineProperty(mt,"decorateRoot",{get:function(){return E2.decorated||(E2.decorated=new(Jp()))}})});var oa=B((e0e,I2)=>{"use strict";I2.exports=zn;zn.className="ReflectionObject";var zp=Mt(),Kp;function zn(n,e){if(!zp.isString(n))throw TypeError("name must be a string");if(e&&!zp.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(zn.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});zn.prototype.toJSON=function(){throw Error()};zn.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof Kp&&t._handleAdd(this)};zn.prototype.onRemove=function(e){var t=e.root;t instanceof Kp&&t._handleRemove(this),this.parent=null,this.resolved=!1};zn.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Kp&&(this.resolved=!0),this)};zn.prototype.getOption=function(e){if(this.options)return this.options[e]};zn.prototype.setOption=function(e,t,r){return(!r||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};zn.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(c){return Object.prototype.hasOwnProperty.call(c,e)});if(s){var o=s[e];zp.setProperty(o,r,t)}else s={},s[e]=zp.setProperty({},r,t),i.push(s)}else{var a={};a[e]=t,i.push(a)}return this};zn.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};zn.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};zn._configure=function(n){Kp=n}});var Vr=B((t0e,w2)=>{"use strict";w2.exports=vi;var y2=oa();((vi.prototype=Object.create(y2.prototype)).constructor=vi).className="Enum";var B2=ll(),jp=Mt();function vi(n,e,t,r,i,s){if(y2.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}vi.fromJSON=function(e,t){var r=new vi(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r};vi.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return jp.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};vi.prototype.add=function(e,t,r,i){if(!jp.isString(e))throw TypeError("name must be a string");if(!jp.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};vi.prototype.remove=function(e){if(!jp.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};vi.prototype.isReservedId=function(e){return B2.isReservedId(this.reserved,e)};vi.prototype.isReservedName=function(e){return B2.isReservedName(this.reserved,e)}});var Dv=B((n0e,v2)=>{"use strict";v2.exports=Dae;var Tae=Vr(),Fv=sa(),Lv=Mt();function Q2(n,e,t,r){return e.resolvedType.group?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function Dae(n){for(var e=Lv.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(Lv.compareFieldsById),t=0;t<i.length;++t){var s=i[t].resolve(),o=n._fieldsArray.indexOf(s),a=s.resolvedType instanceof Tae?"int32":s.type,c=Fv.basic[a];r="m"+Lv.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|Fv.mapKey[s.keyType],s.keyType),c===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&Fv.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),c===void 0?Q2(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|c)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),c===void 0?Q2(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|c)>>>0,a,r))}return e("return w")}});var S2=B((r0e,_2)=>{"use strict";var Ee=_2.exports=FP();Ee.build="light";function Rae(n,e,t){return typeof e=="function"?(t=e,e=new Ee.Root):e||(e=new Ee.Root),e.load(n,t)}Ee.load=Rae;function kae(n,e){return e||(e=new Ee.Root),e.loadSync(n)}Ee.loadSync=kae;Ee.encoder=Dv();Ee.decoder=Cv();Ee.verifier=Bv();Ee.converter=vv();Ee.ReflectionObject=oa();Ee.Namespace=ll();Ee.Root=Jp();Ee.Enum=Vr();Ee.Type=Hp();Ee.Field=js();Ee.OneOf=ol();Ee.MapField=Op();Ee.Service=Pp();Ee.Method=Up();Ee.Message=Vp();Ee.wrappers=_v();Ee.types=sa();Ee.util=Mt();Ee.ReflectionObject._configure(Ee.Root);Ee.Namespace._configure(Ee.Type,Ee.Service,Ee.Enum);Ee.Root._configure(Ee.Type);Ee.Field._configure(Ee.Type)});var Ov=B((i0e,D2)=>{"use strict";D2.exports=T2;var xv=/[\s{}=;:[\],'"()<>]/g,Nae=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Mae=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Fae=/^ *[*/]+ */,Lae=/^\s*\*?\/*/,xae=/\n/g,Oae=/\s/,Uae=/\\(.?)/g,Pae={0:"\0",r:"\r",n:`
`,t:"	"};function b2(n){return n.replace(Uae,function(e,t){switch(t){case"\\":case"":return t;default:return Pae[t]||""}})}T2.unescape=b2;function T2(n,e){n=n.toString();var t=0,r=n.length,i=1,s=0,o={},a=[],c=null;function l(D){return Error("illegal "+D+" (line "+i+")")}function u(){var D=c==="'"?Mae:Nae;D.lastIndex=t-1;var N=D.exec(n);if(!N)throw l("string");return t=D.lastIndex,y(c),c=null,b2(N[1])}function h(D){return n.charAt(D)}function A(D,N,x){var Q={type:n.charAt(D++),lineEmpty:!1,leading:x},E;e?E=2:E=3;var w=D-E,v;do if(--w<0||(v=n.charAt(w))===`
`){Q.lineEmpty=!0;break}while(v===" "||v==="	");for(var g=n.substring(D,N).split(xae),b=0;b<g.length;++b)g[b]=g[b].replace(e?Lae:Fae,"").trim();Q.text=g.join(`
`).trim(),o[i]=Q,s=i}function d(D){var N=C(D),x=n.substring(D,N),Q=/^\s*\/\//.test(x);return Q}function C(D){for(var N=D;N<r&&h(N)!==`
`;)N++;return N}function m(){if(a.length>0)return a.shift();if(c)return u();var D,N,x,Q,E,w=t===0;do{if(t===r)return null;for(D=!1;Oae.test(x=h(t));)if(x===`
`&&(w=!0,++i),++t===r)return null;if(h(t)==="/"){if(++t===r)throw l("comment");if(h(t)==="/")if(e){if(Q=t,E=!1,d(t-1)){E=!0;do if(t=C(t),t===r||(t++,!w))break;while(d(t))}else t=Math.min(r,C(t)+1);E&&(A(Q,t,w),w=!0),i++,D=!0}else{for(E=h(Q=t+1)==="/";h(++t)!==`
`;)if(t===r)return null;++t,E&&(A(Q,t-1,w),w=!0),++i,D=!0}else if((x=h(t))==="*"){Q=t+1,E=e||h(Q)==="*";do{if(x===`
`&&++i,++t===r)throw l("comment");N=x,x=h(t)}while(N!=="*"||x!=="/");++t,E&&(A(Q,t-2,w),w=!0),D=!0}else return"/"}}while(D);var v=t;xv.lastIndex=0;var g=xv.test(h(v++));if(!g)for(;v<r&&!xv.test(h(v));)++v;var b=n.substring(t,t=v);return(b==='"'||b==="'")&&(c=b),b}function y(D){a.push(D)}function _(){if(!a.length){var D=m();if(D===null)return null;y(D)}return a[0]}function S(D,N){var x=_(),Q=x===D;if(Q)return m(),!0;if(!N)throw l("token '"+x+"', '"+D+"' expected");return!1}function R(D){var N=null,x;return D===void 0?(x=o[i-1],delete o[i-1],x&&(e||x.type==="*"||x.lineEmpty)&&(N=x.leading?x.text:null)):(s<D&&_(),x=o[D],delete o[D],x&&!x.lineEmpty&&(e||x.type==="/")&&(N=x.leading?null:x.text)),N}return Object.defineProperty({next:m,peek:_,push:y,skip:S,cmnt:R},"line",{get:function(){return i}})}});var L2=B((s0e,F2)=>{"use strict";F2.exports=ns;ns.filename=null;ns.defaults={keepCase:!1};var Vae=Ov(),R2=Jp(),k2=Hp(),N2=js(),Gae=Op(),M2=ol(),qae=Vr(),Hae=Pp(),Yae=Up(),Uv=sa(),Pv=Mt(),Wae=/^[1-9][0-9]*$/,Jae=/^-?[1-9][0-9]*$/,zae=/^0[x][0-9a-fA-F]+$/,Kae=/^-?0[x][0-9a-fA-F]+$/,jae=/^0[0-7]+$/,$ae=/^-?0[0-7]+$/,Xae=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_i=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Si=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Zae=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function ns(n,e,t){e instanceof R2||(t=e,e=new R2),t||(t=ns.defaults);var r=t.preferTrailingComment||!1,i=Vae(n,t.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,c=i.skip,l=i.cmnt,u=!0,h,A,d,C,m=!1,y=e,_=t.keepCase?function(M){return M}:Pv.camelCase;function S(M,F,V){var z=ns.filename;return V||(ns.filename=null),Error("illegal "+(F||"token")+" '"+M+"' ("+(z?z+", ":"")+"line "+i.line+")")}function R(){var M=[],F;do{if((F=s())!=='"'&&F!=="'")throw S(F);M.push(s()),c(F),F=a()}while(F==='"'||F==="'");return M.join("")}function D(M){var F=s();switch(F){case"'":case'"':return o(F),R();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return x(F,!0)}catch{if(M&&Si.test(F))return F;throw S(F,"value")}}function N(M,F){var V,z;do F&&((V=a())==='"'||V==="'")?M.push(R()):M.push([z=Q(s()),c("to",!0)?Q(s()):z]);while(c(",",!0));var W={options:void 0};W.setOption=function(le,nt){this.options===void 0&&(this.options={}),this.options[le]=nt},b(W,function(nt){if(nt==="option")qe(W,nt),c(";");else throw S(nt)},function(){Ut(W)})}function x(M,F){var V=1;switch(M.charAt(0)==="-"&&(V=-1,M=M.substring(1)),M){case"inf":case"INF":case"Inf":return V*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Wae.test(M))return V*parseInt(M,10);if(zae.test(M))return V*parseInt(M,16);if(jae.test(M))return V*parseInt(M,8);if(Xae.test(M))return V*parseFloat(M);throw S(M,"number",F)}function Q(M,F){switch(M){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!F&&M.charAt(0)==="-")throw S(M,"id");if(Jae.test(M))return parseInt(M,10);if(Kae.test(M))return parseInt(M,16);if($ae.test(M))return parseInt(M,8);throw S(M,"id")}function E(){if(h!==void 0)throw S("package");if(h=s(),!Si.test(h))throw S(h,"name");y=y.define(h),c(";")}function w(){var M=a(),F;switch(M){case"weak":F=d||(d=[]),s();break;case"public":s();default:F=A||(A=[]);break}M=R(),c(";"),F.push(M)}function v(){if(c("="),C=R(),m=C==="proto3",!m&&C!=="proto2")throw S(C,"syntax");e.setOption("syntax",C),c(";")}function g(M,F){switch(F){case"option":return qe(M,F),c(";"),!0;case"message":return f(M,F),!0;case"enum":return Oe(M,F),!0;case"service":return It(M,F),!0;case"extend":return Oa(M,F),!0}return!1}function b(M,F,V){var z=i.line;if(M&&(typeof M.comment!="string"&&(M.comment=l()),M.filename=ns.filename),c("{",!0)){for(var W;(W=s())!=="}";)F(W);c(";",!0)}else V&&V(),c(";"),M&&(typeof M.comment!="string"||r)&&(M.comment=l(z)||M.comment)}function f(M,F){if(!_i.test(F=s()))throw S(F,"type name");var V=new k2(F);b(V,function(W){if(!g(V,W))switch(W){case"map":Be(V,W);break;case"required":case"repeated":p(V,W);break;case"optional":m?p(V,"proto3_optional"):p(V,"optional");break;case"oneof":$e(V,W);break;case"extensions":N(V.extensions||(V.extensions=[]));break;case"reserved":N(V.reserved||(V.reserved=[]),!0);break;default:if(!m||!Si.test(W))throw S(W);o(W),p(V,"optional");break}}),M.add(V)}function p(M,F,V){var z=s();if(z==="group"){P(M,F);return}for(;z.endsWith(".")||a().startsWith(".");)z+=s();if(!Si.test(z))throw S(z,"type");var W=s();if(!_i.test(W))throw S(W,"name");W=_(W),c("=");var le=new N2(W,Q(s()),z,F,V);if(b(le,function(Dn){if(Dn==="option")qe(le,Dn),c(";");else throw S(Dn)},function(){Ut(le)}),F==="proto3_optional"){var nt=new M2("_"+W);le.setOption("proto3_optional",!0),nt.add(le),M.add(nt)}else M.add(le);!m&&le.repeated&&(Uv.packed[z]!==void 0||Uv.basic[z]===void 0)&&le.setOption("packed",!1,!0)}function P(M,F){var V=s();if(!_i.test(V))throw S(V,"name");var z=Pv.lcFirst(V);V===z&&(V=Pv.ucFirst(V)),c("=");var W=Q(s()),le=new k2(V);le.group=!0;var nt=new N2(z,W,V,F);nt.filename=ns.filename,b(le,function(Dn){switch(Dn){case"option":qe(le,Dn),c(";");break;case"required":case"repeated":p(le,Dn);break;case"optional":m?p(le,"proto3_optional"):p(le,"optional");break;case"message":f(le,Dn);break;case"enum":Oe(le,Dn);break;default:throw S(Dn)}}),M.add(le).add(nt)}function Be(M){c("<");var F=s();if(Uv.mapKey[F]===void 0)throw S(F,"type");c(",");var V=s();if(!Si.test(V))throw S(V,"type");c(">");var z=s();if(!_i.test(z))throw S(z,"name");c("=");var W=new Gae(_(z),Q(s()),F,V);b(W,function(nt){if(nt==="option")qe(W,nt),c(";");else throw S(nt)},function(){Ut(W)}),M.add(W)}function $e(M,F){if(!_i.test(F=s()))throw S(F,"name");var V=new M2(_(F));b(V,function(W){W==="option"?(qe(V,W),c(";")):(o(W),p(V,"optional"))}),M.add(V)}function Oe(M,F){if(!_i.test(F=s()))throw S(F,"name");var V=new qae(F);b(V,function(W){switch(W){case"option":qe(V,W),c(";");break;case"reserved":N(V.reserved||(V.reserved=[]),!0);break;default:At(V,W)}}),M.add(V)}function At(M,F){if(!_i.test(F))throw S(F,"name");c("=");var V=Q(s(),!0),z={options:void 0};z.setOption=function(W,le){this.options===void 0&&(this.options={}),this.options[W]=le},b(z,function(le){if(le==="option")qe(z,le),c(";");else throw S(le)},function(){Ut(z)}),M.add(F,V,z.comment,z.options)}function qe(M,F){var V=c("(",!0);if(!Si.test(F=s()))throw S(F,"name");var z=F,W=z,le;V&&(c(")"),z="("+z+")",W=z,F=a(),Zae.test(F)&&(le=F.slice(1),z+=F,s())),c("=");var nt=rn(M,z);st(M,W,nt,le)}function rn(M,F){if(c("{",!0)){for(var V={};!c("}",!0);){if(!_i.test(Ht=s()))throw S(Ht,"name");if(Ht===null)throw S(Ht,"end of input");var z,W=Ht;if(c(":",!0),a()==="{")z=rn(M,F+"."+Ht);else if(a()==="["){z=[];var le;if(c("[",!0)){do le=D(!0),z.push(le);while(c(",",!0));c("]"),typeof le<"u"&&Ct(M,F+"."+Ht,le)}}else z=D(!0),Ct(M,F+"."+Ht,z);var nt=V[W];nt&&(z=[].concat(nt).concat(z)),V[W]=z,c(",",!0),c(";",!0)}return V}var gs=D(!0);return Ct(M,F,gs),gs}function Ct(M,F,V){M.setOption&&M.setOption(F,V)}function st(M,F,V,z){M.setParsedOption&&M.setParsedOption(F,V,z)}function Ut(M){if(c("[",!0)){do qe(M,"option");while(c(",",!0));c("]")}return M}function It(M,F){if(!_i.test(F=s()))throw S(F,"service name");var V=new Hae(F);b(V,function(W){if(!g(V,W))if(W==="rpc")sn(V,W);else throw S(W)}),M.add(V)}function sn(M,F){var V=l(),z=F;if(!_i.test(F=s()))throw S(F,"name");var W=F,le,nt,gs,Dn;if(c("("),c("stream",!0)&&(nt=!0),!Si.test(F=s())||(le=F,c(")"),c("returns"),c("("),c("stream",!0)&&(Dn=!0),!Si.test(F=s())))throw S(F);gs=F,c(")");var Rd=new Yae(W,z,le,gs,nt,Dn);Rd.comment=V,b(Rd,function(SC){if(SC==="option")qe(Rd,SC),c(";");else throw S(SC)}),M.add(Rd)}function Oa(M,F){if(!Si.test(F=s()))throw S(F,"reference");var V=F;b(null,function(W){switch(W){case"required":case"repeated":p(M,W,V);break;case"optional":m?p(M,"proto3_optional",V):p(M,"optional",V);break;default:if(!m||!Si.test(W))throw S(W);o(W),p(M,"optional",V);break}})}for(var Ht;(Ht=s())!==null;)switch(Ht){case"package":if(!u)throw S(Ht);E();break;case"import":if(!u)throw S(Ht);w();break;case"syntax":if(!u)throw S(Ht);v();break;case"option":qe(y,Ht),c(";");break;default:if(g(y,Ht)){u=!1;continue}throw S(Ht)}return ns.filename=null,{package:h,imports:A,weakImports:d,syntax:C,root:e}}});var U2=B((o0e,O2)=>{"use strict";O2.exports=qr;var ece=/\/|\./;function qr(n,e){ece.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),qr[n]=e}qr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var x2;qr("duration",{Duration:x2={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});qr("timestamp",{Timestamp:x2});qr("empty",{Empty:{fields:{}}});qr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});qr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});qr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});qr.get=function(e){return qr[e]||null}});var V2=B((a0e,P2)=>{"use strict";var Zs=P2.exports=S2();Zs.build="full";Zs.tokenize=Ov();Zs.parse=L2();Zs.common=U2();Zs.Root._configure(Zs.Type,Zs.parse,Zs.common)});var $p=B((c0e,G2)=>{"use strict";G2.exports=V2()});var Vv=B((l0e,tce)=>{tce.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var J2=B((ge,W2)=>{"use strict";var dn=$p();W2.exports=ge=dn.descriptor=dn.Root.fromJSON(Vv()).lookup(".google.protobuf");var q2=dn.Namespace,sA=dn.Root,rs=dn.Enum,eo=dn.Type,to=dn.Field,nce=dn.MapField,Xp=dn.OneOf,oA=dn.Service,Zp=dn.Method;sA.fromDescriptor=function(e){typeof e.length=="number"&&(e=ge.FileDescriptorSet.decode(e));var t=new sA;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=t,(r=e.file[s]).package&&r.package.length&&(i=t.define(r.package)),r.name&&r.name.length&&t.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(eo.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(rs.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(to.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(oA.fromDescriptor(r.service[o]));var a=hl(r.options,ge.FileOptions);if(a){var c=Object.keys(a);for(o=0;o<c.length;++o)i.setOption(c[o],a[c[o]])}}return t};sA.prototype.toDescriptor=function(e){var t=ge.FileDescriptorSet.create();return H2(this,t.file,e),t};function H2(n,e,t){var r=ge.FileDescriptorProto.create({name:n.filename||(n.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(r.syntax=t),n instanceof sA||(r.package=n.fullName.substring(1));for(var i=0,s;i<n.nestedArray.length;++i)(s=n._nestedArray[i])instanceof eo?r.messageType.push(s.toDescriptor(t)):s instanceof rs?r.enumType.push(s.toDescriptor()):s instanceof to?r.extension.push(s.toDescriptor(t)):s instanceof oA?r.service.push(s.toDescriptor()):s instanceof q2&&H2(s,e,t);r.options=Al(n.options,ge.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var rce=0;eo.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=ge.DescriptorProto.decode(e));var r=new eo(e.name.length?e.name:"Type"+rce++,hl(e.options,ge.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(Xp.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=to.fromDescriptor(e.field[i],t);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(to.fromDescriptor(e.extension[i],t));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(eo.fromDescriptor(e.nestedType[i],t)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(rs.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};eo.prototype.toDescriptor=function(e){var t=ge.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(t.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof nce){var s=Gv(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=Gv(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&Y2(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;t.nestedType.push(ge.DescriptorProto.create({name:i.typeName,field:[ge.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),ge.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:ge.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)t.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof to?t.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof eo?t.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof rs&&t.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)t.extensionRange.push(ge.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?t.reservedName.push(this.reserved[r]):t.reservedRange.push(ge.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return t.options=Al(this.options,ge.MessageOptions),t};var ice=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;to.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=ge.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=lce(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new to(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=hl(e.options,ge.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var c=ice.exec(a);c&&(a=parseInt(a));break}o.setOption("default",a)}return uce(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};to.prototype.toDescriptor=function(e){var t=ge.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=dn.util.ucFirst(this.name),t.label=3;else{switch(t.type=Gv(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?Y2(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=Al(this.options,ge.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=ge.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=ge.FieldOptions.create())).packed=!0),t};var sce=0;rs.fromDescriptor=function(e){typeof e.length=="number"&&(e=ge.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;t[i&&i.length?i:"NAME"+s]=s}return new rs(e.name&&e.name.length?e.name:"Enum"+sce++,t,hl(e.options,ge.EnumOptions))};rs.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(ge.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return ge.EnumDescriptorProto.create({name:this.name,value:e,options:Al(this.options,ge.EnumOptions)})};var oce=0;Xp.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ge.OneofDescriptorProto.decode(e)),new Xp(e.name&&e.name.length?e.name:"oneof"+oce++)};Xp.prototype.toDescriptor=function(){return ge.OneofDescriptorProto.create({name:this.name})};var ace=0;oA.fromDescriptor=function(e){typeof e.length=="number"&&(e=ge.ServiceDescriptorProto.decode(e));var t=new oA(e.name&&e.name.length?e.name:"Service"+ace++,hl(e.options,ge.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)t.add(Zp.fromDescriptor(e.method[r]));return t};oA.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ge.ServiceDescriptorProto.create({name:this.name,method:e,options:Al(this.options,ge.ServiceOptions)})};var cce=0;Zp.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ge.MethodDescriptorProto.decode(e)),new Zp(e.name&&e.name.length?e.name:"Method"+cce++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,hl(e.options,ge.MethodOptions))};Zp.prototype.toDescriptor=function(){return ge.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Al(this.options,ge.MethodOptions)})};function lce(n){switch(n){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+n)}function uce(n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function Gv(n,e){switch(n){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof rs)return 14;if(e instanceof eo)return e.group?10:11;throw Error("illegal type: "+n)}function hl(n,e){if(n){for(var t=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&n.hasOwnProperty(s)&&(o=n[s],i.resolvedType instanceof rs&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),t.push(hce(s),o));return t.length?dn.util.toObject(t):void 0}}function Al(n,e){if(n){for(var t=[],r=0,i=Object.keys(n),s,o;r<i.length;++r)if(o=n[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=dn.util.camelCase(s)])||t.push(s,o)}return t.length?e.fromObject(dn.util.toObject(t)):void 0}}function Y2(n,e){var t=n.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(n instanceof sA)&&e instanceof q2)for(;i<t.length&&s<o&&t[i]===r[s];){var a=e.lookup(t[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<t.length&&s<o&&t[i]===r[s];++i,++s);return r.slice(s).join(".")}function hce(n){return n.substring(0,1)+n.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var z2=B((u0e,Ace)=>{Ace.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var K2=B((h0e,dce)=>{dce.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var j2=B((A0e,fce)=>{fce.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var eV=B(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.addCommonProtos=no.loadProtosWithOptionsSync=no.loadProtosWithOptions=void 0;var $2=T("fs"),X2=T("path"),dl=$p();function Z2(n,e){let t=n.resolvePath;n.resolvePath=(r,i)=>{if(X2.isAbsolute(i))return i;for(let s of e){let o=X2.join(s,i);try{return $2.accessSync(o,$2.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),t(r,i)}}function gce(n,e){return I(this,null,function*(){let t=new dl.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Z2(t,e.includeDirs)}let r=yield t.load(n,e);return r.resolveAll(),r})}no.loadProtosWithOptions=gce;function pce(n,e){let t=new dl.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");Z2(t,e.includeDirs)}let r=t.loadSync(n,e);return r.resolveAll(),r}no.loadProtosWithOptionsSync=pce;function mce(){let n=z2(),e=Vv(),t=K2(),r=j2();dl.common("api",n.nested.google.nested.protobuf.nested),dl.common("descriptor",e.nested.google.nested.protobuf.nested),dl.common("source_context",t.nested.google.nested.protobuf.nested),dl.common("type",r.nested.google.nested.protobuf.nested)}no.addCommonProtos=mce});var rV=B((nV,qv)=>{"use strict";var tV=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(f,p,P){this.low=f|0,this.high=p|0,this.unsigned=!!P}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function r(f){return(f&&f.__isLong__)===!0}function i(f){var p=Math.clz32(f&-f);return f?31-p:p}t.isLong=r;var s={},o={};function a(f,p){var P,Be,$e;return p?(f>>>=0,($e=0<=f&&f<256)&&(Be=o[f],Be)?Be:(P=l(f,0,!0),$e&&(o[f]=P),P)):(f|=0,($e=-128<=f&&f<128)&&(Be=s[f],Be)?Be:(P=l(f,f<0?-1:0,!1),$e&&(s[f]=P),P))}t.fromInt=a;function c(f,p){if(isNaN(f))return p?D:R;if(p){if(f<0)return D;if(f>=y)return w}else{if(f<=-_)return v;if(f+1>=_)return E}return f<0?c(-f,p).neg():l(f%m|0,f/m|0,p)}t.fromNumber=c;function l(f,p,P){return new t(f,p,P)}t.fromBits=l;var u=Math.pow;function h(f,p,P){if(f.length===0)throw Error("empty string");if(typeof p=="number"?(P=p,p=!1):p=!!p,f==="NaN"||f==="Infinity"||f==="+Infinity"||f==="-Infinity")return p?D:R;if(P=P||10,P<2||36<P)throw RangeError("radix");var Be;if((Be=f.indexOf("-"))>0)throw Error("interior hyphen");if(Be===0)return h(f.substring(1),p,P).neg();for(var $e=c(u(P,8)),Oe=R,At=0;At<f.length;At+=8){var qe=Math.min(8,f.length-At),rn=parseInt(f.substring(At,At+qe),P);if(qe<8){var Ct=c(u(P,qe));Oe=Oe.mul(Ct).add(c(rn))}else Oe=Oe.mul($e),Oe=Oe.add(c(rn))}return Oe.unsigned=p,Oe}t.fromString=h;function A(f,p){return typeof f=="number"?c(f,p):typeof f=="string"?h(f,p):l(f.low,f.high,typeof p=="boolean"?p:f.unsigned)}t.fromValue=A;var d=65536,C=1<<24,m=d*d,y=m*m,_=y/2,S=a(C),R=a(0);t.ZERO=R;var D=a(0,!0);t.UZERO=D;var N=a(1);t.ONE=N;var x=a(1,!0);t.UONE=x;var Q=a(-1);t.NEG_ONE=Q;var E=l(-1,2147483647,!1);t.MAX_VALUE=E;var w=l(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var v=l(0,-2147483648,!1);t.MIN_VALUE=v;var g=t.prototype;g.toInt=function(){return this.unsigned?this.low>>>0:this.low},g.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},g.toString=function(p){if(p=p||10,p<2||36<p)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(v)){var P=c(p),Be=this.div(P),$e=Be.mul(P).sub(this);return Be.toString(p)+$e.toInt().toString(p)}else return"-"+this.neg().toString(p);for(var Oe=c(u(p,6),this.unsigned),At=this,qe="";;){var rn=At.div(Oe),Ct=At.sub(rn.mul(Oe)).toInt()>>>0,st=Ct.toString(p);if(At=rn,At.isZero())return st+qe;for(;st.length<6;)st="0"+st;qe=""+st+qe}},g.getHighBits=function(){return this.high},g.getHighBitsUnsigned=function(){return this.high>>>0},g.getLowBits=function(){return this.low},g.getLowBitsUnsigned=function(){return this.low>>>0},g.getNumBitsAbs=function(){if(this.isNegative())return this.eq(v)?64:this.neg().getNumBitsAbs();for(var p=this.high!=0?this.high:this.low,P=31;P>0&&!(p&1<<P);P--);return this.high!=0?P+33:P+1},g.isZero=function(){return this.high===0&&this.low===0},g.eqz=g.isZero,g.isNegative=function(){return!this.unsigned&&this.high<0},g.isPositive=function(){return this.unsigned||this.high>=0},g.isOdd=function(){return(this.low&1)===1},g.isEven=function(){return(this.low&1)===0},g.equals=function(p){return r(p)||(p=A(p)),this.unsigned!==p.unsigned&&this.high>>>31===1&&p.high>>>31===1?!1:this.high===p.high&&this.low===p.low},g.eq=g.equals,g.notEquals=function(p){return!this.eq(p)},g.neq=g.notEquals,g.ne=g.notEquals,g.lessThan=function(p){return this.comp(p)<0},g.lt=g.lessThan,g.lessThanOrEqual=function(p){return this.comp(p)<=0},g.lte=g.lessThanOrEqual,g.le=g.lessThanOrEqual,g.greaterThan=function(p){return this.comp(p)>0},g.gt=g.greaterThan,g.greaterThanOrEqual=function(p){return this.comp(p)>=0},g.gte=g.greaterThanOrEqual,g.ge=g.greaterThanOrEqual,g.compare=function(p){if(r(p)||(p=A(p)),this.eq(p))return 0;var P=this.isNegative(),Be=p.isNegative();return P&&!Be?-1:!P&&Be?1:this.unsigned?p.high>>>0>this.high>>>0||p.high===this.high&&p.low>>>0>this.low>>>0?-1:1:this.sub(p).isNegative()?-1:1},g.comp=g.compare,g.negate=function(){return!this.unsigned&&this.eq(v)?v:this.not().add(N)},g.neg=g.negate,g.add=function(p){r(p)||(p=A(p));var P=this.high>>>16,Be=this.high&65535,$e=this.low>>>16,Oe=this.low&65535,At=p.high>>>16,qe=p.high&65535,rn=p.low>>>16,Ct=p.low&65535,st=0,Ut=0,It=0,sn=0;return sn+=Oe+Ct,It+=sn>>>16,sn&=65535,It+=$e+rn,Ut+=It>>>16,It&=65535,Ut+=Be+qe,st+=Ut>>>16,Ut&=65535,st+=P+At,st&=65535,l(It<<16|sn,st<<16|Ut,this.unsigned)},g.subtract=function(p){return r(p)||(p=A(p)),this.add(p.neg())},g.sub=g.subtract,g.multiply=function(p){if(this.isZero())return this;if(r(p)||(p=A(p)),e){var P=e.mul(this.low,this.high,p.low,p.high);return l(P,e.get_high(),this.unsigned)}if(p.isZero())return this.unsigned?D:R;if(this.eq(v))return p.isOdd()?v:R;if(p.eq(v))return this.isOdd()?v:R;if(this.isNegative())return p.isNegative()?this.neg().mul(p.neg()):this.neg().mul(p).neg();if(p.isNegative())return this.mul(p.neg()).neg();if(this.lt(S)&&p.lt(S))return c(this.toNumber()*p.toNumber(),this.unsigned);var Be=this.high>>>16,$e=this.high&65535,Oe=this.low>>>16,At=this.low&65535,qe=p.high>>>16,rn=p.high&65535,Ct=p.low>>>16,st=p.low&65535,Ut=0,It=0,sn=0,Oa=0;return Oa+=At*st,sn+=Oa>>>16,Oa&=65535,sn+=Oe*st,It+=sn>>>16,sn&=65535,sn+=At*Ct,It+=sn>>>16,sn&=65535,It+=$e*st,Ut+=It>>>16,It&=65535,It+=Oe*Ct,Ut+=It>>>16,It&=65535,It+=At*rn,Ut+=It>>>16,It&=65535,Ut+=Be*st+$e*Ct+Oe*rn+At*qe,Ut&=65535,l(sn<<16|Oa,Ut<<16|It,this.unsigned)},g.mul=g.multiply,g.divide=function(p){if(r(p)||(p=A(p)),p.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&p.low===-1&&p.high===-1)return this;var P=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,p.low,p.high);return l(P,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?D:R;var Be,$e,Oe;if(this.unsigned){if(p.unsigned||(p=p.toUnsigned()),p.gt(this))return D;if(p.gt(this.shru(1)))return x;Oe=D}else{if(this.eq(v)){if(p.eq(N)||p.eq(Q))return v;if(p.eq(v))return N;var At=this.shr(1);return Be=At.div(p).shl(1),Be.eq(R)?p.isNegative()?N:Q:($e=this.sub(p.mul(Be)),Oe=Be.add($e.div(p)),Oe)}else if(p.eq(v))return this.unsigned?D:R;if(this.isNegative())return p.isNegative()?this.neg().div(p.neg()):this.neg().div(p).neg();if(p.isNegative())return this.div(p.neg()).neg();Oe=R}for($e=this;$e.gte(p);){Be=Math.max(1,Math.floor($e.toNumber()/p.toNumber()));for(var qe=Math.ceil(Math.log(Be)/Math.LN2),rn=qe<=48?1:u(2,qe-48),Ct=c(Be),st=Ct.mul(p);st.isNegative()||st.gt($e);)Be-=rn,Ct=c(Be,this.unsigned),st=Ct.mul(p);Ct.isZero()&&(Ct=N),Oe=Oe.add(Ct),$e=$e.sub(st)}return Oe},g.div=g.divide,g.modulo=function(p){if(r(p)||(p=A(p)),e){var P=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,p.low,p.high);return l(P,e.get_high(),this.unsigned)}return this.sub(this.div(p).mul(p))},g.mod=g.modulo,g.rem=g.modulo,g.not=function(){return l(~this.low,~this.high,this.unsigned)},g.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},g.clz=g.countLeadingZeros,g.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},g.ctz=g.countTrailingZeros,g.and=function(p){return r(p)||(p=A(p)),l(this.low&p.low,this.high&p.high,this.unsigned)},g.or=function(p){return r(p)||(p=A(p)),l(this.low|p.low,this.high|p.high,this.unsigned)},g.xor=function(p){return r(p)||(p=A(p)),l(this.low^p.low,this.high^p.high,this.unsigned)},g.shiftLeft=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low<<p,this.high<<p|this.low>>>32-p,this.unsigned):l(0,this.low<<p-32,this.unsigned)},g.shl=g.shiftLeft,g.shiftRight=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>p,this.unsigned):l(this.high>>p-32,this.high>=0?0:-1,this.unsigned)},g.shr=g.shiftRight,g.shiftRightUnsigned=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>>p,this.unsigned):p===32?l(this.high,0,this.unsigned):l(this.high>>>p-32,0,this.unsigned)},g.shru=g.shiftRightUnsigned,g.shr_u=g.shiftRightUnsigned,g.rotateLeft=function(p){var P;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(P=32-p,l(this.low<<p|this.high>>>P,this.high<<p|this.low>>>P,this.unsigned)):(p-=32,P=32-p,l(this.high<<p|this.low>>>P,this.low<<p|this.high>>>P,this.unsigned))},g.rotl=g.rotateLeft,g.rotateRight=function(p){var P;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(P=32-p,l(this.high<<P|this.low>>>p,this.low<<P|this.high>>>p,this.unsigned)):(p-=32,P=32-p,l(this.low<<P|this.high>>>p,this.high<<P|this.low>>>p,this.unsigned))},g.rotr=g.rotateRight,g.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},g.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},g.toBytes=function(p){return p?this.toBytesLE():this.toBytesBE()},g.toBytesLE=function(){var p=this.high,P=this.low;return[P&255,P>>>8&255,P>>>16&255,P>>>24,p&255,p>>>8&255,p>>>16&255,p>>>24]},g.toBytesBE=function(){var p=this.high,P=this.low;return[p>>>24,p>>>16&255,p>>>8&255,p&255,P>>>24,P>>>16&255,P>>>8&255,P&255]},t.fromBytes=function(p,P,Be){return Be?t.fromBytesLE(p,P):t.fromBytesBE(p,P)},t.fromBytesLE=function(p,P){return new t(p[0]|p[1]<<8|p[2]<<16|p[3]<<24,p[4]|p[5]<<8|p[6]<<16|p[7]<<24,P)},t.fromBytesBE=function(p,P){return new t(p[4]<<24|p[5]<<16|p[6]<<8|p[7],p[0]<<24|p[1]<<16|p[2]<<8|p[3],P)};var b=t;return n.default=b,"default"in n?n.default:n}({});typeof define=="function"&&define.amd?define([],function(){return tV}):typeof qv=="object"&&typeof nV=="object"&&(qv.exports=tV)});var Jv=B(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.loadFileDescriptorSetFromObject=bt.loadFileDescriptorSetFromBuffer=bt.fromJSON=bt.loadSync=bt.load=bt.IdempotencyLevel=bt.isAnyExtension=bt.Long=void 0;var Ece=H1(),bi=$p(),Yv=J2(),Wv=eV(),Cce=rV();bt.Long=Cce;function Ice(n){return"@type"in n&&typeof n["@type"]=="string"}bt.isAnyExtension=Ice;var oV;(function(n){n.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",n.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",n.IDEMPOTENT="IDEMPOTENT"})(oV=bt.IdempotencyLevel||(bt.IdempotencyLevel={}));var aV={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function yce(n,e){return n===""?e:n+"."+e}function Bce(n){return n instanceof bi.Service||n instanceof bi.Type||n instanceof bi.Enum}function wce(n){return n instanceof bi.Namespace||n instanceof bi.Root}function cV(n,e){let t=yce(e,n.name);return Bce(n)?[[t,n]]:wce(n)&&typeof n.nested<"u"?Object.keys(n.nested).map(r=>cV(n.nested[r],t)).reduce((r,i)=>r.concat(i),[]):[]}function iV(n,e){return function(r){return n.toObject(n.decode(r),e)}}function sV(n){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${n.name} structure, got array instead`);let r=n.fromObject(t);return n.encode(r).finish()}}function Qce(n){return(n||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=i}return e},{deprecated:!1,idempotency_level:oV.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function vce(n,e,t,r){let i=n.resolvedRequestType,s=n.resolvedResponseType;return{path:"/"+e+"/"+n.name,requestStream:!!n.requestStream,responseStream:!!n.responseStream,requestSerialize:sV(i),requestDeserialize:iV(i,t),responseSerialize:sV(s),responseDeserialize:iV(s,t),originalName:Ece(n.name),requestType:Hv(i,r),responseType:Hv(s,r),options:Qce(n.parsedOptions)}}function _ce(n,e,t,r){let i={};for(let s of n.methodsArray)i[s.name]=vce(s,e,t,r);return i}function Hv(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,aV),fileDescriptorProtos:e}}function Sce(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,aV),fileDescriptorProtos:e}}function bce(n,e,t,r){if(n instanceof bi.Service)return _ce(n,e,t,r);if(n instanceof bi.Type)return Hv(n,r);if(n instanceof bi.Enum)return Sce(n,r);throw new Error("Type mismatch in reflection object handling")}function em(n,e){let t={};n.resolveAll();let i=n.toDescriptor("proto3").file.map(s=>Buffer.from(Yv.FileDescriptorProto.encode(s).finish()));for(let[s,o]of cV(n,""))t[s]=bce(o,s,e,i);return t}function lV(n,e){e=e||{};let t=bi.Root.fromDescriptor(n);return t.resolveAll(),em(t,e)}function Tce(n,e){return(0,Wv.loadProtosWithOptions)(n,e).then(t=>em(t,e))}bt.load=Tce;function Dce(n,e){let t=(0,Wv.loadProtosWithOptionsSync)(n,e);return em(t,e)}bt.loadSync=Dce;function Rce(n,e){e=e||{};let t=bi.Root.fromJSON(n);return t.resolveAll(),em(t,e)}bt.fromJSON=Rce;function kce(n,e){let t=Yv.FileDescriptorSet.decode(n);return lV(t,e)}bt.loadFileDescriptorSetFromBuffer=kce;function Nce(n,e){let t=Yv.FileDescriptorSet.fromObject(n);return lV(t,e)}bt.loadFileDescriptorSetFromObject=Nce;(0,Wv.addCommonProtos)()});var ca=B(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.setup=Ze.getChannelzServiceDefinition=Ze.getChannelzHandlers=Ze.unregisterChannelzRef=Ze.registerChannelzSocket=Ze.registerChannelzServer=Ze.registerChannelzSubchannel=Ze.registerChannelzChannel=Ze.ChannelzCallTracker=Ze.ChannelzChildrenTracker=Ze.ChannelzTrace=void 0;var uV=T("net"),aA=hr(),lA=ke(),Mce=Ci(),Fce=yp(),Lce=HQ();function zv(n){return{channel_id:n.id,name:n.name}}function Xv(n){return{subchannel_id:n.id,name:n.name}}function xce(n){return{server_id:n.id}}function nm(n){return{socket_id:n.id,name:n.name}}var hV=32,Kv=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=hV*2&&(this.events=this.events.slice(hV)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:is(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:is(e.timestamp),channel_ref:e.childChannel?zv(e.childChannel):null,subchannel_ref:e.childSubchannel?Xv(e.childSubchannel):null}))}}};Ze.ChannelzTrace=Kv;var jv=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let s=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let t=[];for(let{ref:i}of this.subchannelChildren.values())t.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:t,sockets:r}}};Ze.ChannelzChildrenTracker=jv;var $v=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Ze.ChannelzCallTracker=$v;var Oce=1;function rm(){return Oce++}var cA=[],Zv=[],ro=[],e_=[];function Uce(n,e,t){let r=rm(),i={id:r,name:n,kind:"channel"};return t&&(cA[r]={ref:i,getInfo:e}),i}Ze.registerChannelzChannel=Uce;function Pce(n,e,t){let r=rm(),i={id:r,name:n,kind:"subchannel"};return t&&(Zv[r]={ref:i,getInfo:e}),i}Ze.registerChannelzSubchannel=Pce;function Vce(n,e){let t=rm(),r={id:t,kind:"server"};return e&&(ro[t]={ref:r,getInfo:n}),r}Ze.registerChannelzServer=Vce;function Gce(n,e,t){let r=rm(),i={id:r,name:n,kind:"socket"};return t&&(e_[r]={ref:i,getInfo:e}),i}Ze.registerChannelzSocket=Gce;function qce(n){switch(n.kind){case"channel":delete cA[n.id];return;case"subchannel":delete Zv[n.id];return;case"server":delete ro[n.id];return;case"socket":delete e_[n.id];return}}Ze.unregisterChannelzRef=qce;function Hce(n){let e=Number.parseInt(n,16);return[e/256|0,e%256]}function AV(n){if(n==="")return[];let e=n.split(":").map(r=>Hce(r));return[].concat(...e)}function Yce(n){if((0,uV.isIPv4)(n))return Buffer.from(Uint8Array.from(n.split(".").map(e=>Number.parseInt(e))));if((0,uV.isIPv6)(n)){let e,t,r=n.indexOf("::");r===-1?(e=n,t=""):(e=n.substring(0,r),t=n.substring(r+2));let i=Buffer.from(AV(e)),s=Buffer.from(AV(t)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function fV(n){switch(n){case aA.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case aA.ConnectivityState.IDLE:return{state:"IDLE"};case aA.ConnectivityState.READY:return{state:"READY"};case aA.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case aA.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function is(n){if(!n)return null;let e=n.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function gV(n){let e=n.getInfo();return{ref:zv(n.ref),data:{target:e.target,state:fV(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:is(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(t=>zv(t)),subchannel_ref:e.children.subchannels.map(t=>Xv(t))}}function Wce(n,e){let t=Number.parseInt(n.request.channel_id),r=cA[t];if(r===void 0){e({code:lA.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:gV(r)})}function Jce(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_channel_id);for(;i<cA.length;i++){let s=cA[i];if(s!==void 0&&(r.push(gV(s)),r.length>=t))break}e(null,{channel:r,end:i>=ro.length})}function pV(n){let e=n.getInfo();return{ref:xce(n.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:is(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(t=>nm(t))}}function zce(n,e){let t=Number.parseInt(n.request.server_id),r=ro[t];if(r===void 0){e({code:lA.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:pV(r)})}function Kce(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_server_id);for(;i<ro.length;i++){let s=ro[i];if(s!==void 0&&(r.push(pV(s)),r.length>=t))break}e(null,{server:r,end:i>=ro.length})}function jce(n,e){let t=Number.parseInt(n.request.subchannel_id),r=Zv[t];if(r===void 0){e({code:lA.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let i=r.getInfo(),s={ref:Xv(r.ref),data:{target:i.target,state:fV(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:is(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>nm(o))};e(null,{subchannel:s})}function dV(n){var e;return(0,Mce.isTcpSubchannelAddress)(n)?{address:"tcpip_address",tcpip_address:{ip_address:(e=Yce(n.host))!==null&&e!==void 0?e:void 0,port:n.port}}:{address:"uds_address",uds_address:{filename:n.path}}}function $ce(n,e){var t,r,i,s,o;let a=Number.parseInt(n.request.socket_id),c=e_[a];if(c===void 0){e({code:lA.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let l=c.getInfo(),u=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=l.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(r=l.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=l.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=l.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,h={ref:nm(c.ref),local:l.localAddress?dV(l.localAddress):null,remote:l.remoteAddress?dV(l.remoteAddress):null,remote_name:(o=l.remoteName)!==null&&o!==void 0?o:void 0,security:u,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:is(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:is(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:is(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:is(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:h})}function Xce(n,e){let t=Number.parseInt(n.request.server_id),r=ro[t];if(r===void 0){e({code:lA.Status.NOT_FOUND,details:"No server data found for id "+t});return}let i=Number.parseInt(n.request.start_socket_id),s=Number.parseInt(n.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((u,h)=>u.id-h.id),c=[],l=0;for(;l<a.length&&!(a[l].id>=i&&(c.push(nm(a[l])),c.length>=s));l++);e(null,{socket_ref:c,end:l>=a.length})}function mV(){return{GetChannel:Wce,GetTopChannels:Jce,GetServer:zce,GetServers:Kce,GetSubchannel:jce,GetSocket:$ce,GetServerSockets:Xce}}Ze.getChannelzHandlers=mV;var tm=null;function EV(){if(tm)return tm;let n=Jv().loadSync,e=n("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return tm=(0,Lce.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,tm}Ze.getChannelzServiceDefinition=EV;function Zce(){(0,Fce.registerAdminService)(EV,mV)}Ze.setup=Zce});var CV=B(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.Subchannel=void 0;var Ye=hr(),ele=Gh(),t_=ut(),im=ke(),tle=Wn(),nle=Ci(),fl=ca(),rle="subchannel",ile=~(1<<31),n_=class{constructor(e,t,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=Ye.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new fl.ChannelzCallTracker,this.childrenTracker=new fl.ChannelzChildrenTracker,this.streamTracker=new fl.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new ele.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,nle.subchannelAddressToString)(t),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new fl.ChannelzTrace,this.channelzRef=(0,fl.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){t_.trace(im.LogVerbosity.DEBUG,rle,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){t_.trace(im.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([Ye.ConnectivityState.TRANSIENT_FAILURE],Ye.ConnectivityState.CONNECTING):this.transitionToState([Ye.ConnectivityState.TRANSIENT_FAILURE],Ye.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,ile);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([Ye.ConnectivityState.CONNECTING],Ye.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(r=>{this.transitionToState([Ye.ConnectivityState.READY],Ye.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,t_.log(im.LogVerbosity.ERROR,`Connection to ${(0,tle.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([Ye.ConnectivityState.CONNECTING],Ye.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(Ye.ConnectivityState[this.connectivityState]+" -> "+Ye.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Ye.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case Ye.ConnectivityState.READY:this.stopBackoff();break;case Ye.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case Ye.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case Ye.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let a of this.stateListeners)a(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,fl.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([Ye.ConnectivityState.CONNECTING,Ye.ConnectivityState.READY],Ye.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===im.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,t,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([Ye.ConnectivityState.IDLE],Ye.ConnectivityState.CONNECTING)||this.connectivityState===Ye.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([Ye.ConnectivityState.TRANSIENT_FAILURE],Ye.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};sm.Subchannel=n_});var o_=B(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.setup=oo.DEFAULT_PORT=void 0;var IV=mi(),BV=T("dns"),wV=T("util"),sle=mQ(),r_=ke(),i_=vn(),ole=ut(),ale=ke(),io=Wn(),yV=T("net"),cle=Gh(),lle="dns_resolver";function so(n){ole.trace(ale.LogVerbosity.DEBUG,lle,n)}oo.DEFAULT_PORT=443;var ule=3e4,hle=wV.promisify(BV.resolveTxt),Ale=wV.promisify(BV.lookup);function dle(...n){let e=[];for(let t=0;t<Math.max.apply(null,n.map(r=>r.length));t++)for(let r of n)t<r.length&&e.push(r[t]);return e}var s_=class{constructor(e,t,r){var i,s,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,so("Resolver constructed for target "+(0,io.uriToString)(e));let a=(0,io.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,yV.isIPv4)(a.host)||(0,yV.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:oo.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:oo.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:r_.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,io.uriToString)(this.target)}`,metadata:new i_.Metadata};let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new cle.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:ule,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(so("Returning IP address for target "+(0,io.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)so("Failed to parse DNS address "+(0,io.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:r_.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,io.uriToString)(this.target)}`,metadata:new i_.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;so("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=Ale(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(o=>o.family===4),i=t.filter(o=>o.family===6);this.latestLookupResult=dle(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(so("Resolved addresses for target "+(0,io.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(so("Resolution error for target "+(0,io.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=hle(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,sle.extractAndSelectServiceConfig)(t,this.percentage)}catch(r){this.latestServiceConfigError={code:r_.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new i_.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?so('resolution update delayed by "min time between resolutions" rate limit'):so("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function fle(){(0,IV.registerResolver)("dns",s_),(0,IV.registerDefaultScheme)("dns")}oo.setup=fle});var a_=B(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.getProxiedConnection=ml.mapProxyName=void 0;var uA=ut(),gl=ke(),gle=mi(),ple=T("http"),mle=T("tls"),Ele=ut(),QV=Ci(),pl=Wn(),Cle=T("url"),Ile=o_(),yle="proxy";function ao(n){Ele.trace(gl.LogVerbosity.DEBUG,yle,n)}function Ble(){let n="",e="";if(process.env.grpc_proxy)e="grpc_proxy",n=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",n=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",n=process.env.http_proxy;else return{};let t;try{t=new Cle.URL(n)}catch{return(0,uA.log)(gl.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,uA.log)(gl.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let r=null;t.username&&(t.password?((0,uA.log)(gl.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${t.username}:${t.password}`):r=t.username);let i=t.hostname,s=t.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),ao("Proxy server "+o.address+" set by environment variable "+e),o}function wle(){let n=process.env.no_grpc_proxy,e="no_grpc_proxy";return n||(n=process.env.no_proxy,e="no_proxy"),n?(ao("No proxy server list set by environment variable "+e),n.split(",")):[]}function Qle(n,e){var t;let r={target:n,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||n.scheme==="unix")return r;let i=Ble();if(!i.address)return r;let s=(0,pl.splitHostPort)(n.path);if(!s)return r;let o=s.host;for(let c of wle())if(c===o)return ao("Not using proxy for target in no_proxy list: "+(0,pl.uriToString)(n)),r;let a={"grpc.http_connect_target":(0,pl.uriToString)(n)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}ml.mapProxyName=Qle;function vle(n,e,t){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,pl.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,pl.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:Ile.DEFAULT_PORT}`,c={method:"CONNECT",path:a},l={Host:a};(0,QV.isTcpSubchannelAddress)(n)?(c.host=n.host,c.port=n.port):c.socketPath=n.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),c.headers=l;let u=(0,QV.subchannelAddressToString)(n);return ao("Using proxy "+u+" to connect to "+c.path),new Promise((h,A)=>{let d=ple.request(c);d.once("connect",(C,m,y)=>{var _;if(d.removeAllListeners(),m.removeAllListeners(),C.statusCode===200)if(ao("Successfully connected to "+c.path+" through proxy "+u),"secureContext"in t){let S=(0,gle.getDefaultAuthority)(s),R=(0,pl.splitHostPort)(S),D=(_=R?.host)!==null&&_!==void 0?_:S,N=mle.connect(Object.assign({host:D,servername:D,socket:m},t),()=>{ao("Successfully established a TLS connection to "+c.path+" through proxy "+u),h({socket:N,realTarget:s})});N.on("error",x=>{ao("Failed to establish a TLS connection to "+c.path+" through proxy "+u+" with error "+x.message),A()})}else ao("Successfully established a plaintext connection to "+c.path+" through proxy "+u),h({socket:m,realTarget:s});else(0,uA.log)(gl.LogVerbosity.ERROR,"Failed to connect to "+c.path+" through proxy "+u+" with status "+C.statusCode),A()}),d.once("error",C=>{d.removeAllListeners(),(0,uA.log)(gl.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+C.message),A()}),d.end()})}ml.getProxiedConnection=vle});var l_=B(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.StreamDecoder=void 0;var ss=function(n){return n[n.NO_DATA=0]="NO_DATA",n[n.READING_SIZE=1]="READING_SIZE",n[n.READING_MESSAGE=2]="READING_MESSAGE",n}(ss||{}),c_=class{constructor(e){this.maxReadMessageLength=e,this.readState=ss.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,r,i=[];for(;t<e.length;)switch(this.readState){case ss.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=ss.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ss.READING_SIZE:if(r=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r),this.readSizeRemaining-=r,t+=r,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ss.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ss.NO_DATA,i.push(s)}}break;case ss.READING_MESSAGE:if(r=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+r)),this.readMessageRemaining-=r,t+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=ss.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};om.StreamDecoder=c_});var vV=B(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.Http2SubchannelCall=void 0;var os=T("http2"),_le=T("os"),xe=ke(),co=vn(),Sle=l_(),ble=ut(),Tle=ke(),Dle="subchannel_call";function Rle(n){for(let[e,t]of Object.entries(_le.constants.errno))if(t===n)return e;return"Unknown system error "+n}var u_=class{constructor(e,t,r,i,s){var o;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=s,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=xe.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let a=(o=i.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:xe.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new Sle.StreamDecoder(a),e.on("response",(c,l)=>{let u="";for(let h of Object.keys(c))u+="		"+h+": "+c[h]+`
`;switch(this.trace(`Received server headers:
`+u),c[":status"]){case 400:this.mappedStatusCode=xe.Status.INTERNAL;break;case 401:this.mappedStatusCode=xe.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=xe.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=xe.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=xe.Status.UNAVAILABLE;break;default:this.mappedStatusCode=xe.Status.UNKNOWN}if(l&os.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(c);else{let h;try{h=co.Metadata.fromHttp2Headers(c)}catch(A){this.endCall({code:xe.Status.UNKNOWN,details:A.message,metadata:new co.Metadata});return}this.listener.onReceiveMetadata(h)}}),e.on("trailers",c=>{this.handleTrailers(c)}),e.on("data",c=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+c.length);let l;try{l=this.decoder.write(c)}catch(u){this.cancelWithStatus(xe.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of l)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var c;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((c=this.finalStatus)===null||c===void 0?void 0:c.code)===xe.Status.OK)return;let l,u="";switch(e.rstCode){case os.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;l=xe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`;break;case os.constants.NGHTTP2_REFUSED_STREAM:l=xe.Status.UNAVAILABLE,u="Stream refused by server";break;case os.constants.NGHTTP2_CANCEL:l=xe.Status.CANCELLED,u="Call cancelled";break;case os.constants.NGHTTP2_ENHANCE_YOUR_CALM:l=xe.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case os.constants.NGHTTP2_INADEQUATE_SECURITY:l=xe.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case os.constants.NGHTTP2_INTERNAL_ERROR:l=xe.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(l=xe.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:l=xe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:l,details:u,metadata:new co.Metadata,rstCode:e.rstCode})})}),e.on("error",c=>{c.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+c.message+" code="+c.code+" errno="+Rle(c.errno)+" syscall="+c.syscall),this.internalError=c),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:xe.Status.UNAVAILABLE,details:"Connection dropped",metadata:new co.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){ble.trace(Tle.LogVerbosity.DEBUG,Dle,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===xe.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==xe.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t="";for(let c of Object.keys(e))t+="		"+c+": "+e[c]+`
`;this.trace(`Received server trailers:
`+t);let r;try{r=co.Metadata.fromHttp2Headers(e)}catch{r=new co.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===xe.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let c=Number(i["grpc-status"]);c in xe.Status&&(s=c,this.trace("received status code "+c+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===xe.Status.OK?t=os.constants.NGHTTP2_NO_ERROR:t=os.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new co.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==xe.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=i=>{process.nextTick(()=>{var s;let o=xe.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=xe.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(i){this.endCall({code:xe.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new co.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};am.Http2SubchannelCall=u_});var h_=B(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.getNextCallNumber=void 0;var kle=0;function Nle(){return kle++}cm.getNextCallNumber=Nle});var bV=B(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.Http2SubchannelConnector=void 0;var p_=T("http2"),_V=T("tls"),A_=ca(),hA=ke(),Mle=a_(),Cl=ut(),SV=mi(),lm=Ci(),El=Wn(),Fle=T("net"),Lle=vV(),xle=h_(),d_="transport",Ole="transport_flowctrl",Ule=Zw().version,{HTTP2_HEADER_AUTHORITY:Ple,HTTP2_HEADER_CONTENT_TYPE:Vle,HTTP2_HEADER_METHOD:Gle,HTTP2_HEADER_PATH:qle,HTTP2_HEADER_TE:Hle,HTTP2_HEADER_USER_AGENT:Yle}=p_.constants,Wle=2e4,Jle=Buffer.from("too_many_pings","ascii"),f_=class{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=Wle,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new A_.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,lm.subchannelAddressToString)(t),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,A_.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${Ule}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let c=!1;s===p_.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(Jle)&&(c=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(c)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),Cl.isTracerEnabled(d_)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i=this.session.socket,s=i.remoteAddress?(0,lm.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,lm.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let l=i,u=l.getCipher(),h=l.getCertificate(),A=l.getPeerCertificate();a={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:h&&"raw"in h?h.raw:null,remoteCertificate:A&&"raw"in A?A.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){Cl.trace(hA.LogVerbosity.DEBUG,d_,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Cl.trace(hA.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Cl.trace(hA.LogVerbosity.DEBUG,Ole,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Cl.trace(hA.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,s){let o=e.toHttp2Headers();o[Ple]=t,o[Yle]=this.userAgent,o[Vle]="application/grpc",o[Gle]="POST",o[qle]=r,o[Hle]="trailers";let a;try{a=this.session.request(o)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let c,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),c={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=s.addMessageSent)===null||u===void 0||u.call(s)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=s.addMessageReceived)===null||u===void 0||u.call(s)},onCallEnd:u=>{var h;(h=s.onCallEnd)===null||h===void 0||h.call(s,u),this.removeActiveCall(l)},onStreamEnd:u=>{var h;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(h=s.onStreamEnd)===null||h===void 0||h.call(s,u)}}):c={addMessageSent:()=>{var u;(u=s.addMessageSent)===null||u===void 0||u.call(s)},addMessageReceived:()=>{var u;(u=s.addMessageReceived)===null||u===void 0||u.call(s)},onCallEnd:u=>{var h;(h=s.onCallEnd)===null||h===void 0||h.call(s,u),this.removeActiveCall(l)},onStreamEnd:u=>{var h;(h=s.onStreamEnd)===null||h===void 0||h.call(s,u)}},l=new Lle.Http2SubchannelCall(a,c,i,this,(0,xle.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,A_.unregisterChannelzRef)(this.channelzRef)}},g_=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Cl.trace(hA.LogVerbosity.DEBUG,d_,(0,El.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,c,l;let u;i.realTarget?(u=(0,El.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,El.uriToString)(i.realTarget))):(u=null,this.trace("creating HTTP/2 session to "+(0,lm.subchannelAddressToString)(e)));let h=(0,SV.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),A=t._getConnectionOptions()||{};A.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?A.maxSessionMemory=r["grpc-node.max_session_memory"]:A.maxSessionMemory=Number.MAX_SAFE_INTEGER;let d="http://";if("secureContext"in A){if(d="https://",r["grpc.ssl_target_name_override"]){let y=r["grpc.ssl_target_name_override"];A.checkServerIdentity=(_,S)=>(0,_V.checkServerIdentity)(y,S),A.servername=y}else{let y=(l=(c=(0,El.splitHostPort)(h))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";A.servername=y}i.socket&&(A.createConnection=(y,_)=>i.socket)}else A.createConnection=(y,_)=>i.socket?i.socket:Fle.connect(e);A=Object.assign(Object.assign(Object.assign({},A),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let C=p_.connect(d+h,A);this.session=C;let m="Failed to connect";C.unref(),C.once("connect",()=>{C.removeAllListeners(),s(new f_(C,e,r,u)),this.session=null}),C.once("close",()=>{this.session=null,setImmediate(()=>{o(`${m} (${new Date().toISOString()})`)})}),C.once("error",y=>{m=y.message,this.trace("connection failed with error "+m)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(c,l)=>(0,_V.checkServerIdentity)(a,l),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,SV.getDefaultAuthority)((i=(0,El.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),c=(0,El.splitHostPort)(a);o.servername=(s=c?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,Mle.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,t,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};um.Http2SubchannelConnector=g_});var TV=B(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getSubchannelPool=Il.SubchannelPool=void 0;var zle=A1(),Kle=CV(),jle=Ci(),$le=Wn(),Xle=bV(),Zle=1e4,AA=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let i=this.pool[t].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[t]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Zle),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,r,i){this.ensureCleanupTask();let s=(0,$le.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let c of a)if((0,jle.subchannelAddressEqual)(t,c.subchannelAddress)&&(0,zle.channelOptionsEqual)(r,c.channelArguments)&&i._equals(c.channelCredentials))return c.subchannel}let o=new Kle.Subchannel(e,t,r,i,new Xle.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:t,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};Il.SubchannelPool=AA;var eue=new AA;function tue(n){return n?eue:new AA}Il.getSubchannelPool=tue});var E_=B(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.FilterStackFactory=yl.FilterStack=void 0;var hm=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};yl.FilterStack=hm;var m_=class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new hm(this.factories.map(e=>e.createFilter()))}};yl.FilterStackFactory=m_});var C_=B(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.CompressionAlgorithms=void 0;var DV=function(n){return n[n.identity=0]="identity",n[n.deflate=1]="deflate",n[n.gzip=2]="gzip",n}(DV||(Am.CompressionAlgorithms=DV={}))});var y_=B(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.BaseFilter=void 0;var I_=class{sendMetadata(e){return I(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return I(this,null,function*(){return e})}receiveMessage(e){return I(this,null,function*(){return e})}receiveTrailers(e){return e}};dm.BaseFilter=I_});var NV=B(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.CompressionFilterFactory=wl.CompressionFilter=void 0;var fm=T("zlib"),kV=C_(),gm=ke(),nue=y_(),rue=ut(),iue=n=>typeof n=="number"&&typeof kV.CompressionAlgorithms[n]=="string",Bl=class{writeMessage(e,t){return I(this,null,function*(){let r=e;t&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return I(this,null,function*(){let t=e.readUInt8(0)===1,r=e.slice(5);return t&&(r=yield this.decompressMessage(r)),r})}},la=class extends Bl{compressMessage(e){return I(this,null,function*(){return e})}writeMessage(e,t){return I(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},B_=class extends Bl{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{fm.deflate(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=fm.createInflate();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:gm.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},w_=class extends Bl{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{fm.gzip(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=fm.createGunzip();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:gm.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},Q_=class extends Bl{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function RV(n,e){switch(n){case"identity":return new la;case"deflate":return new B_(e);case"gzip":return new w_(e);default:return new Q_(n)}}var pm=class extends nue.BaseFilter{constructor(e,t){var r,i;super(),this.sharedFilterConfig=t,this.sendCompression=new la,this.receiveCompression=new la,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(r=e["grpc.max_receive_message_length"])!==null&&r!==void 0?r:gm.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,s!==void 0)if(iue(s)){let o=kV.CompressionAlgorithms[s],a=(i=t.serverSupportedEncodingHeader)===null||i===void 0?void 0:i.split(",");(!a||a.includes(o))&&(this.currentCompressionAlgorithm=o,this.sendCompression=RV(this.currentCompressionAlgorithm,-1))}else rue.log(gm.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}sendMetadata(e){return I(this,null,function*(){let t=yield e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t})}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let i=t[0];typeof i=="string"&&(this.receiveCompression=RV(i,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new la,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return I(this,null,function*(){var t;let r=yield e,i;return this.sendCompression instanceof la?i=!1:i=(((t=r.flags)!==null&&t!==void 0?t:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return I(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};wl.CompressionFilter=pm;var v_=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new pm(this.options,this.sharedFilterConfig)}};wl.CompressionFilterFactory=v_});var mm=B(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.deadlineToString=Ti.getRelativeTimeout=Ti.getDeadlineTimeoutString=Ti.minDeadline=void 0;function sue(...n){let e=1/0;for(let t of n){let r=t instanceof Date?t.getTime():t;r<e&&(e=r)}return e}Ti.minDeadline=sue;var oue=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function aue(n){let e=new Date().getTime();n instanceof Date&&(n=n.getTime());let t=Math.max(n-e,0);for(let[r,i]of oue){let s=t/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}Ti.getDeadlineTimeoutString=aue;var cue=2147483647;function lue(n){let e=n instanceof Date?n.getTime():n,t=new Date().getTime(),r=e-t;return r<0?0:r>cue?1/0:r}Ti.getRelativeTimeout=lue;function uue(n){if(n instanceof Date)return n.toISOString();{let e=new Date(n);return Number.isNaN(e.getTime())?""+n:e.toISOString()}}Ti.deadlineToString=uue});var Cm=B(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.restrictControlPlaneStatusCode=void 0;var Di=ke(),hue=[Di.Status.OK,Di.Status.INVALID_ARGUMENT,Di.Status.NOT_FOUND,Di.Status.ALREADY_EXISTS,Di.Status.FAILED_PRECONDITION,Di.Status.ABORTED,Di.Status.OUT_OF_RANGE,Di.Status.DATA_LOSS];function Aue(n,e){return hue.includes(n)?{code:Di.Status.INTERNAL,details:`Invalid status from control plane: ${n} ${Di.Status[n]} ${e}`}:{code:n,details:e}}Em.restrictControlPlaneStatusCode=Aue});var FV=B(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.LoadBalancingCall=void 0;var MV=hr(),Im=ke(),due=mm(),ym=vn(),dA=Ws(),fue=Wn(),gue=ut(),__=Cm(),pue=T("http2"),mue="load_balancing_call",S_=class{constructor(e,t,r,i,s,o,a){var c,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let u=this.methodName.split("/"),h="";u.length>=2&&(h=u[1]);let A=(l=(c=(0,fue.splitHostPort)(this.host))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${A}/${h}`}trace(e){gue.trace(Im.LogVerbosity.DEBUG,mue,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:t});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+dA.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((t=r.status)===null||t===void 0?void 0:t.details)),r.pickResultType){case dA.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var c,l,u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let h=this.metadata.clone();if(h.merge(a),h.get("authorization").length>1&&this.outputStatus({code:Im.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new ym.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==MV.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+MV.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&h.set("grpc-timeout",(0,due.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(h,this.host,this.methodName,{onReceiveMetadata:A=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(A)},onReceiveMessage:A=>{this.trace("Received message"),this.listener.onReceiveMessage(A)},onReceiveStatus:A=>{this.trace("Received status"),A.rstCode===pue.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(A,"REFUSED"):this.outputStatus(A,"PROCESSED")}})}catch(A){this.trace("Failed to start call on picked subchannel "+i+" with error "+A.message),this.outputStatus({code:Im.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+A.message,metadata:new ym.Metadata},"NOT_STARTED");return}(l=(c=this.callConfig).onCommitted)===null||l===void 0||l.call(c),(u=r.onCallStarted)===null||u===void 0||u.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:c,details:l}=(0,__.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:Im.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:c,details:l,metadata:new ym.Metadata},"PROCESSED")});break;case dA.PickResultType.DROP:let{code:s,details:o}=(0,__.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case dA.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:c}=(0,__.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:c,metadata:r.status.metadata},"PROCESSED")})}break;case dA.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new ym.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Bm.LoadBalancingCall=S_});var xV=B(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.ResolvingCall=void 0;var Ql=ke(),wm=mm(),LV=vn(),Eue=ut(),Cue=Cm(),Iue="resolving_call",b_=class{constructor(e,t,r,i,s,o){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&Ql.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(Ql.Status.CANCELLED,"Cancelled by parent call")}),r.flags&Ql.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,wm.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Eue.trace(Ql.LogVerbosity.DEBUG,Iue,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,wm.deadlineToString)(this.deadline));let e=(0,wm.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(Ql.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(r=>r(t)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==Ql.Status.OK){let{code:r,details:i}=(0,Cue.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new LV.Metadata});return}if(t.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+t.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,wm.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new LV.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};Qm.ResolvingCall=b_});var OV=B(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.RetryingCall=lo.MessageBufferTracker=lo.RetryThrottler=void 0;var vm=ke(),yue=vn(),Bue=ut(),wue="retrying_call",D_=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};lo.RetryThrottler=D_;var R_=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};lo.MessageBufferTracker=R_;var T_="grpc-previous-rpc-attempts",k_=class{constructor(e,t,r,i,s,o,a,c,l){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=c,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let u=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(u.initialBackoff.substring(0,u.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){Bue.trace(vm.LogVerbosity.DEBUG,wue,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new yue.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let r=this.getBufferEntry(t);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(vm.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(r=>r===t||r.toString().toLowerCase()===vm.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){t(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){t(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(t(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},a)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var r;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===vm.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(t=this.hedgingTimer).unref)===null||r===void 0||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(T_,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),s=!0,r>0&&o.set(T_,`${r}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(T_,`${r}`),this.handleChildStatus(o,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(t=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,c]of this.underlyingCalls.entries())c.state==="ACTIVE"&&c.nextMessageToSend===s&&c.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(a)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};lo.RetryingCall=k_});var Sm=B(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.BaseSubchannelWrapper=void 0;var N_=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};_m.BaseSubchannelWrapper=N_});var VV=B(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.InternalChannel=void 0;var Que=Ap(),vue=h1(),_ue=TV(),UV=Ws(),fA=ke(),Sue=E_(),bue=NV(),PV=mi(),M_=ut(),Tue=a_(),bm=Wn(),Ri=hr(),gA=ca(),Due=FV(),Rue=mm(),kue=xV(),F_=h_(),Nue=Cm(),L_=OV(),Mue=Sm(),Fue=2147483647,Lue=1e3,xue=30*60*1e3,Tm=new Map,Oue=1<<24,Uue=1<<20,x_=class extends Mue.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{t.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},O_=class{constructor(e,t,r){var i,s,o,a,c,l,u,h;if(this.credentials=t,this.options=r,this.connectivityState=Ri.ConnectivityState.IDLE,this.currentPicker=new UV.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new gA.ChannelzCallTracker,this.childrenTracker=new gA.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Que.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let A=(0,bm.parseUri)(e);if(A===null)throw new Error(`Could not parse target name "${e}"`);let d=(0,PV.mapUriDefaultScheme)(A);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},Fue),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new gA.ChannelzTrace,this.channelzRef=(0,gA.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,PV.getDefaultAuthority)(d);let C=(0,Tue.mapProxyName)(d,r);this.target=C.target,this.options=Object.assign({},this.options,C.extraOptions),this.subchannelPool=(0,_ue.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new L_.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:Oue,(c=r["grpc.per_rpc_retry_buffer_size"])!==null&&c!==void 0?c:Uue),this.keepaliveTime=(l=r["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,this.idleTimeoutMs=Math.max((u=r["grpc.client_idle_timeout_ms"])!==null&&u!==void 0?u:xue,Lue);let m={createSubchannel:(_,S)=>{let R=this.subchannelPool.getOrCreateSubchannel(this.target,_,Object.assign({},this.options,S),this.credentials);R.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",R.getChannelzRef());let D=new x_(R,this);return this.wrappedSubchannels.add(D),D},updateState:(_,S)=>{this.currentPicker=S;let R=this.pickQueue.slice();this.pickQueue=[],R.length>0&&this.callRefTimerUnref();for(let D of R)D.doPick();this.updateState(_)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:_=>{this.channelzEnabled&&this.childrenTracker.refChild(_)},removeChannelzChild:_=>{this.channelzEnabled&&this.childrenTracker.unrefChild(_)}};this.resolvingLoadBalancer=new vue.ResolvingLoadBalancer(this.target,m,r,(_,S)=>{_.retryThrottling?Tm.set(this.getTarget(),new L_.RetryThrottler(_.retryThrottling.maxTokens,_.retryThrottling.tokenRatio,Tm.get(this.getTarget()))):Tm.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=S,this.currentResolutionError=null,process.nextTick(()=>{let R=this.configSelectionQueue;this.configSelectionQueue=[],R.length>0&&this.callRefTimerUnref();for(let D of R)D.getConfig()})},_=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+_.code+' and details "'+_.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Nue.restrictControlPlaneStatusCode)(_.code,_.details)),{metadata:_.metadata}));let S=this.configSelectionQueue;this.configSelectionQueue=[],S.length>0&&this.callRefTimerUnref();for(let R of S)R.reportResolverError(_)}),this.filterStackFactory=new Sue.FilterStackFactory([new bue.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let y=new Error;(0,M_.trace)(fA.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((h=y.stack)===null||h===void 0?void 0:h.substring(y.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,M_.trace)(t??fA.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,bm.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(r=>r===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,M_.trace)(fA.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,bm.uriToString)(this.target)+" "+Ri.ConnectivityState[this.connectivityState]+" -> "+Ri.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Ri.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Ri.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Ri.ConnectivityState.IDLE),this.currentPicker=new UV.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(t=this.idleTimer).unref)===null||r===void 0||r.call(t)}maybeStartIdleTimer(){this.connectivityState!==Ri.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===fA.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,s){let o=(0,F_.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new Due.LoadBalancingCall(this,e,t,r,i,s,o)}createRetryingCall(e,t,r,i,s){let o=(0,F_.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new L_.RetryingCall(this,e,t,r,i,s,o,this.retryBufferTracker,Tm.get(this.getTarget()))}createInnerCall(e,t,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,r,i,s):this.createRetryingCall(e,t,r,i,s)}createResolvingCall(e,t,r,i,s){let o=(0,F_.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,Rue.deadlineToString)(t));let a={deadline:t,flags:s??fA.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},c=new kue.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),c.addStatusWatcher(l=>{this.onCallEnd(l)}),c}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Ri.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,gA.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,bm.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===Ri.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(t!==1/0){let o=t instanceof Date?t:new Date(t),a=new Date;if(t===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Ri.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,s)}};Dm.InternalChannel=O_});var GQ=B(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.ChannelImplementation=void 0;var Pue=Ap(),Vue=VV(),U_=class{constructor(e,t,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Pue.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Vue.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,s)}};Rm.ChannelImplementation=U_});var jV=B(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Http2ServerCallStream=Ir.ServerDuplexStreamImpl=Ir.ServerWritableStreamImpl=Ir.ServerReadableStreamImpl=Ir.ServerUnaryCallImpl=void 0;var JV=T("events"),vl=T("http2"),G_=T("stream"),GV=T("zlib"),Ke=ke(),q_=vn(),Gue=l_(),zV=ut(),mA=op(),KV="server_call";function pA(n){zV.trace(Ke.LogVerbosity.DEBUG,KV,n)}var que="grpc-accept-encoding",Hue="grpc-encoding",qV="grpc-message",HV="grpc-status",YV="grpc-timeout",Yue=/(\d{1,8})\s*([HMSmun])/,Wue={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},Jue={[que]:"identity,deflate,gzip",[Hue]:"identity"},WV={[vl.constants.HTTP2_HEADER_STATUS]:vl.constants.HTTP_STATUS_OK,[vl.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},zue={waitForTrailers:!0},P_=class extends JV.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Ir.ServerUnaryCallImpl=P_;var km=class extends G_.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Ir.ServerReadableStreamImpl=km;var EA=class extends G_.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new q_.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,mA.getErrorMessage)(i),code:Ke.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:Ke.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};Ir.ServerWritableStreamImpl=EA;var _l=class extends G_.Duplex{constructor(e,t,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new q_.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};Ir.ServerDuplexStreamImpl=_l;_l.prototype._read=km.prototype._read;_l.prototype._write=EA.prototype._write;_l.prototype._final=EA.prototype._final;var V_=class extends JV.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=Ke.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Ke.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;pA("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:Ke.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if(t==="identity")return r;if(t==="deflate"||t==="gzip"){let i;return t==="deflate"?i=GV.createInflate():i=GV.createGunzip(),new Promise((s,o)=>{let a=0,c=[];i.on("data",l=>{c.push(l),a+=l.byteLength,this.maxReceiveMessageSize!==-1&&a>this.maxReceiveMessageSize&&(i.destroy(),o({code:Ke.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),i.on("end",()=>{s(Buffer.concat(c))}),i.write(r),i.end()})}else return Promise.reject({code:Ke.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},WV),Jue),t);this.stream.respond(r,zue)}receiveMetadata(e){let t=q_.Metadata.fromHttp2Headers(e);zV.isTracerEnabled(KV)&&pA("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(YV);if(r.length>0){let i=r[0].toString().match(Yue);if(i===null){let a=new Error("Invalid deadline");return a.code=Ke.Status.OUT_OF_RANGE,this.sendError(a),t}let s=+i[1]*Wue[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(Kue,s,this),t.remove(YV)}return t.remove(vl.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(vl.constants.HTTP2_HEADER_TE),t.remove(vl.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,s=0,o=this,a=[],c=this.maxReceiveMessageSize;this.stream.on("data",l),this.stream.on("end",u),this.stream.on("error",u);function l(h){if(s+=h.byteLength,c!==-1&&s>c){i.removeListener("data",l),i.removeListener("end",u),i.removeListener("error",u),r({code:Ke.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${c})`});return}a.push(h)}function u(h){if(i.removeListener("data",l),i.removeListener("end",u),i.removeListener("error",u),h!==void 0){r({code:Ke.Status.INTERNAL,details:h.message});return}if(s===0){r({code:Ke.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let A=Buffer.concat(a,s),C=A.readUInt8(0)===1?e:"identity",m=o.getDecompressedMessage(A,C);if(Buffer.isBuffer(m)){t(o.deserializeMessageWithInternalError(m));return}m.then(y=>t(o.deserializeMessageWithInternalError(y)),y=>r(y.code?y:{code:Ke.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return I(this,null,function*(){try{return this.deserializeMessage(e)}catch(t){throw{details:(0,mA.getErrorMessage)(t),code:Ke.Status.INTERNAL}}})}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,t,r,i){return I(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(t);this.write(s),this.sendStatus({code:Ke.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,mA.getErrorMessage)(s),code:Ke.Status.INTERNAL})}}})}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===Ke.Status.OK),!this.checkCancelled())if(pA("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+Ke.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[HV]:e.code,[qV]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[HV]:e.code,[qV]:encodeURI(e.details)},WV),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let t={code:Ke.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&typeof e.details=="string"&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:Ke.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new Gue.StreamDecoder(this.maxReceiveMessageSize),i=!1,s=!1,o=!1,a=()=>I(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",c=>I(this,null,function*(){let l;try{l=r.write(c)}catch(u){this.sendError({code:Ke.Status.RESOURCE_EXHAUSTED,details:u.message});return}s=!0,this.stream.pause();for(let u of l){this.emit("receiveMessage");let A=u.readUInt8(0)===1?t:"identity",d;try{d=yield this.getDecompressedMessage(u,A)}catch(C){this.sendError(C);return}if(!d)return;yield this.pushOrBufferMessage(e,d)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>I(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(t===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){return I(this,null,function*(){this.isPushPending?this.bufferedMessages.push(t):yield this.pushMessage(e,t)})}pushMessage(e,t){return I(this,null,function*(){if(t===null){pA("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}pA("Received message of length "+t.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,mA.getErrorCode)(r);(i===null||i<Ke.Status.OK||i>Ke.Status.UNAUTHENTICATED)&&(i=Ke.Status.INTERNAL),e.emit("error",{details:(0,mA.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t?.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};Ir.Http2ServerCallStream=V_;function Kue(n){let e=new Error("Deadline exceeded");e.code=Ke.Status.DEADLINE_EXCEEDED,n.sendError(e),n.cancelled=!0,n.emit("cancelled","deadline")}});var W_=B(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.ServerCredentials=void 0;var $V=AQ(),CA=class{static createInsecure(){return new H_}static createSsl(e,t,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new Y_({ca:e||(0,$V.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:$V.CIPHER_SUITES})}};Nm.ServerCredentials=CA;var H_=class extends CA{_isSecure(){return!1}_getSettings(){return null}},Y_=class extends CA{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var eG=B(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.Server=void 0;var uo=T("http2"),as=ke(),ua=jV(),jue=W_(),XV=mi(),Mm=ut(),Hr=Ci(),$ue=Wn(),bn=ca(),Fm=~(1<<31),Xue=~(1<<31),Zue=2e4,{HTTP2_HEADER_PATH:ZV}=uo.constants,ehe="server";function the(){}function J_(n){return{code:as.Status.UNIMPLEMENTED,details:`The server does not implement the method ${n}`}}function nhe(n,e){let t=J_(e);switch(n){case"unary":return(r,i)=>{i(t,null)};case"clientStream":return(r,i)=>{i(t,null)};case"serverStream":return r=>{r.emit("error",t)};case"bidi":return r=>{r.emit("error",t)};default:throw new Error(`Invalid handlerType ${n}`)}}var z_=class{constructor(e){var t,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new bn.ChannelzTrace,this.callTracker=new bn.ChannelzCallTracker,this.listenerChildrenTracker=new bn.ChannelzChildrenTracker,this.sessionChildrenTracker=new bn.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,bn.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:Fm,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:Fm,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:Xue,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:Zue,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Hr.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,c=o.localAddress?(0,Hr.stringToSubchannelAddress)(o.localAddress,o.localPort):null,l;if(e.encrypted){let h=o,A=h.getCipher(),d=h.getCertificate(),C=h.getPeerCertificate();l={cipherSuiteStandardName:(t=A.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:A.standardName?null:A.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:C&&"raw"in C?C.raw:null}}else l=null;return{remoteAddress:a,localAddress:c,security:l,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){Mm.trace(as.LogVerbosity.DEBUG,ehe,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!="object"||t===null||typeof t!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=t[i],c;if(a===void 0&&typeof s.originalName=="string"&&(a=t[s.originalName]),a!==void 0?c=a.bind(t):c=nhe(o,i),this.register(s.path,c,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(t===null||!(t instanceof jue.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,$ue.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,XV.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(d,C)=>{process.nextTick(()=>r(d,C))},c=()=>{let d;if(t._isSecure()){let C=Object.assign(o,t._getSettings());C.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,d=uo.createSecureServer(C),d.on("secureConnection",m=>{m.on("error",y=>{this.trace("An incoming TLS connection closed with error: "+y.message)})})}else d=uo.createServer(o);return d.setTimeout(0,the),this._setupHandlers(d),d},l=(d,C,m)=>d.length===0?Promise.resolve({port:C,count:m}):Promise.all(d.map(y=>{this.trace("Attempting to bind "+(0,Hr.subchannelAddressToString)(y));let _;(0,Hr.isTcpSubchannelAddress)(y)?_={host:y.host,port:C}:_=y;let S=c();return new Promise((R,D)=>{let N=x=>{this.trace("Failed to bind "+(0,Hr.subchannelAddressToString)(y)+" with error "+x.message),R(x)};S.once("error",N),S.listen(_,()=>{if(this.shutdown){S.close(),R(new Error("bindAsync failed because server is shutdown"));return}let x=S.address(),Q;typeof x=="string"?Q={path:x}:Q={host:x.address,port:x.port};let E=(0,bn.registerChannelzSocket)((0,Hr.subchannelAddressToString)(Q),()=>({localAddress:Q,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(E),this.http2ServerList.push({server:S,channelzRef:E}),this.trace("Successfully bound "+(0,Hr.subchannelAddressToString)(Q)),R("port"in Q?Q.port:C),S.removeListener("error",N)})})})).then(y=>{let _=0;for(let S of y)if(typeof S=="number"&&(_+=1,S!==C))throw new Error("Invalid state: multiple port numbers added from single address");return{port:C,count:_+m}}),u=d=>{if(d.length===0)return Promise.resolve({port:0,count:0});let C=d[0],m=c();return new Promise((y,_)=>{let S=R=>{this.trace("Failed to bind "+(0,Hr.subchannelAddressToString)(C)+" with error "+R.message),y(u(d.slice(1)))};m.once("error",S),m.listen(C,()=>{if(this.shutdown){m.close(),y({port:0,count:0});return}let R=m.address(),D={host:R.address,port:R.port},N=(0,bn.registerChannelzSocket)((0,Hr.subchannelAddressToString)(D),()=>({localAddress:D,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(N),this.http2ServerList.push({server:m,channelzRef:N}),this.trace("Successfully bound "+(0,Hr.subchannelAddressToString)(D)),y(l(d.slice(1),R.port,1)),m.removeListener("error",S)})})},h={onSuccessfulResolution:(d,C,m)=>{if(h.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),d.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let y;(0,Hr.isTcpSubchannelAddress)(d[0])?d[0].port===0?y=u(d):y=l(d,d[0].port,0):y=l(d,1,0),y.then(_=>{if(_.count===0){let S=`No address added out of total ${d.length} resolved`;Mm.log(as.LogVerbosity.ERROR,S),a(new Error(S),0)}else _.count<d.length&&Mm.log(as.LogVerbosity.INFO,`WARNING Only ${_.count} addresses added out of total ${d.length} resolved`),a(null,_.port)},_=>{let S=`No address added out of total ${d.length} resolved`;Mm.log(as.LogVerbosity.ERROR,S),a(new Error(S),0)})},onError:d=>{a(new Error(d.details),0)}};(0,XV.createResolver)(s,h,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,bn.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(uo.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,bn.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=s=>{this.channelzEnabled&&(0,bn.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&t()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,bn.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[uo.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[uo.constants.HTTP2_HEADER_STATUS]:uo.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return t===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new ua.Http2ServerCallStream(t,null,this.options);e.code===void 0&&(e.code=as.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=t[ZV],s=this._retrieveHandler(i);if(!s){this._respondWithError(J_(i),e,r);return}let o=new ua.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===as.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,t)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:as.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(this._verifyContentType(e,t)!==!0)return;let r=t[ZV],i=this._retrieveHandler(r);if(!i){this._respondWithError(J_(r),e,null);return}let s=new ua.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,t)||s.sendError({code:as.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=t;if(a==="unary")rhe(e,t,s,o);else if(a==="clientStream")ihe(e,t,s,o);else if(a==="serverStream")she(e,t,s,o);else if(a==="bidi")ohe(e,t,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let t=e.address(),r="null";t&&(typeof t=="string"?r=t:r=t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,c,l,u;if(!this.started){s.destroy();return}let h=(0,bn.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),A={ref:h,streamTracker:new bn.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,A);let d=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+d),this.sessionChildrenTracker.refChild(h));let C=null,m=null,y=!1;if(this.maxConnectionAgeMs!==Fm){let S=this.maxConnectionAgeMs/10,R=Math.random()*S*2-S;C=(c=(a=setTimeout(()=>{var D,N;y=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+d);try{s.goaway(uo.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==Fm&&(m=(N=(D=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||N===void 0?void 0:N.call(D))},this.maxConnectionAgeMs+R)).unref)===null||c===void 0?void 0:c.call(a)}let _=(u=(l=setInterval(()=>{var S,R;let D=(R=(S=setTimeout(()=>{y=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+d),s.close()},this.keepaliveTimeoutMs)).unref)===null||R===void 0?void 0:R.call(S);try{s.ping((N,x,Q)=>{clearTimeout(D)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||u===void 0?void 0:u.call(l);s.on("close",()=>{this.channelzEnabled&&(y||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+d),this.sessionChildrenTracker.unrefChild(h),(0,bn.unregisterChannelzRef)(h)),C&&clearTimeout(C),m&&clearTimeout(m),_&&clearTimeout(_),this.sessions.delete(s)})})}};Lm.Server=z_;function rhe(n,e,t,r){return I(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new ua.ServerUnaryCallImpl(n,t,i);e.func(s,(o,a,c,l)=>{n.sendUnaryMessage(o,a,c,l)})}catch(i){n.sendError(i)}})}function ihe(n,e,t,r){let i=new ua.ServerReadableStreamImpl(n,t,e.deserialize,r);function s(o,a,c,l){i.destroy(),n.sendUnaryMessage(o,a,c,l)}n.cancelled||(i.on("error",s),e.func(i,s))}function she(n,e,t,r){return I(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new ua.ServerWritableStreamImpl(n,t,e.serialize,i);e.func(s)}catch(i){n.sendError(i)}})}function ohe(n,e,t,r){let i=new ua.ServerDuplexStreamImpl(n,t,e.serialize,e.deserialize,r);n.cancelled||e.func(i)}});var tG=B(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.StatusBuilder=void 0;var K_=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};xm.StatusBuilder=K_});var j_=B(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.isDuration=ho.durationToMs=ho.msToDuration=void 0;function ahe(n){return{seconds:n/1e3|0,nanos:n%1e3*1e6|0}}ho.msToDuration=ahe;function che(n){return n.seconds*1e3+n.nanos/1e6|0}ho.durationToMs=che;function lhe(n){return typeof n.seconds=="number"&&typeof n.nanos=="number"}ho.isDuration=lhe});var iS=B(Ao=>{"use strict";var $_;Object.defineProperty(Ao,"__esModule",{value:!0});Ao.setup=Ao.OutlierDetectionLoadBalancer=Ao.OutlierDetectionLoadBalancingConfig=void 0;var Um=hr(),rG=ke(),ha=j_(),iG=sS(),sG=Gs(),uhe=Cp(),hhe=Ws(),nG=Ci(),Ahe=Sm(),dhe=ut(),fhe="outlier_detection";function Ft(n){dhe.trace(rG.LogVerbosity.DEBUG,fhe,n)}var rS="outlier_detection",ghe=(($_=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&$_!==void 0?$_:"true")==="true",phe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},mhe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Sl(n,e,t,r){if(e in n&&typeof n[e]!==t){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${t}, got ${typeof n[e]}`)}}function X_(n,e,t){let r=t?`${t}.${e}`:e;if(e in n){if(!(0,ha.isDuration)(n[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof n[e]}`);if(!(n[e].seconds>=0&&n[e].seconds<=315576e6&&n[e].nanos>=0&&n[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function Om(n,e,t){let r=t?`${t}.${e}`:e;if(Sl(n,e,"number",t),e in n&&!(n[e]>=0&&n[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var IA=class n{constructor(e,t,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},phe),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},mhe),o):null}getLoadBalancerName(){return rS}toJsonObject(){return{interval:(0,ha.msToDuration)(this.intervalMs),base_ejection_time:(0,ha.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,ha.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new n(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(X_(e,"interval"),X_(e,"base_ejection_time"),X_(e,"max_ejection_time"),Om(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Sl(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Om(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Sl(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Sl(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Om(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Om(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Sl(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Sl(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new n(e.interval?(0,ha.durationToMs)(e.interval):null,e.base_ejection_time?(0,ha.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,ha.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(sG.validateLoadBalancingConfig))}};Ao.OutlierDetectionLoadBalancingConfig=IA;var eS=class extends Ahe.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?Um.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,Um.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,Um.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function Z_(){return{success:0,failure:0}}var tS=class{constructor(){this.activeBucket=Z_(),this.inactiveBucket=Z_()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=Z_()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},nS=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===hhe.PickResultType.COMPLETE){let r=t.subchannel,i=r.getMapEntry();if(i){let s=t.onCallEnded;return this.countCalls&&(s=o=>{var a;o===rG.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=t.onCallEnded)===null||a===void 0||a.call(t,o)}),Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel()})}else return t}},Pm=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new uhe.ChildLoadBalancerHandler((0,iG.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),s=this.addressMap.get((0,nG.subchannelAddressToString)(t)),o=new eS(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===Um.ConnectivityState.READY?e.updateState(t,new nS(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;Ft("Running success rate check");let r=t.request_volume,i=0,s=[];for(let[h,A]of this.addressMap){let d=A.counter.getLastSuccesses(),C=A.counter.getLastFailures();Ft("Stats for "+h+": successes="+d+" failures="+C+" targetRequestVolume="+r),d+C>=r&&(i+=1,s.push(d/(d+C)))}if(Ft("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<t.minimum_hosts)return;let o=s.reduce((h,A)=>h+A)/s.length,a=0;for(let h of s){let A=h-o;a+=A*A}let c=a/s.length,l=Math.sqrt(c),u=o-l*(t.stdev_factor/1e3);Ft("stdev="+l+" ejectionThreshold="+u);for(let[h,A]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let d=A.counter.getLastSuccesses(),C=A.counter.getLastFailures();if(d+C<r)continue;let m=d/(d+C);if(Ft("Checking candidate "+h+" successRate="+m),m<u){let y=Math.random()*100;Ft("Candidate "+h+" randomNumber="+y+" enforcement_percentage="+t.enforcement_percentage),y<t.enforcement_percentage&&(Ft("Ejecting candidate "+h),this.eject(A,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;Ft("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(Ft("Candidate successes="+o+" failures="+a),o+a<t.request_volume)continue;if(a*100/(a+o)>t.threshold){let l=Math.random()*100;Ft("Candidate "+i+" randomNumber="+l+" enforcement_percentage="+t.enforcement_percentage),l<t.enforcement_percentage&&(Ft("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(t=this.ejectionTimer).unref)===null||r===void 0||r.call(t)}runChecks(){let e=new Date;if(Ft("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(Ft("Unejecting "+t),this.uneject(r))}}}updateAddressList(e,t,r){if(!(t instanceof IA))return;let i=new Set;for(let o of e)i.add((0,nG.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(Ft("Adding map entry for "+o),this.addressMap.set(o,{counter:new tS,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(Ft("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,sG.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){Ft("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else Ft("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{Ft("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return rS}};Ao.OutlierDetectionLoadBalancer=Pm;function Ehe(){ghe&&(0,iG.registerLoadBalancerType)(rS,Pm,IA)}Ao.setup=Ehe});var sS=B(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.OutlierDetectionLoadBalancingConfig=ae.BaseSubchannelWrapper=ae.registerAdminService=ae.FilterStackFactory=ae.BaseFilter=ae.PickResultType=ae.QueuePicker=ae.UnavailablePicker=ae.ChildLoadBalancerHandler=ae.subchannelAddressToString=ae.validateLoadBalancingConfig=ae.getFirstUsableConfig=ae.registerLoadBalancerType=ae.createChildChannelControlHelper=ae.BackoffTimeout=ae.durationToMs=ae.uriToString=ae.createResolver=ae.registerResolver=ae.log=ae.trace=void 0;var oG=ut();Object.defineProperty(ae,"trace",{enumerable:!0,get:function(){return oG.trace}});Object.defineProperty(ae,"log",{enumerable:!0,get:function(){return oG.log}});var aG=mi();Object.defineProperty(ae,"registerResolver",{enumerable:!0,get:function(){return aG.registerResolver}});Object.defineProperty(ae,"createResolver",{enumerable:!0,get:function(){return aG.createResolver}});var Che=Wn();Object.defineProperty(ae,"uriToString",{enumerable:!0,get:function(){return Che.uriToString}});var Ihe=j_();Object.defineProperty(ae,"durationToMs",{enumerable:!0,get:function(){return Ihe.durationToMs}});var yhe=Gh();Object.defineProperty(ae,"BackoffTimeout",{enumerable:!0,get:function(){return yhe.BackoffTimeout}});var Vm=Gs();Object.defineProperty(ae,"createChildChannelControlHelper",{enumerable:!0,get:function(){return Vm.createChildChannelControlHelper}});Object.defineProperty(ae,"registerLoadBalancerType",{enumerable:!0,get:function(){return Vm.registerLoadBalancerType}});Object.defineProperty(ae,"getFirstUsableConfig",{enumerable:!0,get:function(){return Vm.getFirstUsableConfig}});Object.defineProperty(ae,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return Vm.validateLoadBalancingConfig}});var Bhe=Ci();Object.defineProperty(ae,"subchannelAddressToString",{enumerable:!0,get:function(){return Bhe.subchannelAddressToString}});var whe=Cp();Object.defineProperty(ae,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return whe.ChildLoadBalancerHandler}});var oS=Ws();Object.defineProperty(ae,"UnavailablePicker",{enumerable:!0,get:function(){return oS.UnavailablePicker}});Object.defineProperty(ae,"QueuePicker",{enumerable:!0,get:function(){return oS.QueuePicker}});Object.defineProperty(ae,"PickResultType",{enumerable:!0,get:function(){return oS.PickResultType}});var Qhe=y_();Object.defineProperty(ae,"BaseFilter",{enumerable:!0,get:function(){return Qhe.BaseFilter}});var vhe=E_();Object.defineProperty(ae,"FilterStackFactory",{enumerable:!0,get:function(){return vhe.FilterStackFactory}});var _he=yp();Object.defineProperty(ae,"registerAdminService",{enumerable:!0,get:function(){return _he.registerAdminService}});var She=Sm();Object.defineProperty(ae,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return She.BaseSubchannelWrapper}});var bhe=iS();Object.defineProperty(ae,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return bhe.OutlierDetectionLoadBalancingConfig}})});var cG=B(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.setup=void 0;var The=mi(),aS=class{constructor(e,t,r){this.listener=t,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function Dhe(){(0,The.registerResolver)("unix",aS)}Gm.setup=Dhe});var dG=B(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.setup=void 0;var lG=T("net"),qm=ke(),cS=vn(),uG=mi(),hG=Wn(),Rhe=ut(),khe="ip_resolver";function AG(n){Rhe.trace(qm.LogVerbosity.DEBUG,khe,n)}var lS="ipv4",uS="ipv6",Nhe=443,Hm=class{constructor(e,t,r){var i;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,AG("Resolver constructed for target "+(0,hG.uriToString)(e));let s=[];if(!(e.scheme===lS||e.scheme===uS)){this.error={code:qm.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new cS.Metadata};return}let o=e.path.split(",");for(let a of o){let c=(0,hG.splitHostPort)(a);if(c===null){this.error={code:qm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new cS.Metadata};return}if(e.scheme===lS&&!(0,lG.isIPv4)(c.host)||e.scheme===uS&&!(0,lG.isIPv6)(c.host)){this.error={code:qm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new cS.Metadata};return}s.push({host:c.host,port:(i=c.port)!==null&&i!==void 0?i:Nhe})}this.addresses=s,AG("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function Mhe(){(0,uG.registerResolver)(lS,Hm),(0,uG.registerResolver)(uS,Hm)}Ym.setup=Mhe});var pG=B(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.setup=ki.PickFirstLoadBalancer=ki.shuffled=ki.PickFirstLoadBalancingConfig=void 0;var fG=Gs(),jt=hr(),Wm=Ws(),Fhe=ut(),Lhe=ke(),xhe="pick_first";function hS(n){Fhe.trace(Lhe.LogVerbosity.DEBUG,xhe,n)}var yA="pick_first",Ohe=250,BA=class n{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return yA}toJsonObject(){return{[yA]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new n(e.shuffleAddressList===!0)}};ki.PickFirstLoadBalancingConfig=BA;var AS=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Wm.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function gG(n){let e=n.slice();for(let t=e.length-1;t>1;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}ki.shuffled=gG;var Jm=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=jt.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.onSubchannelStateUpdate(t,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(jt.ConnectivityState.READY,new AS(this.currentPick)):this.children.length===0?this.updateState(jt.ConnectivityState.IDLE,new Wm.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(jt.ConnectivityState.TRANSIENT_FAILURE,new Wm.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(jt.ConnectivityState.CONNECTING,new Wm.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==jt.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===jt.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===jt.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let i=r.subchannel.getConnectivityState();if(i===jt.ConnectivityState.IDLE||i===jt.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===jt.ConnectivityState.IDLE&&(hS("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},Ohe)).unref)===null||r===void 0?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(hS("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){hS(jt.ConnectivityState[this.currentState]+" -> "+jt.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of t)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===jt.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===jt.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof BA&&(t.getShuffleAddressList()&&(e=gG(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===jt.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return yA}};ki.PickFirstLoadBalancer=Jm;function Uhe(){(0,fG.registerLoadBalancerType)(yA,Jm,BA),(0,fG.registerDefaultLoadBalancerType)(yA)}ki.setup=Uhe});var EG=B(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.setup=bl.RoundRobinLoadBalancer=void 0;var Phe=Gs(),$t=hr(),zm=Ws(),Vhe=Ci(),Ghe=ut(),qhe=ke(),Hhe="round_robin";function mG(n){Ghe.trace(qhe.LogVerbosity.DEBUG,Hhe,n)}var Km="round_robin",dS=class n{getLoadBalancerName(){return Km}constructor(){}toJsonObject(){return{[Km]:{}}}static createFromJson(e){return new n}},fS=class{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:zm.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},jm=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=$t.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.calculateAndUpdateState(),(i===$t.ConnectivityState.TRANSIENT_FAILURE||i===$t.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState($t.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===$t.ConnectivityState.READY),t=0;this.currentReadyPicker!==null&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState($t.ConnectivityState.READY,new fS(e,t))}else this.countSubchannelsWithState($t.ConnectivityState.CONNECTING)>0?this.updateState($t.ConnectivityState.CONNECTING,new zm.QueuePicker(this)):this.countSubchannelsWithState($t.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState($t.ConnectivityState.TRANSIENT_FAILURE,new zm.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState($t.ConnectivityState.IDLE,new zm.QueuePicker(this))}updateState(e,t){mG($t.ConnectivityState[this.currentState]+" -> "+$t.ConnectivityState[e]),e===$t.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),mG("Connect to address list "+e.map(r=>(0,Vhe.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===$t.ConnectivityState.IDLE||i===$t.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Km}};bl.RoundRobinLoadBalancer=jm;function Yhe(){(0,Phe.registerLoadBalancerType)(Km,jm,dS)}bl.setup=Yhe});var BG=B(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.experimental=Y.addAdminServicesToServer=Y.getChannelzHandlers=Y.getChannelzServiceDefinition=Y.InterceptorConfigurationError=Y.InterceptingCall=Y.RequesterBuilder=Y.ListenerBuilder=Y.StatusBuilder=Y.getClientChannel=Y.ServerCredentials=Y.Server=Y.setLogVerbosity=Y.setLogger=Y.load=Y.loadObject=Y.CallCredentials=Y.ChannelCredentials=Y.waitForClientReady=Y.closeClient=Y.Channel=Y.makeGenericClientConstructor=Y.makeClientConstructor=Y.loadPackageDefinition=Y.Client=Y.compressionAlgorithms=Y.propagate=Y.connectivityState=Y.status=Y.logVerbosity=Y.Metadata=Y.credentials=void 0;var $m=uQ();Object.defineProperty(Y,"CallCredentials",{enumerable:!0,get:function(){return $m.CallCredentials}});var Whe=GQ();Object.defineProperty(Y,"Channel",{enumerable:!0,get:function(){return Whe.ChannelImplementation}});var Jhe=C_();Object.defineProperty(Y,"compressionAlgorithms",{enumerable:!0,get:function(){return Jhe.CompressionAlgorithms}});var zhe=hr();Object.defineProperty(Y,"connectivityState",{enumerable:!0,get:function(){return zhe.ConnectivityState}});var Xm=Ap();Object.defineProperty(Y,"ChannelCredentials",{enumerable:!0,get:function(){return Xm.ChannelCredentials}});var CG=VQ();Object.defineProperty(Y,"Client",{enumerable:!0,get:function(){return CG.Client}});var gS=ke();Object.defineProperty(Y,"logVerbosity",{enumerable:!0,get:function(){return gS.LogVerbosity}});Object.defineProperty(Y,"status",{enumerable:!0,get:function(){return gS.Status}});Object.defineProperty(Y,"propagate",{enumerable:!0,get:function(){return gS.Propagate}});var IG=ut(),pS=HQ();Object.defineProperty(Y,"loadPackageDefinition",{enumerable:!0,get:function(){return pS.loadPackageDefinition}});Object.defineProperty(Y,"makeClientConstructor",{enumerable:!0,get:function(){return pS.makeClientConstructor}});Object.defineProperty(Y,"makeGenericClientConstructor",{enumerable:!0,get:function(){return pS.makeClientConstructor}});var Khe=vn();Object.defineProperty(Y,"Metadata",{enumerable:!0,get:function(){return Khe.Metadata}});var jhe=eG();Object.defineProperty(Y,"Server",{enumerable:!0,get:function(){return jhe.Server}});var $he=W_();Object.defineProperty(Y,"ServerCredentials",{enumerable:!0,get:function(){return $he.ServerCredentials}});var Xhe=tG();Object.defineProperty(Y,"StatusBuilder",{enumerable:!0,get:function(){return Xhe.StatusBuilder}});Y.credentials={combineChannelCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),combineCallCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),createInsecure:Xm.ChannelCredentials.createInsecure,createSsl:Xm.ChannelCredentials.createSsl,createFromSecureContext:Xm.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:$m.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:$m.CallCredentials.createFromGoogleCredential,createEmpty:$m.CallCredentials.createEmpty};var Zhe=n=>n.close();Y.closeClient=Zhe;var eAe=(n,e,t)=>n.waitForReady(e,t);Y.waitForClientReady=eAe;var tAe=(n,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.loadObject=tAe;var nAe=(n,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.load=nAe;var rAe=n=>{IG.setLogger(n)};Y.setLogger=rAe;var iAe=n=>{IG.setLoggerVerbosity(n)};Y.setLogVerbosity=iAe;var sAe=n=>CG.Client.prototype.getChannel.call(n);Y.getClientChannel=sAe;var Zm=OQ();Object.defineProperty(Y,"ListenerBuilder",{enumerable:!0,get:function(){return Zm.ListenerBuilder}});Object.defineProperty(Y,"RequesterBuilder",{enumerable:!0,get:function(){return Zm.RequesterBuilder}});Object.defineProperty(Y,"InterceptingCall",{enumerable:!0,get:function(){return Zm.InterceptingCall}});Object.defineProperty(Y,"InterceptorConfigurationError",{enumerable:!0,get:function(){return Zm.InterceptorConfigurationError}});var yG=ca();Object.defineProperty(Y,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return yG.getChannelzServiceDefinition}});Object.defineProperty(Y,"getChannelzHandlers",{enumerable:!0,get:function(){return yG.getChannelzHandlers}});var oAe=yp();Object.defineProperty(Y,"addAdminServicesToServer",{enumerable:!0,get:function(){return oAe.addAdminServicesToServer}});var aAe=sS();Y.experimental=aAe;var cAe=o_(),lAe=cG(),uAe=dG(),hAe=pG(),AAe=EG(),dAe=iS(),fAe=ca();cAe.setup(),lAe.setup(),uAe.setup(),hAe.setup(),AAe.setup(),dAe.setup(),fAe.setup()});var xi=B((bb,aY)=>{"use strict";var JE=T("buffer"),Li=JE.Buffer;function oY(n,e){for(var t in n)e[t]=n[t]}Li.from&&Li.alloc&&Li.allocUnsafe&&Li.allocUnsafeSlow?aY.exports=JE:(oY(JE,bb),bb.Buffer=wa);function wa(n,e,t){return Li(n,e,t)}wa.prototype=Object.create(Li.prototype);oY(Li,wa);wa.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return Li(n,e,t)};wa.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var r=Li(n);return e!==void 0?typeof t=="string"?r.fill(e,t):r.fill(e):r.fill(0),r};wa.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Li(n)};wa.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return JE.SlowBuffer(n)}});var uY=B(Tb=>{"use strict";var cY=T("stream").Stream,lY=T("util"),Qa=function(n){this.readable=this.writable=!0,this._paused=!1,this._driver=n};lY.inherits(Qa,cY);Qa.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0};Qa.prototype.resume=function(){this._paused=!1,this.emit("drain");var n=this._driver.messages;n._paused=!1,n.emit("drain")};Qa.prototype.write=function(n){return this.writable?(this._driver.parse(n),!this._paused):!1};Qa.prototype.end=function(n){if(this.writable){n!==void 0&&this.write(n),this.writable=!1;var e=this._driver.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))}};Qa.prototype.destroy=function(){this.end()};var va=function(n){this.readable=this.writable=!0,this._paused=!1,this._driver=n};lY.inherits(va,cY);va.prototype.pause=function(){this._driver.io._paused=!0};va.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")};va.prototype.write=function(n){return this.writable?(typeof n=="string"?this._driver.text(n):this._driver.binary(n),!this._paused):!1};va.prototype.end=function(n){n!==void 0&&this.write(n)};va.prototype.destroy=function(){};Tb.IO=Qa;Tb.Messages=va});var zE=B((WDe,hY)=>{"use strict";var tu=function(){this.clear()};tu.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"];tu.prototype.clear=function(){this._sent={},this._lines=[]};tu.prototype.set=function(n,e){if(e!==void 0){n=this._strip(n),e=this._strip(e);var t=n.toLowerCase();(!this._sent.hasOwnProperty(t)||this.ALLOWED_DUPLICATES.indexOf(t)>=0)&&(this._sent[t]=!0,this._lines.push(n+": "+e+`\r
`))}};tu.prototype.toString=function(){return this._lines.join("")};tu.prototype._strip=function(n){return n.toString().replace(/^ */,"").replace(/ *$/,"")};hY.exports=tu});var dY=B((JDe,AY)=>{"use strict";var KE=xi().Buffer,jE=function(){this._queue=[],this._queueSize=0,this._offset=0};jE.prototype.put=function(n){!n||n.length===0||(KE.isBuffer(n)||(n=KE.from(n)),this._queue.push(n),this._queueSize+=n.length)};jE.prototype.read=function(n){if(n>this._queueSize)return null;if(n===0)return KE.alloc(0);this._queueSize-=n;var e=this._queue,t=n,r=e[0],i,s;if(r.length>=n)return r.length===n?e.shift():(s=r.slice(0,n),e[0]=r.slice(n),s);for(var o=0,a=e.length;o<a&&!(t<e[o].length);o++)t-=e[o].length;return i=e.splice(0,o),t>0&&e.length>0&&(i.push(e[0].slice(0,t)),e[0]=e[0].slice(t)),KE.concat(i,n)};jE.prototype.eachByte=function(n,e){for(var t,r,i;this._queue.length>0;){for(t=this._queue[0],r=t.length;this._offset<r;)i=this._offset,this._offset+=1,n.call(e,t[i]);this._offset=0,this._queue.shift()}};AY.exports=jE});var Eo=B((zDe,CY)=>{"use strict";var fY=xi().Buffer,mY=T("events").EventEmitter,jme=T("util"),gY=uY(),EY=zE(),$me=dY(),gn=function(n,e,t){mY.call(this),gn.validateOptions(t||{},["maxLength","masking","requireMasking","protocols"]),this._request=n,this._reader=new $me,this._options=t||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new EY,this.__queue=[],this.readyState=0,this.url=e,this.io=new gY.IO(this),this.messages=new gY.Messages(this),this._bindEventListeners()};jme.inherits(gn,mY);gn.isWebSocket=function(n){var e=n.headers.connection||"",t=n.headers.upgrade||"";return n.method==="GET"&&e.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&t.toLowerCase()==="websocket"};gn.validateOptions=function(n,e){for(var t in n)if(e.indexOf(t)<0)throw new Error("Unrecognized option: "+t)};var pY={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var n=this;this.messages.on("error",function(){}),this.on("message",function(e){var t=n.messages;t.readable&&t.emit("data",e.data)}),this.on("error",function(e){var t=n.messages;t.readable&&t.emit("error",e)}),this.on("close",function(){var e=n.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(n){return!1},setHeader:function(n,e){return this.readyState>0?!1:(this._headers.set(n,e),!0)},start:function(){if(this.readyState!==0)return!1;if(!gn.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var n;try{n=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(n),this._stage!==-1&&this._open(),!0},_failHandshake:function(n){var e=new EY;return e.set("Content-Type","text/plain"),e.set("Content-Length",fY.byteLength(n.message,"utf8")),e=["HTTP/1.1 400 Bad Request",e.toString(),n.message],this._write(fY.from(e.join(`\r
`),"utf8")),this._fail("protocol_error",n.message),!1},text:function(n){return this.frame(n)},binary:function(n){return!1},ping:function(){return!1},pong:function(){return!1},close:function(n,e){return this.readyState!==1?!1:(this.readyState=3,this.emit("close",new gn.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(n){this.frame.apply(this,n)},this),this.__queue=[],this.emit("open",new gn.OpenEvent)},_queue:function(n){return this.__queue.push(n),!0},_write:function(n){var e=this.io;e.readable&&e.emit("data",n)},_fail:function(n,e){this.readyState=2,this.emit("error",new Error(e)),this.close()}};for(Db in pY)gn.prototype[Db]=pY[Db];var Db;gn.ConnectEvent=function(){};gn.OpenEvent=function(){};gn.CloseEvent=function(n,e){this.code=n,this.reason=e};gn.MessageEvent=function(n){this.data=n};gn.PingEvent=function(n){this.data=n};gn.PongEvent=function(n){this.data=n};CY.exports=gn});var QY=B(Mb=>{"use strict";var kb=T("assert");Mb.HTTPParser=j;function j(n){kb.ok(n===j.REQUEST||n===j.RESPONSE||n===void 0),n===void 0||this.initialize(n),this.maxHeaderSize=j.maxHeaderSize}j.prototype.initialize=function(n,e){kb.ok(n===j.REQUEST||n===j.RESPONSE),this.type=n,this.state=n+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1};j.encoding="ascii";j.maxHeaderSize=80*1024;j.REQUEST="REQUEST";j.RESPONSE="RESPONSE";var IY=j.kOnHeaders=1,Rb=j.kOnHeadersComplete=2,$E=j.kOnBody=3,Nb=j.kOnMessageComplete=4;j.prototype[IY]=j.prototype[Rb]=j.prototype[$E]=j.prototype[Nb]=function(){};var yY=!0;Object.defineProperty(j,"kOnExecute",{get:function(){return yY=!1,99}});var BY=Mb.methods=j.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],wY=BY.indexOf("CONNECT");j.prototype.reinitialize=j;j.prototype.close=j.prototype.pause=j.prototype.resume=j.prototype.free=function(){};j.prototype._compatMode0_11=!1;j.prototype.getAsyncId=function(){return 0};var Xme={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};j.prototype.execute=function(n,e,t){if(!(this instanceof j))throw new TypeError("not a HTTPParser");e=e||0,t=typeof t=="number"?t:n.length,this.chunk=n,this.offset=e;var r=this.end=e+t;try{for(;this.offset<r&&!this[this.state](););}catch(i){if(this.isUserCall)throw i;return this.hadError=!0,i}return this.chunk=null,t=this.offset-e,Xme[this.state]&&(this.headerSize+=t,this.headerSize>(this.maxHeaderSize||j.maxHeaderSize))?new Error("max header size exceeded"):t};var Zme={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};j.prototype.finish=function(){if(!this.hadError){if(!Zme[this.state])return new Error("invalid state for EOF");this.state==="BODY_RAW"&&this.userCall()(this[Nb]())}};j.prototype.consume=j.prototype.unconsume=j.prototype.getCurrentBuffer=function(){};j.prototype.userCall=function(){this.isUserCall=!0;var n=this;return function(e){return n.isUserCall=!1,e}};j.prototype.nextRequest=function(){this.userCall()(this[Nb]()),this.reinitialize(this.type)};j.prototype.consumeLine=function(){for(var n=this.end,e=this.chunk,t=this.offset;t<n;t++)if(e[t]===10){var r=this.line+e.toString(j.encoding,this.offset,t);return r.charAt(r.length-1)==="\r"&&(r=r.substr(0,r.length-1)),this.line="",this.offset=t+1,r}this.line+=e.toString(j.encoding,this.offset,this.end),this.offset=this.end};var eEe=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,tEe=/^[ \t]+(.*[^ \t])/;j.prototype.parseHeader=function(n,e){if(n.indexOf("\r")!==-1)throw XE("HPE_LF_EXPECTED");var t=eEe.exec(n),r=t&&t[1];if(r)e.push(r),e.push(t[2]);else{var i=tEe.exec(n);i&&e.length&&(e[e.length-1]&&(e[e.length-1]+=" "),e[e.length-1]+=i[1])}};var nEe=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;j.prototype.REQUEST_LINE=function(){var n=this.consumeLine();if(n){var e=nEe.exec(n);if(e===null)throw XE("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?e[1]:BY.indexOf(e[1]),this.info.method===-1)throw new Error("invalid request method");this.info.url=e[2],this.info.versionMajor=+e[3],this.info.versionMinor=+e[4],this.body_bytes=0,this.state="HEADER"}};var rEe=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;j.prototype.RESPONSE_LINE=function(){var n=this.consumeLine();if(n){var e=rEe.exec(n);if(e===null)throw XE("HPE_INVALID_CONSTANT");this.info.versionMajor=+e[1],this.info.versionMinor=+e[2];var t=this.info.statusCode=+e[3];this.info.statusMessage=e[4],((t/100|0)===1||t===204||t===304)&&(this.body_bytes=0),this.state="HEADER"}};j.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(this.connection.indexOf("close")!==-1)return!1}else if(this.connection.indexOf("keep-alive")===-1)return!1;return!!(this.body_bytes!==null||this.isChunked)};j.prototype.HEADER=function(){var n=this.consumeLine();if(n!==void 0){var e=this.info;if(n)this.parseHeader(n,e.headers);else{for(var t=e.headers,r=!1,i,s=!1,o=0;o<t.length;o+=2)switch(t[o].toLowerCase()){case"transfer-encoding":this.isChunked=t[o+1].toLowerCase()==="chunked";break;case"content-length":if(i=+t[o+1],r){if(i!==this.body_bytes)throw XE("HPE_UNEXPECTED_CONTENT_LENGTH")}else r=!0,this.body_bytes=i;break;case"connection":this.connection+=t[o+1].toLowerCase();break;case"upgrade":s=!0;break}this.isChunked&&r&&(r=!1,this.body_bytes=null),s&&this.connection.indexOf("upgrade")!=-1?e.upgrade=this.type===j.REQUEST||e.statusCode===101:e.upgrade=e.method===wY,this.isChunked&&e.upgrade&&(this.isChunked=!1),e.shouldKeepAlive=this.shouldKeepAlive();var a;if(yY?a=this.userCall()(this[Rb](e)):a=this.userCall()(this[Rb](e.versionMajor,e.versionMinor,e.headers,e.method,e.url,e.statusCode,e.statusMessage,e.upgrade,e.shouldKeepAlive)),a===2)return this.nextRequest(),!0;if(this.isChunked&&!a)this.state="BODY_CHUNKHEAD";else{if(a||this.body_bytes===0)return this.nextRequest(),e.upgrade;this.body_bytes===null?this.state="BODY_RAW":this.state="BODY_SIZED"}}}};j.prototype.BODY_CHUNKHEAD=function(){var n=this.consumeLine();n!==void 0&&(this.body_bytes=parseInt(n,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")};j.prototype.BODY_CHUNK=function(){var n=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[$E](this.chunk,this.offset,n)),this.offset+=n,this.body_bytes-=n,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")};j.prototype.BODY_CHUNKEMPTYLINE=function(){var n=this.consumeLine();n!==void 0&&(kb.equal(n,""),this.state="BODY_CHUNKHEAD")};j.prototype.BODY_CHUNKTRAILERS=function(){var n=this.consumeLine();n!==void 0&&(n?this.parseHeader(n,this.trailers):(this.trailers.length&&this.userCall()(this[IY](this.trailers,"")),this.nextRequest()))};j.prototype.BODY_RAW=function(){var n=this.end-this.offset;this.userCall()(this[$E](this.chunk,this.offset,n)),this.offset=this.end};j.prototype.BODY_SIZED=function(){var n=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[$E](this.chunk,this.offset,n)),this.offset+=n,this.body_bytes-=n,this.body_bytes||this.nextRequest()};["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(n){var e=j["kOn"+n];Object.defineProperty(j.prototype,"on"+n,{get:function(){return this[e]},set:function(t){return this._compatMode0_11=!0,wY="CONNECT",this[e]=t}})});function XE(n){var e=new Error("Parse Error");return e.code=n,e}});var eC=B((jDe,_Y)=>{"use strict";var ZE=QY().HTTPParser,iEe=xi().Buffer,sEe={request:ZE.REQUEST||"request",response:ZE.RESPONSE||"response"},pn=function(n){this._type=n,this._parser=new ZE(sEe[n]),this._complete=!1,this.headers={};var e=null,t=this;this._parser.onHeaderField=function(r,i,s){e=r.toString("utf8",i,i+s).toLowerCase()},this._parser.onHeaderValue=function(r,i,s){var o=r.toString("utf8",i,i+s);t.headers.hasOwnProperty(e)?t.headers[e]+=", "+o:t.headers[e]=o},this._parser.onHeadersComplete=this._parser[ZE.kOnHeadersComplete]=function(r,i,s,o,a,c){var l=arguments[0];if(typeof l=="object"&&(o=l.method,a=l.url,c=l.statusCode,s=l.headers),t.method=typeof o=="number"?pn.METHODS[o]:o,t.statusCode=c,t.url=a,!!s){for(var u=0,h=s.length,A,d;u<h;u+=2)A=s[u].toLowerCase(),d=s[u+1],t.headers.hasOwnProperty(A)?t.headers[A]+=", "+d:t.headers[A]=d;t._complete=!0}}};pn.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var vY=process.version?process.version.match(/[0-9]+/g).map(function(n){return parseInt(n,10)}):[];vY[0]===0&&vY[1]===12&&(pn.METHODS[16]="REPORT",pn.METHODS[17]="MKACTIVITY",pn.METHODS[18]="CHECKOUT",pn.METHODS[19]="MERGE",pn.METHODS[20]="M-SEARCH",pn.METHODS[21]="NOTIFY",pn.METHODS[22]="SUBSCRIBE",pn.METHODS[23]="UNSUBSCRIBE",pn.METHODS[24]="PATCH",pn.METHODS[25]="PURGE");pn.prototype.isComplete=function(){return this._complete};pn.prototype.parse=function(n){var e=this._parser.execute(n,0,n.length);if(typeof e!="number"){this.error=e,this._complete=!0;return}this._complete&&(this.body=e<n.length?n.slice(e):iEe.alloc(0))};_Y.exports=pn});var TY=B(($De,bY)=>{"use strict";var Fb=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,oEe=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,aEe=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/,Lb=new RegExp(Fb.source+"(?:=(?:"+Fb.source+"|"+aEe.source+"))?"),xb=new RegExp(Fb.source+"(?: *; *"+Lb.source+")*","g"),cEe=new RegExp("^"+xb.source+"(?: *, *"+xb.source+")*$"),lEe=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,SY=Object.prototype.hasOwnProperty,uEe={parseHeader:function(n){var e=new ed;if(n===""||n===void 0)return e;if(!cEe.test(n))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+n);var t=n.match(xb);return t.forEach(function(r){var i=r.match(new RegExp(Lb.source,"g")),s=i.shift(),o={};i.forEach(function(a){var c=a.match(Lb),l=c[1],u;c[2]!==void 0?u=c[2]:c[3]!==void 0?u=c[3].replace(/\\/g,""):u=!0,lEe.test(u)&&(u=parseFloat(u)),SY.call(o,l)?(o[l]=[].concat(o[l]),o[l].push(u)):o[l]=u},this),e.push(s,o)},this),e},serializeParams:function(n,e){var t=[],r=function(s,o){o instanceof Array?o.forEach(function(a){r(s,a)}):o===!0?t.push(s):typeof o=="number"?t.push(s+"="+o):oEe.test(o)?t.push(s+'="'+o.replace(/"/g,'\\"')+'"'):t.push(s+"="+o)};for(var i in e)r(i,e[i]);return[n].concat(t).join("; ")}},ed=function(){this._byName={},this._inOrder=[]};ed.prototype.push=function(n,e){SY.call(this._byName,n)||(this._byName[n]=[]),this._byName[n].push(e),this._inOrder.push({name:n,params:e})};ed.prototype.eachOffer=function(n,e){for(var t=this._inOrder,r=0,i=t.length;r<i;r++)n.call(e,t[r].name,t[r].params)};ed.prototype.byName=function(n){return this._byName[n]||[]};ed.prototype.toArray=function(){return this._inOrder.slice()};bY.exports=uEe});var Ob=B((XDe,DY)=>{"use strict";var td=function(n){this._bufferSize=n,this.clear()};td.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0};td.prototype.push=function(n){var e=!1,t=!1;this._ringSize<this._bufferSize?e=this._tail===0:this._ringOffset===this._ringSize&&(e=!0,t=this._tail===0),e&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,t&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=n,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize};td.prototype.peek=function(){if(this.length!==0)return this._buffer[this._head]};td.prototype.shift=function(){if(this.length!==0){var n=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,this._ringOffset===0&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,n}};DY.exports=td});var kY=B((ZDe,RY)=>{"use strict";var hEe=Ob(),nu=function(n,e){this._session=n,this._method=e,this._queue=new hEe(nu.QUEUE_SIZE),this._stopped=!1,this.pending=0};nu.QUEUE_SIZE=8;nu.prototype.call=function(n,e,t,r){if(!this._stopped){var i={error:n,message:e,callback:t,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(c,l){s^(s=!0)&&(c?(o._stop(),i.error=c,i.message=null):i.message=l,i.done=!0,o._flushQueue())};try{this._session[this._method](e,a)}catch(c){a(c)}}};nu.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0};nu.prototype._flushQueue=function(){for(var n=this._queue,e;n.length>0&&n.peek().done;)e=n.shift(),e.error?(this.pending=0,n.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)};RY.exports=nu});var Ub=B((eRe,NY)=>{"use strict";var AEe=Ob(),_a=function(){this._complete=!1,this._callbacks=new AEe(_a.QUEUE_SIZE)};_a.QUEUE_SIZE=4;_a.all=function(n){var e=new _a,t=n.length,r=t;for(t===0&&e.done();r--;)n[r].then(function(){t-=1,t===0&&e.done()});return e};_a.prototype.then=function(n){this._complete?n():this._callbacks.push(n)};_a.prototype.done=function(){this._complete=!0;for(var n=this._callbacks,e;e=n.shift();)e()};NY.exports=_a});var LY=B((tRe,FY)=>{"use strict";var MY=kY(),dEe=Ub(),Sa=function(n){this._ext=n[0],this._session=n[1],this._functors={incoming:new MY(this._session,"processIncomingMessage"),outgoing:new MY(this._session,"processOutgoingMessage")}};Sa.prototype.pending=function(n){var e=this._functors[n];e._stopped||(e.pending+=1)};Sa.prototype.incoming=function(n,e,t,r){this._exec("incoming",n,e,t,r)};Sa.prototype.outgoing=function(n,e,t,r){this._exec("outgoing",n,e,t,r)};Sa.prototype.close=function(){return this._closed=this._closed||new dEe,this._doClose(),this._closed};Sa.prototype._exec=function(n,e,t,r,i){this._functors[n].call(e,t,function(s,o){s&&(s.message=this._ext.name+": "+s.message),r.call(i,s,o),this._doClose()},this)};Sa.prototype._doClose=function(){var n=this._functors.incoming,e=this._functors.outgoing;!this._closed||n.pending+e.pending!==0||(this._session&&this._session.close(),this._session=null,this._closed.done())};FY.exports=Sa});var OY=B((nRe,xY)=>{"use strict";var fEe=LY(),gEe=Ub(),nd=function(n){this._cells=n.map(function(e){return new fEe(e)}),this._stopped={incoming:!1,outgoing:!1}};nd.prototype.processIncomingMessage=function(n,e,t){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,n,e,t)};nd.prototype.processOutgoingMessage=function(n,e,t){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,n,e,t)};nd.prototype.close=function(n,e){this._stopped={incoming:!0,outgoing:!0};var t=this._cells.map(function(r){return r.close()});n&&gEe.all(t).then(function(){n.call(e)})};nd.prototype._loop=function(n,e,t,r,i,s,o){for(var a=this._cells,c=a.length,l=this;c--;)a[c].pending(n);var u=function(h,A,d){if(h===t)return s.call(o,A,d);a[h][n](A,d,function(C,m){C&&(l._stopped[n]=!0),u(h+r,C,m)})};u(e,null,i)};xY.exports=nd});var GY=B((rRe,VY)=>{"use strict";var rd=TY(),UY=OY(),tC=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};tC.MESSAGE_OPCODES=[1,2];var PY={add:function(n){if(typeof n.name!="string")throw new TypeError("extension.name must be a string");if(n.type!=="permessage")throw new TypeError('extension.type must be "permessage"');if(typeof n.rsv1!="boolean")throw new TypeError("extension.rsv1 must be true or false");if(typeof n.rsv2!="boolean")throw new TypeError("extension.rsv2 must be true or false");if(typeof n.rsv3!="boolean")throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(n.name))throw new TypeError('An extension with name "'+n.name+'" is already registered');this._byName[n.name]=n,this._inOrder.push(n)},generateOffer:function(){var n=[],e=[],t={};return this._inOrder.forEach(function(r){var i=r.createClientSession();if(i){var s=[r,i];n.push(s),t[r.name]=s;var o=i.generateOffer();o=o?[].concat(o):[],o.forEach(function(a){e.push(rd.serializeParams(r.name,a))},this)}},this),this._sessions=n,this._index=t,e.length>0?e.join(", "):null},activate:function(n){var e=rd.parseHeader(n),t=[];e.eachOffer(function(r,i){var s=this._index[r];if(!s)throw new Error('Server sent an extension response for unknown extension "'+r+'"');var o=s[0],a=s[1],c=this._reserved(o);if(c)throw new Error("Server sent two extension responses that use the RSV"+c[0]+' bit: "'+c[1]+'" and "'+o.name+'"');if(a.activate(i)!==!0)throw new Error("Server sent unacceptable extension parameters: "+rd.serializeParams(r,i));this._reserve(o),t.push(s)},this),this._sessions=t,this._pipeline=new UY(t)},generateResponse:function(n){var e=[],t=[],r=rd.parseHeader(n);return this._inOrder.forEach(function(i){var s=r.byName(i.name);if(!(s.length===0||this._reserved(i))){var o=i.createServerSession(s);o&&(this._reserve(i),e.push([i,o]),t.push(rd.serializeParams(i.name,o.generateResponse())))}},this),this._sessions=e,this._pipeline=new UY(e),t.length>0?t.join(", "):null},validFrameRsv:function(n){var e={rsv1:!1,rsv2:!1,rsv3:!1},t;if(tC.MESSAGE_OPCODES.indexOf(n.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)t=this._sessions[r][0],e.rsv1=e.rsv1||t.rsv1,e.rsv2=e.rsv2||t.rsv2,e.rsv3=e.rsv3||t.rsv3;return(e.rsv1||!n.rsv1)&&(e.rsv2||!n.rsv2)&&(e.rsv3||!n.rsv3)},processIncomingMessage:function(n,e,t){this._pipeline.processIncomingMessage(n,e,t)},processOutgoingMessage:function(n,e,t){this._pipeline.processOutgoingMessage(n,e,t)},close:function(n,e){if(!this._pipeline)return n.call(e);this._pipeline.close(n,e)},_reserve:function(n){this._rsv1=this._rsv1||n.rsv1&&n.name,this._rsv2=this._rsv2||n.rsv2&&n.name,this._rsv3=this._rsv3||n.rsv3&&n.name},_reserved:function(n){return this._rsv1&&n.rsv1?[1,this._rsv1]:this._rsv2&&n.rsv2?[2,this._rsv2]:this._rsv3&&n.rsv3?[3,this._rsv3]:!1}};for(Pb in PY)tC.prototype[Pb]=PY[Pb];var Pb;VY.exports=tC});var WY=B((iRe,YY)=>{"use strict";var HY=function(){},qY={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(Vb in qY)HY.prototype[Vb]=qY[Vb];var Vb;YY.exports=HY});var jY=B((sRe,KY)=>{"use strict";var pEe=xi().Buffer,zY=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},JY={read:function(){return this.data=this.data||pEe.concat(this._chunks,this.length)},pushFrame:function(n){this.rsv1=this.rsv1||n.rsv1,this.rsv2=this.rsv2||n.rsv2,this.rsv3=this.rsv3||n.rsv3,this.opcode===null&&(this.opcode=n.opcode),this._chunks.push(n.payload),this.length+=n.length}};for(Gb in JY)zY.prototype[Gb]=JY[Gb];var Gb;KY.exports=zY});var Hb=B((oRe,tW)=>{"use strict";var id=xi().Buffer,eW=T("crypto"),mEe=T("util"),EEe=GY(),ba=Eo(),$Y=WY(),XY=jY(),Kn=function(n,e,t){if(ba.apply(this,arguments),this._extensions=new EEe,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},typeof this._protocols=="string"&&(this._protocols=this._protocols.split(/ *, */)),!!this._request){var r=this._request.headers["sec-websocket-protocol"],i=this._protocols;r!==void 0&&(typeof r=="string"&&(r=r.split(/ *, */)),this.protocol=r.filter(function(s){return i.indexOf(s)>=0})[0]),this.version="hybi-"+Kn.VERSION}};mEe.inherits(Kn,ba);Kn.VERSION="13";Kn.mask=function(n,e,t){if(!e||e.length===0)return n;t=t||0;for(var r=0,i=n.length-t;r<i;r++)n[t+r]=n[t+r]^e[r%4];return n};Kn.generateAccept=function(n){var e=eW.createHash("sha1");return e.update(n+Kn.GUID),e.digest("base64")};Kn.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var ZY={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(n){return this._extensions.add(n),!0},parse:function(n){this._reader.put(n);for(var e=!0;e;)switch(this._stage){case 0:e=this._reader.read(1),e&&this._parseOpcode(e[0]);break;case 1:e=this._reader.read(1),e&&this._parseLength(e[0]);break;case 2:e=this._reader.read(this._frame.lengthBytes),e&&this._parseExtendedLength(e);break;case 3:e=this._reader.read(4),e&&(this._stage=4,this._frame.maskingKey=e);break;case 4:e=this._reader.read(this._frame.length),e&&(this._stage=0,this._emitFrame(e));break;default:e=null}},text:function(n){return this.readyState>1?!1:this.frame(n,"text")},binary:function(n){return this.readyState>1?!1:this.frame(n,"binary")},ping:function(n,e){return this.readyState>1?!1:(n=n||"",e&&(this._pingCallbacks[n]=e),this.frame(n,"ping"))},pong:function(n){return this.readyState>1?!1:(n=n||"",this.frame(n,"pong"))},close:function(n,e){return n=n||"",e=e||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new ba.CloseEvent(e,n)),!0):this.readyState===1?(this.readyState=2,this._extensions.close(function(){this.frame(n,"close",e)},this),!0):!1},frame:function(n,e,t){if(this.readyState<=0)return this._queue([n,e,t]);if(this.readyState>2)return!1;n instanceof Array&&(n=id.from(n)),typeof n=="number"&&(n=n.toString());var r=new XY,i=typeof n=="string",s,o;r.rsv1=r.rsv2=r.rsv3=!1,r.opcode=this.OPCODES[e||(i?"text":"binary")],s=i?id.from(n,"utf8"):n,t&&(o=s,s=id.allocUnsafe(2+o.length),s.writeUInt16BE(t,0),o.copy(s,2)),r.data=s;var a=function(c){var l=new $Y;l.final=!0,l.rsv1=c.rsv1,l.rsv2=c.rsv2,l.rsv3=c.rsv3,l.opcode=c.opcode,l.masked=!!this._masking,l.length=c.data.length,l.payload=c.data,l.masked&&(l.maskingKey=eW.randomBytes(4)),this._sendFrame(l)};return this.MESSAGE_OPCODES.indexOf(r.opcode)>=0?this._extensions.processOutgoingMessage(r,function(c,l){if(c)return this._fail("extension_error",c.message);a.call(this,l)},this):a.call(this,r),!0},_sendFrame:function(n){var e=n.length,t=e<=125?2:e<=65535?4:10,r=t+(n.masked?4:0),i=id.allocUnsafe(r+e),s=n.masked?this.MASK:0;i[0]=(n.final?this.FIN:0)|(n.rsv1?this.RSV1:0)|(n.rsv2?this.RSV2:0)|(n.rsv3?this.RSV3:0)|n.opcode,e<=125?i[1]=s|e:e<=65535?(i[1]=s|126,i.writeUInt16BE(e,2)):(i[1]=s|127,i.writeUInt32BE(Math.floor(e/4294967296),2),i.writeUInt32BE(e%4294967296,6)),n.payload.copy(i,r),n.masked&&(n.maskingKey.copy(i,t),Kn.mask(i,n.maskingKey,r)),this._write(i)},_handshakeResponse:function(){var n=this._request.headers["sec-websocket-key"],e=this._request.headers["sec-websocket-version"];if(e!==Kn.VERSION)throw new Error("Unsupported WebSocket version: "+e);if(typeof n!="string")throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",Kn.generateAccept(n)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var t=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);t&&this._headers.set("Sec-WebSocket-Extensions",t);var r="HTTP/1.1 101 Switching Protocols",i=[r,this._headers.toString(),""];return id.from(i.join(`\r
`),"utf8")},_shutdown:function(n,e,t){delete this._frame,delete this._message,this._stage=5;var r=this.readyState===1;this.readyState=2,this._extensions.close(function(){r&&this.frame(e,"close",n),this.readyState=3,t&&this.emit("error",new Error(e)),this.emit("close",new ba.CloseEvent(n,e))},this)},_fail:function(n,e){this.readyState>1||this._shutdown(this.ERRORS[n],e,!0)},_parseOpcode:function(n){var e=[this.RSV1,this.RSV2,this.RSV3].map(function(r){return(n&r)===r}),t=this._frame=new $Y;if(t.final=(n&this.FIN)===this.FIN,t.rsv1=e[0],t.rsv2=e[1],t.rsv3=e[2],t.opcode=n&this.OPCODE,this._stage=1,!this._extensions.validFrameRsv(t))return this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(t.rsv1?1:0)+", reserved2 = "+(t.rsv2?1:0)+", reserved3 = "+(t.rsv3?1:0));if(this.OPCODE_CODES.indexOf(t.opcode)<0)return this._fail("protocol_error","Unrecognized frame opcode: "+t.opcode);if(this.MESSAGE_OPCODES.indexOf(t.opcode)<0&&!t.final)return this._fail("protocol_error","Received fragmented control frame: opcode = "+t.opcode);if(this._message&&this.OPENING_OPCODES.indexOf(t.opcode)>=0)return this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished")},_parseLength:function(n){var e=this._frame;if(e.masked=(n&this.MASK)===this.MASK,e.length=n&this.LENGTH,e.length>=0&&e.length<=125){if(this._stage=e.masked?3:4,!this._checkFrameLength())return}else this._stage=2,e.lengthBytes=e.length===126?2:8;if(this._requireMasking&&!e.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(n){var e=this._frame;if(e.length=this._readUInt(n),this._stage=e.masked?3:4,this.MESSAGE_OPCODES.indexOf(e.opcode)<0&&e.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+e.length);this._checkFrameLength()},_checkFrameLength:function(){var n=this._message?this._message.length:0;return n+this._frame.length>this._maxLength?(this._fail("too_large","WebSocket frame length too large"),!1):!0},_emitFrame:function(n){var e=this._frame,t=e.payload=Kn.mask(n,e.maskingKey),r=e.opcode,i,s,o,a,c;if(delete this._frame,r===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(e)}if((r===this.OPCODES.text||r===this.OPCODES.binary)&&(this._message=new XY,this._message.pushFrame(e)),e.final&&this.MESSAGE_OPCODES.indexOf(r)>=0)return this._emitMessage(this._message);r===this.OPCODES.close&&(s=t.length>=2?t.readUInt16BE(0):null,o=t.length>2?this._encode(t.slice(2)):null,t.length!==0&&!(s!==null&&s>=this.MIN_RESERVED_ERROR&&s<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(s)<0&&(s=this.ERRORS.protocol_error),(t.length>125||t.length>2&&!o)&&(s=this.ERRORS.protocol_error),this._shutdown(s||this.DEFAULT_ERROR_CODE,o||"")),r===this.OPCODES.ping&&(this.frame(t,"pong"),this.emit("ping",new ba.PingEvent(t.toString()))),r===this.OPCODES.pong&&(a=this._pingCallbacks,i=this._encode(t),c=a[i],delete a[i],c&&c(),this.emit("pong",new ba.PongEvent(t.toString())))},_emitMessage:function(e){var e=this._message;e.read(),delete this._message,this._extensions.processIncomingMessage(e,function(t,r){if(t)return this._fail("extension_error",t.message);var i=r.data;if(r.opcode===this.OPCODES.text&&(i=this._encode(i)),i===null)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new ba.MessageEvent(i))},this)},_encode:function(n){try{var e=n.toString("binary",0,n.length);if(!this.UTF8_MATCH.test(e))return null}catch{}return n.toString("utf8",0,n.length)},_readUInt:function(n){return n.length===2?n.readUInt16BE(0):n.readUInt32BE(0)*4294967296+n.readUInt32BE(4)}};for(qb in ZY)Kn.prototype[qb]=ZY[qb];var qb;tW.exports=Kn});var oW=B((aRe,sW)=>{"use strict";var iW=xi().Buffer,CEe=T("stream").Stream,nW=T("url"),IEe=T("util"),yEe=Eo(),BEe=zE(),wEe=eC(),QEe={"ws:":80,"wss:":443},Wb=function(n,e,t){this._client=n,this._http=new wEe("response"),this._origin=typeof n.url=="object"?n.url:nW.parse(n.url),this._url=typeof e=="object"?e:nW.parse(e),this._options=t||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new BEe,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var r=this._url.auth&&iW.from(this._url.auth,"utf8").toString("base64");r&&this._headers.set("Proxy-Authorization","Basic "+r)};IEe.inherits(Wb,CEe);var rW={setHeader:function(n,e){return this._state!==0?!1:(this._headers.set(n,e),!0)},start:function(){if(this._state!==0)return!1;this._state=1;var n=this._origin,e=n.port||QEe[n.protocol],t="CONNECT "+n.hostname+":"+e+" HTTP/1.1",r=[t,this._headers.toString(),""];return this.emit("data",iW.from(r.join(`\r
`),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(n){if(!this.writable)return!1;if(this._http.parse(n),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this.statusCode===200)this.emit("connect",new yEe.ConnectEvent);else{var e="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(e))}return this.end(),!this._paused},end:function(n){this.writable&&(n!==void 0&&this.write(n),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(Yb in rW)Wb.prototype[Yb]=rW[Yb];var Yb;sW.exports=Wb});var uW=B((cRe,lW)=>{"use strict";var cW=xi().Buffer,vEe=T("crypto"),_Ee=T("url"),SEe=T("util"),bEe=eC(),TEe=Eo(),ru=Hb(),DEe=oW(),sd=function(n,e){this.version="hybi-"+ru.VERSION,ru.call(this,null,n,e),this.readyState=-1,this._key=sd.generateKey(),this._accept=ru.generateAccept(this._key),this._http=new bEe("response");var t=_Ee.parse(this.url),r=t.auth&&cW.from(t.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(t.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(t.pathname||"/")+(t.search||""),this._headers.set("Host",t.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",ru.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),r&&this._headers.set("Authorization","Basic "+r)};SEe.inherits(sd,ru);sd.generateKey=function(){return vEe.randomBytes(16).toString("base64")};var aW={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(n,e){return new DEe(this,n,e)},start:function(){return this.readyState!==-1?!1:(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(n){if(this.readyState!==3){if(this.readyState>0)return ru.prototype.parse.call(this,n);this._http.parse(n),this._http.isComplete()&&(this._validateHandshake(),this.readyState!==3&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var n=this._extensions.generateOffer();n&&this._headers.set("Sec-WebSocket-Extensions",n);var e="GET "+this._pathname+" HTTP/1.1",t=[e,this._headers.toString(),""];return cW.from(t.join(`\r
`),"utf8")},_failHandshake:function(n){n="Error during WebSocket handshake: "+n,this.readyState=3,this.emit("error",new Error(n)),this.emit("close",new TEe.CloseEvent(this.ERRORS.protocol_error,n))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(this._http.statusCode!==101)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var n=this._http.headers,e=n.upgrade||"",t=n.connection||"",r=n["sec-websocket-accept"]||"",i=n["sec-websocket-protocol"]||"";if(e==="")return this._failHandshake("'Upgrade' header is missing");if(e.toLowerCase()!=="websocket")return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(t==="")return this._failHandshake("'Connection' header is missing");if(t.toLowerCase()!=="upgrade")return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,i!==""){if(this._protocols.indexOf(i)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(s){return this._failHandshake(s.message)}}};for(Jb in aW)sd.prototype[Jb]=aW[Jb];var Jb;lW.exports=sd});var jb=B((lRe,AW)=>{"use strict";var nC=xi().Buffer,rC=Eo(),REe=T("util"),Kb=function(n,e,t){rC.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};REe.inherits(Kb,rC);var hW={close:function(){return this.readyState===3?!1:(this.readyState=3,this.emit("close",new rC.CloseEvent(null,null)),!0)},parse:function(n){this.readyState>1||(this._reader.put(n),this._reader.eachByte(function(e){var t;switch(this._stage){case-1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(e&127)+128*this._length,this._closing&&this._length===0)return this.close();(e&128)!==128&&(this._length===0?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(e===255)this._stage=0,t=nC.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new rC.MessageEvent(t));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close();break}},this))},frame:function(n){if(this.readyState===0)return this._queue([n]);if(this.readyState>1)return!1;typeof n!="string"&&(n=n.toString());var e=nC.byteLength(n),t=nC.allocUnsafe(e+2);return t[0]=0,t.write(n,1),t[t.length-1]=255,this._write(t),!0},_handshakeResponse:function(){var n="HTTP/1.1 101 Web Socket Protocol Handshake",e=[n,this._headers.toString(),""];return nC.from(e.join(`\r
`),"utf8")},_parseLeadingByte:function(n){(n&128)===128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(zb in hW)Kb.prototype[zb]=hW[zb];var zb;AW.exports=Kb});var mW=B((uRe,pW)=>{"use strict";var od=xi().Buffer,kEe=Eo(),iC=jb(),NEe=T("crypto"),MEe=T("util"),dW=function(n){return parseInt((n.match(/[0-9]/g)||[]).join(""),10)},fW=function(n){return(n.match(/ /g)||[]).length},Xb=function(n,e,t){iC.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};MEe.inherits(Xb,iC);var gW={BODY_SIZE:8,start:function(){return iC.prototype.start.call(this)?(this._started=!0,this._sendHandshakeBody(),!0):!1},close:function(){return this.readyState===3?!1:(this.readyState===1&&this._write(od.from([255,0])),this.readyState=3,this.emit("close",new kEe.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var a=this._request.headers,n=a["sec-websocket-key1"],e=a["sec-websocket-key2"];if(!n)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!e)throw new Error("Missing required header: Sec-WebSocket-Key2");var t=dW(n),r=fW(n),i=dW(e),s=fW(e);if(t%r!==0||i%s!==0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[t/r,i/s];var o="HTTP/1.1 101 WebSocket Protocol Handshake",a=[o,this._headers.toString(),""];return od.from(a.join(`\r
`),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var n=NEe.createHash("md5"),e=od.allocUnsafe(8+this.BODY_SIZE);return e.writeUInt32BE(this._keyValues[0],0),e.writeUInt32BE(this._keyValues[1],4),od.from(this._body).copy(e,8,0,this.BODY_SIZE),n.update(e),od.from(n.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var n=this._handshakeSignature();n&&(this._write(n),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(n){if(n!==255)return iC.prototype._parseLeadingByte.call(this,n);this._closing=!0,this._length=0,this._stage=1}};for($b in gW)Xb.prototype[$b]=gW[$b];var $b;pW.exports=Xb});var CW=B((hRe,EW)=>{"use strict";var FEe=T("util"),LEe=eC(),tT=Eo(),xEe=jb(),OEe=mW(),UEe=Hb(),Ta=function(n){tT.call(this,null,null,n),this._http=new LEe("request")};FEe.inherits(Ta,tT);var eT={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(n){if(this._delegate)return this._delegate.parse(n);if(this._http.parse(n),!!this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var e=this;this._delegate=Ta.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(t){this._delegate.on(t,function(r){e.emit(t,r)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new tT.ConnectEvent)}},_open:function(){this.__queue.forEach(function(n){this._delegate[n[0]].apply(this._delegate,n[1])},this),this.__queue=[]}};["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(n){eT[n]=function(){return this._delegate?this._delegate[n].apply(this._delegate,arguments):(this.__queue.push([n,arguments]),!0)}});for(Zb in eT)Ta.prototype[Zb]=eT[Zb];var Zb;Ta.isSecureRequest=function(n){if(n.connection&&n.connection.authorized!==void 0||n.socket&&n.socket.secure)return!0;var e=n.headers;return e?e.https==="on"||e["x-forwarded-ssl"]==="on"||e["x-forwarded-scheme"]==="https"||e["x-forwarded-proto"]==="https":!1};Ta.determineUrl=function(n){var e=this.isSecureRequest(n)?"wss:":"ws:";return e+"//"+n.headers.host+n.url};Ta.http=function(n,e){e=e||{},e.requireMasking===void 0&&(e.requireMasking=!0);var t=n.headers,r=t["sec-websocket-version"],i=t["sec-websocket-key"],s=t["sec-websocket-key1"],o=t["sec-websocket-key2"],a=this.determineUrl(n);return r||i?new UEe(n,a,e):s||o?new OEe(n,a,e):new xEe(n,a,e)};EW.exports=Ta});var ad=B((ARe,yW)=>{"use strict";var IW=Eo(),PEe=uW(),sC=CW(),VEe={client:function(n,e){return e=e||{},e.masking===void 0&&(e.masking=!0),new PEe(n,e)},server:function(n){return n=n||{},n.requireMasking===void 0&&(n.requireMasking=!0),new sC(n)},http:function(){return sC.http.apply(sC,arguments)},isSecureRequest:function(n){return sC.isSecureRequest(n)},isWebSocket:function(n){return IW.isWebSocket(n)},validateOptions:function(n,e){IW.validateOptions(n,e)}};yW.exports=VEe});var cd=B((dRe,BW)=>{"use strict";var Da=function(n,e){this.type=n;for(var t in e)this[t]=e[t]};Da.prototype.initEvent=function(n,e,t){this.type=n,this.bubbles=e,this.cancelable=t};Da.prototype.stopPropagation=function(){};Da.prototype.preventDefault=function(){};Da.CAPTURING_PHASE=1;Da.AT_TARGET=2;Da.BUBBLING_PHASE=3;BW.exports=Da});var nT=B((fRe,wW)=>{"use strict";var GEe=cd(),qEe={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(n,e,t){this.on(n,e)},removeEventListener:function(n,e,t){this.removeListener(n,e)},dispatchEvent:function(n){n.target=n.currentTarget=this,n.eventPhase=GEe.AT_TARGET,this["on"+n.type]&&this["on"+n.type](n),this.emit(n.type,n)}};wW.exports=qEe});var aC=B((gRe,_W)=>{"use strict";var HEe=T("stream").Stream,YEe=T("util"),WEe=ad(),QW=nT(),oC=cd(),tt=function(n){n=n||{},WEe.validateOptions(n,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var e=n.headers;if(e)for(var t in e)this._driver.setHeader(t,e[t]);var r=n.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=n.ping,this._pingId=0,this.readyState=tt.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(s){i._open()}),this._driver.on("message",function(s){i._receiveMessage(s.data)}),this._driver.on("close",function(s){i._beginClose(s.reason,s.code)}),this._driver.on("error",function(s){i._emitError(s.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},this._ping*1e3)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};YEe.inherits(tt,HEe);tt.CONNECTING=0;tt.OPEN=1;tt.CLOSING=2;tt.CLOSED=3;tt.CLOSE_TIMEOUT=3e4;var vW={write:function(n){return this.send(n)},end:function(n){n!==void 0&&this.send(n),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(n){return this.readyState>tt.OPEN?!1:(n instanceof Buffer||(n=String(n)),this._driver.messages.write(n))},ping:function(n,e){return this.readyState>tt.OPEN?!1:this._driver.ping(n,e)},close:function(n,e){if(n===void 0&&(n=1e3),e===void 0&&(e=""),n!==1e3&&(n<3e3||n>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+n+" is neither.");if(this.readyState<tt.CLOSING){var t=this;this._closeTimer=setTimeout(function(){t._beginClose("",1006)},tt.CLOSE_TIMEOUT)}this.readyState!==tt.CLOSED&&(this.readyState=tt.CLOSING),this._driver.close(e,n)},_configureStream:function(){var n=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(e){this._stream.on(e,function(){n._finalizeClose()})},this),this._stream.on("error",function(e){n._emitError("Network error: "+n.url+": "+e.message),n._finalizeClose()})},_open:function(){if(this.readyState===tt.CONNECTING){this.readyState=tt.OPEN,this.protocol=this._driver.protocol||"";var n=new oC("open");n.initEvent("open",!1,!1),this.dispatchEvent(n)}},_receiveMessage:function(n){if(this.readyState>tt.OPEN)return!1;this.readable&&this.emit("data",n);var e=new oC("message",{data:n});e.initEvent("message",!1,!1),this.dispatchEvent(e)},_emitError:function(n){if(!(this.readyState>=tt.CLOSING)){var e=new oC("error",{message:n});e.initEvent("error",!1,!1),this.dispatchEvent(e)}},_beginClose:function(n,e){this.readyState!==tt.CLOSED&&(this.readyState=tt.CLOSING,this._closeParams=[n,e],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==tt.CLOSED){this.readyState=tt.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var n=this._closeParams?this._closeParams[0]:"",e=this._closeParams?this._closeParams[1]:1006,t=new oC("close",{code:e,reason:n});t.initEvent("close",!1,!1),this.dispatchEvent(t)}}};for(rT in vW)tt.prototype[rT]=vW[rT];var rT;for(iT in QW)tt.prototype[iT]=QW[iT];var iT;_W.exports=tt});var kW=B((mRe,RW)=>{"use strict";var JEe=T("util"),zEe=T("net"),SW=T("tls"),bW=T("url"),KEe=ad(),TW=aC(),pRe=cd(),jEe={"http:":80,"https:":443,"ws:":80,"wss:":443},DW=["https:","wss:"],cC=function(n,e,t){t=t||{},this.url=n,this._driver=KEe.client(this.url,{maxLength:t.maxLength,protocols:e}),["open","error"].forEach(function(A){this._driver.on(A,function(){h.headers=h._driver.headers,h.statusCode=h._driver.statusCode})},this);var r=t.proxy||{},i=bW.parse(r.origin||this.url),s=i.port||jEe[i.protocol],o=DW.indexOf(i.protocol)>=0,a=function(){h._onConnect()},c=t.net||{},l=t.tls||{},u=r.origin?r.tls||{}:l,h=this;c.host=u.host=i.hostname,c.port=u.port=s,l.ca=l.ca||t.ca,u.servername=u.servername||i.hostname,this._stream=o?SW.connect(u,a):zEe.connect(c,a),r.origin&&this._configureProxy(r,l),TW.call(this,t)};JEe.inherits(cC,TW);cC.prototype._onConnect=function(){var n=this._proxy||this._driver;n.start()};cC.prototype._configureProxy=function(n,e){var t=bW.parse(this.url),r=DW.indexOf(t.protocol)>=0,i=this,s;if(this._proxy=this._driver.proxy(n.origin),n.headers)for(s in n.headers)this._proxy.setHeader(s,n.headers[s]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(r){var o={socket:i._stream,servername:t.hostname};for(s in e)o[s]=e[s];i._stream=SW.connect(o),i._configureStream()}i._driver.io.pipe(i._stream),i._stream.pipe(i._driver.io),i._driver.start()}),this._proxy.on("error",function(o){i._driver.emit("error",o)})};RW.exports=cC});var xW=B((ERe,LW)=>{"use strict";var $Ee=T("stream").Stream,XEe=T("util"),ZEe=ad(),eCe=zE(),iu=aC(),NW=nT(),MW=cd(),ld=function(n,e,t){this.writable=!0,t=t||{},this._stream=e.socket,this._ping=t.ping||this.DEFAULT_PING,this._retry=t.retry||this.DEFAULT_RETRY;var r=ZEe.isSecureRequest(n)?"https:":"http:";this.url=r+"//"+n.headers.host+n.url,this.lastEventId=n.headers["last-event-id"]||"",this.readyState=iu.CONNECTING;var i=new eCe,s=this;if(t.headers)for(var o in t.headers)i.set(o,t.headers[o]);if(!(!this._stream||!this._stream.writable)){process.nextTick(function(){s._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var a=`HTTP/1.1 200 OK\r
Content-Type: text/event-stream\r
Cache-Control: no-cache, no-store\r
Connection: close\r
`+i.toString()+`\r
retry: `+Math.floor(this._retry*1e3)+`\r
\r
`;this._write(a),this._stream.on("drain",function(){s.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){s.ping()},this._ping*1e3)),["error","end"].forEach(function(c){s._stream.on(c,function(){s.close()})})}};XEe.inherits(ld,$Ee);ld.isEventSource=function(n){if(n.method!=="GET")return!1;var e=(n.headers.accept||"").split(/\s*,\s*/);return e.indexOf("text/event-stream")>=0};var FW={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(n){if(!this.writable)return!1;try{return this._stream.write(n,"utf8")}catch{return!1}},_open:function(){if(this.readyState===iu.CONNECTING){this.readyState=iu.OPEN;var n=new MW("open");n.initEvent("open",!1,!1),this.dispatchEvent(n)}},write:function(n){return this.send(n)},end:function(n){n!==void 0&&this.write(n),this.close()},send:function(n,e){if(this.readyState>iu.OPEN)return!1;n=String(n).replace(/(\r\n|\r|\n)/g,"$1data: "),e=e||{};var t="";return e.event&&(t+="event: "+e.event+`\r
`),e.id&&(t+="id: "+e.id+`\r
`),t+="data: "+n+`\r
\r
`,this._write(t)},ping:function(){return this._write(`:\r
\r
`)},close:function(){if(this.readyState>iu.OPEN)return!1;this.readyState=iu.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var n=new MW("close");return n.initEvent("close",!1,!1),this.dispatchEvent(n),!0}};for(sT in FW)ld.prototype[sT]=FW[sT];var sT;for(oT in NW)ld.prototype[oT]=NW[oT];var oT;LW.exports=ld});var PW=B((CRe,UW)=>{"use strict";var tCe=T("util"),aT=ad(),OW=aC(),Co=function(n,e,t,r,i){i=i||{},this._stream=e,this._driver=aT.http(n,{maxLength:i.maxLength,protocols:r});var s=this;if(!(!this._stream||!this._stream.writable)){if(!this._stream.readable)return this._stream.end();var o=function(){s._stream.removeListener("data",o)};this._stream.on("data",o),OW.call(this,i),process.nextTick(function(){s._driver.start(),s._driver.io.write(t)})}};tCe.inherits(Co,OW);Co.isWebSocket=function(n){return aT.isWebSocket(n)};Co.validateOptions=function(n,e){aT.validateOptions(n,e)};Co.WebSocket=Co;Co.Client=kW();Co.EventSource=xW();UW.exports=Co});var xd=class n{loggedIn=!1;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Zr({type:n,selectors:[["app-menu"]],standalone:!0,features:[ti],decls:16,vars:0,consts:[[1,"socials-wrapper"],[1,"socials"],["href","https://www.youtube.com/@_TpoX","target","_blank"],[1,"fa-brands","fa-youtube"],["href","https://x.com/iTzSteffen","target","_blank"],[1,"fa-brands","fa-x-twitter"],["href","https://www.instagram.com/steffen_1205/","target","_blank"],[1,"fa-brands","fa-instagram"],[1,"login"],["href","/login"],[1,"fa","fa-right-to-bracket"]],template:function(t,r){t&1&&(De(0,"nav")(1,"div",0)(2,"div",1)(3,"div")(4,"a",2),on(5,"i",3),be()(),De(6,"div")(7,"a",4),on(8,"i",5),be()(),De(9,"div")(10,"a",6),on(11,"i",7),be()()(),De(12,"div",8)(13,"button")(14,"a",9),on(15,"i",10),be()()()()())},styles:["nav[_ngcontent-%COMP%]{background:transparent;position:fixed;z-index:200;margin-top:1em;width:100%}.socials-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.socials-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1em}.socials-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.2em;padding:.5em;transition:.5s}.socials-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f06292;cursor:pointer}.socials[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:10%;padding-left:1em}.socials[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:1.2em;padding:.5em;transition:.5s}.socials[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f06292;cursor:pointer}button[_ngcontent-%COMP%]{background:#23262d;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;border-radius:5px;transition:all .3s}"]})};var Ud=class n{title="styffen.github.io";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Zr({type:n,selectors:[["app-root"]],standalone:!0,features:[ti],decls:2,vars:0,template:function(t,r){t&1&&on(0,"app-menu")(1,"router-outlet")},dependencies:[dR,xd]})};var Pd=class n{constructor(e){this.document=e;this.document.addEventListener("DOMContentLoaded",()=>{let i=e.querySelector(".interactive"),s=0,o=0,a=0,c=0;function l(){s+=(a-s)/20,o+=(c-o)/20,i.style.transform=`translate(${Math.round(s)}px, ${Math.round(o)}px)`,requestAnimationFrame(()=>{l()})}window.addEventListener("mousemove",u=>{a=u.clientX,c=u.clientY}),l()});let t=this.document.getElementById("design"),r=this.document.getElementById("build");t?.addEventListener("mouseover",()=>{let i=this.document.querySelector(".interactive");console.log(i),i instanceof HTMLElement&&(i.style.background=`radial-gradient(
          circle at center,
          rgba(240, 98, 146, 0.8) 0%,
          rgba(240, 98, 146, 0) 50%
        ) no-repeat`)}),r?.addEventListener("mouseover",()=>{let i=this.document.querySelector(".interactive");console.log(i),i instanceof HTMLElement&&(i.style.background=`radial-gradient(
          circle at center,
          rgba(100, 255, 218, 0.8) 0%,
          rgba(100, 255, 218  , 0) 50%
        ) no-repeat`)})}static \u0275fac=function(t){return new(t||n)(dt(Fd))};static \u0275cmp=Zr({type:n,selectors:[["app-home"]],standalone:!0,features:[ti],decls:19,vars:0,consts:[[1,"text-container",2,"display","flex","flex-direction","column"],["src","assets/steffen.png"],[1,"welcome"],["id","design",1,"pink"],["id","build",1,"blue"],[1,"gradient-bg"],[1,"gradients-container"],[1,"interactive"]],template:function(t,r){t&1&&(De(0,"div",0)(1,"div"),on(2,"img",1),be(),De(3,"div",2),We(4," Hello!"),on(5,"br"),We(6,"I'm Steffen."),on(7,"br"),We(8," I "),De(9,"span",3),We(10,"design"),be(),We(11," & "),De(12,"span",4),We(13,"build"),be(),on(14,"br"),We(15,"web applications. "),be()(),De(16,"div",5)(17,"div",6),on(18,"div",7),be()())},styles:[".pink[_ngcontent-%COMP%]{color:#f06292}.blue[_ngcontent-%COMP%]{color:#64ffda}.text-container[_ngcontent-%COMP%]{z-index:100;width:100vw;height:100vh;display:flex;position:absolute;top:0;left:0;justify-content:center;align-items:center;font-size:2em;color:#fff;opacity:.8;-webkit-user-select:none;user-select:none;text-shadow:1px 1px rgba(0,0,0,.1)}@keyframes _ngcontent-%COMP%_moveInCircle{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_moveVertical{0%{transform:translateY(-50%)}50%{transform:translateY(50%)}to{transform:translateY(-50%)}}@keyframes _ngcontent-%COMP%_moveHorizontal{0%{transform:translate(-50%) translateY(-10%)}50%{transform:translate(50%) translateY(10%)}to{transform:translate(-50%) translateY(-10%)}}.gradient-bg[_ngcontent-%COMP%]{width:100vw;height:100vh;position:relative;overflow:hidden;background:#000;top:0;left:0}.gradient-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.gradient-bg[_ngcontent-%COMP%]   .gradients-container[_ngcontent-%COMP%]{filter:blur(40px);width:100%;height:100%}.gradient-bg[_ngcontent-%COMP%]   .interactive[_ngcontent-%COMP%]{position:absolute;background:radial-gradient(circle at center,rgba(var(--color-interactive),.8) 0,rgba(var(--color-interactive),0) 50%) no-repeat;mix-blend-mode:var(--blending);width:100%;height:100%;top:-50%;left:-50%;opacity:.7}"]})};var BI={};s4(BI,{FirebaseError:()=>Yt,SDK_VERSION:()=>Fn,_DEFAULT_ENTRY_NAME:()=>ii,_addComponent:()=>za,_addOrOverwriteComponent:()=>yI,_apps:()=>ys,_clearComponents:()=>s3,_components:()=>Ja,_getProvider:()=>Mn,_isFirebaseApp:()=>qR,_isFirebaseServerApp:()=>Do,_registerComponent:()=>Vt,_removeServiceInstance:()=>GR,_serverApps:()=>Wa,deleteApp:()=>Nu,getApp:()=>Ln,getApps:()=>ku,initializeApp:()=>Ka,initializeServerApp:()=>HR,onLog:()=>jd,registerVersion:()=>de,setLogLevel:()=>$d});var Vd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var G=function(n,e){if(!n)throw _o(e)},_o=function(n){return new Error("Firebase Database ("+Vd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var mR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},o4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4,A=(a&15)<<2|l>>6,d=l&63;c||(d=64,o||(A=64)),r.push(t[u],t[h],t[A],t[d])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):o4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new ZC;let A=s<<2|a>>4;if(r.push(A),l!==64){let d=a<<4&240|l>>2;if(r.push(d),h!==64){let C=l<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ZC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tI=function(n){let e=mR(n);return qd.encodeByteArray(e,!0)},vu=function(n){return tI(n).replace(/\./g,"")},_u=function(n){try{return qd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ER(n){return qa(void 0,n)}function qa(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!a4(t)||(n[t]=qa(n[t],e[t]));return n}function a4(n){return n!=="__proto__"}function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var c4=()=>nI().__FIREBASE_DEFAULTS__,l4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_u(n[1]);return e&&JSON.parse(e)},rI=()=>{try{return c4()||l4()||u4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iI=n=>{var e,t;return(t=(e=rI())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Is=n=>{let e=iI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sI=()=>{var n;return(n=rI())===null||n===void 0?void 0:n.config};var vo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ha(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vu(JSON.stringify(t)),vu(JSON.stringify(o)),""].join(".")}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Su(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function h4(){var n;let e=(n=rI())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof window<"u"||oI()}function oI(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ni(){return Vd.NODE_CLIENT===!0||Vd.NODE_ADMIN===!0}function BR(){return!h4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aI(){try{return typeof indexedDB=="object"}catch{return!1}}function wR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var A4="FirebaseError",Yt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=A4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}},$n=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?d4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}};function d4(n,e){return n.replace(f4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var f4=/\{\$([^}]+)}/g;function Ga(n){return JSON.parse(n)}function Rt(n){return JSON.stringify(n)}var QR=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=Ga(_u(s[0])||""),t=Ga(_u(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var vR=function(n){let e=QR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},_R=function(n){let e=QR(n).claims;return typeof e=="object"&&e.admin===!0};function Nn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function So(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function cI(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bu(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function bo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(pR(s)&&pR(o)){if(!bo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function pR(n){return n!==null&&typeof n=="object"}function Tu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Gd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){let A=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(A<<1|A>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let h=0;h<80;h++){h<40?h<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):h<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let A=(i<<5|i>>>27)+l+c+u+r[h]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=A}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Yd(n,e){let t=new eI(n,e);return t.subscribe.bind(t)}var eI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");g4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=XC),i.error===void 0&&(i.error=XC),i.complete===void 0&&(i.complete=XC);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function g4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function XC(){}function SR(n,e){return`${n} failed: ${e} argument `}var bR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,G(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Du=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var bBe=4*60*60*1e3;function Wt(n){return n&&n._delegate?n._delegate:n}Vd.NODE_CLIENT=!0;var yt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var To="[DEFAULT]";var Wd=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new vo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p4(n){return n===To?void 0:n}function m4(n){return n.instantiationMode==="EAGER"}var Ya=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Wd(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var lI=[],Ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ae||{}),TR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},E4=Ae.INFO,C4={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},I4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=C4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xn=class{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=I4,this._userLogHandler=null,lI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};function DR(n){lI.forEach(e=>{e.setLogLevel(n)})}function RR(n,e){for(let t of lI){let r=null;e&&e.level&&(r=TR[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{let a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&n({level:Ae[s].toLowerCase(),message:a,args:o,type:i.name})}}}var y4=(n,e)=>e.some(t=>n instanceof t),kR,NR;function B4(){return kR||(kR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w4(){return NR||(NR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MR=new WeakMap,hI=new WeakMap,FR=new WeakMap,uI=new WeakMap,dI=new WeakMap;function Q4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ri(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&MR.set(t,n)}).catch(()=>{}),dI.set(e,n),e}function v4(n){if(hI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hI.set(n,e)}var AI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LR(n){AI=n(AI)}function _4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Jd(this),e,...t);return FR.set(r,e.sort?e.sort():[e]),ri(r)}:w4().includes(n)?function(...e){return n.apply(Jd(this),e),ri(MR.get(this))}:function(...e){return ri(n.apply(Jd(this),e))}}function S4(n){return typeof n=="function"?_4(n):(n instanceof IDBTransaction&&v4(n),y4(n,B4())?new Proxy(n,AI):n)}function ri(n){if(n instanceof IDBRequest)return Q4(n);if(uI.has(n))return uI.get(n);let e=S4(n);return e!==n&&(uI.set(n,e),dI.set(e,n)),e}var Jd=n=>dI.get(n);function OR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ri(o.result),c.oldVersion,c.newVersion,ri(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var b4=["get","getKey","getAll","getAllKeys","count"],T4=["put","add","delete","clear"],fI=new Map;function xR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fI.get(e))return fI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=T4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b4.includes(t)))return;let s=function(o,...a){return I(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return fI.set(e,s),s}LR(n=>q(k({},n),{get:(e,t,r)=>xR(e,t)||n.get(e,t,r),has:(e,t)=>!!xR(e,t)||n.has(e,t)}));var pI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function D4(n){let e=n.getComponent();return e?.type==="VERSION"}var zd="@firebase/app",mI="0.10.13";var Gi=new Xn("@firebase/app"),R4="@firebase/app-compat",k4="@firebase/analytics-compat",N4="@firebase/analytics",M4="@firebase/app-check-compat",F4="@firebase/app-check",L4="@firebase/auth",x4="@firebase/auth-compat",O4="@firebase/database",U4="@firebase/data-connect",P4="@firebase/database-compat",V4="@firebase/functions",G4="@firebase/functions-compat",q4="@firebase/installations",H4="@firebase/installations-compat",Y4="@firebase/messaging",W4="@firebase/messaging-compat",J4="@firebase/performance",z4="@firebase/performance-compat",K4="@firebase/remote-config",j4="@firebase/remote-config-compat",$4="@firebase/storage",X4="@firebase/storage-compat",Z4="@firebase/firestore",e3="@firebase/vertexai-preview",t3="@firebase/firestore-compat",n3="firebase",r3="10.14.1";var ii="[DEFAULT]",i3={[zd]:"fire-core",[R4]:"fire-core-compat",[N4]:"fire-analytics",[k4]:"fire-analytics-compat",[F4]:"fire-app-check",[M4]:"fire-app-check-compat",[L4]:"fire-auth",[x4]:"fire-auth-compat",[O4]:"fire-rtdb",[U4]:"fire-data-connect",[P4]:"fire-rtdb-compat",[V4]:"fire-fn",[G4]:"fire-fn-compat",[q4]:"fire-iid",[H4]:"fire-iid-compat",[Y4]:"fire-fcm",[W4]:"fire-fcm-compat",[J4]:"fire-perf",[z4]:"fire-perf-compat",[K4]:"fire-rc",[j4]:"fire-rc-compat",[$4]:"fire-gcs",[X4]:"fire-gcs-compat",[Z4]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};var ys=new Map,Wa=new Map,Ja=new Map;function za(n,e){try{n.container.addComponent(e)}catch(t){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yI(n,e){n.container.addOrOverwriteComponent(e)}function Vt(n){let e=n.name;if(Ja.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Ja.set(e,n);for(let t of ys.values())za(t,n);for(let t of Wa.values())za(t,n);return!0}function Mn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function GR(n,e,t=ii){Mn(n,e).clearInstance(t)}function qR(n){return n.options!==void 0}function Do(n){return n.settings!==void 0}function s3(){Ja.clear()}var o3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new $n("app","Firebase",o3);var Kd=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}};var EI=class extends Kd{constructor(e,t,r,i){let s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,de(zd,mI,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Nu(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zn.create("server-app-deleted")}};var Fn=r3;function Ka(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ii,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(t||(t=sI()),!t)throw Zn.create("no-options");let s=ys.get(i);if(s){if(bo(t,s.options)&&bo(r,s.config))return s;throw Zn.create("duplicate-app",{appName:i})}let o=new Ya(i);for(let c of Ja.values())o.addComponent(c);let a=new Kd(t,r,o);return ys.set(i,a),a}function HR(n,e){if(CR()&&!oI())throw Zn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;qR(n)?t=n.options:t=n;let r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((u,h)=>Math.imul(31,u)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Zn.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=Wa.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let a=new Ya(s);for(let l of Ja.values())a.addComponent(l);let c=new EI(t,e,s,a);return Wa.set(s,c),c}function Ln(n=ii){let e=ys.get(n);if(!e&&n===ii&&sI())return Ka();if(!e)throw Zn.create("no-app",{appName:n});return e}function ku(){return Array.from(ys.values())}function Nu(n){return I(this,null,function*(){let e=!1,t=n.name;ys.has(t)?(e=!0,ys.delete(t)):Wa.has(t)&&n.decRefCount()<=0&&(Wa.delete(t),e=!0),e&&(yield Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)})}function de(n,e,t){var r;let i=(r=i3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}Vt(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jd(n,e){if(n!==null&&typeof n!="function")throw Zn.create("invalid-log-argument");RR(n,e)}function $d(n){DR(n)}var a3="firebase-heartbeat-database",c3=1,Ru="firebase-heartbeat-store",gI=null;function YR(){return gI||(gI=OR(a3,c3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zn.create("idb-open",{originalErrorMessage:n.message})})),gI}function l3(n){return I(this,null,function*(){try{let t=(yield YR()).transaction(Ru),r=yield t.objectStore(Ru).get(WR(n));return yield t.done,r}catch(e){if(e instanceof Yt)Gi.warn(e.message);else{let t=Zn.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(t.message)}}})}function UR(n,e){return I(this,null,function*(){try{let r=(yield YR()).transaction(Ru,"readwrite");yield r.objectStore(Ru).put(e,WR(n)),yield r.done}catch(t){if(t instanceof Yt)Gi.warn(t.message);else{let r=Zn.create("idb-set",{originalErrorMessage:t?.message});Gi.warn(r.message)}}})}function WR(n){return`${n.name}!${n.options.appId}`}var u3=1024,h3=30*24*60*60*1e3,CI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new II(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=h3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gi.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=PR(),{heartbeatsToSend:r,unsentEntries:i}=A3(this._heartbeatsCache.heartbeats),s=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Gi.warn(t),""}})}};function PR(){return new Date().toISOString().substring(0,10)}function A3(n,e=u3){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var II=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return aI()?wR().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield l3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VR(n){return vu(JSON.stringify({version:2,heartbeats:n})).length}function d3(n){Vt(new yt("platform-logger",e=>new pI(e),"PRIVATE")),Vt(new yt("heartbeat",e=>new CI(e),"PRIVATE")),de(zd,mI,n),de(zd,mI,"esm2017"),de("fire-js","")}d3("");var f3="firebase",g3="10.14.1";de(f3,g3,"app");var xn=new YC("ANGULARFIRE2_VERSION");function si(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var _r=(n,e)=>{let t=e?[e]:ku(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},er=class{constructor(){return _r(p3)}},p3="app-check";function ja(){}var Xd=class{zone;delegate;constructor(e,t=xD){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},wI=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),t.pipe(UD({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},tr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Xd(Zone.current)),this.insideAngular=t.run(()=>new Xd(Zone.current,LD)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(PD(Pt))};static \u0275prov=wo({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function m3(n){return Zd().ngZone.runOutsideAngular(()=>n())}function Ro(n){return Zd().ngZone.run(()=>n())}function E3(n){return C3(Zd())(n)}function C3(n){return function(t){return t=t.lift(new wI(n.ngZone)),t.pipe(RC(n.outsideAngular),DC(n.insideAngular))}}var I3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ro(()=>n.apply(void 0,r))},En=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja))),r[s]=I3(r[s],t));let i=m3(()=>n.apply(this,r));if(!e)if(i instanceof Iu){let s=Zd();return i.pipe(RC(s.outsideAngular),DC(s.insideAngular))}else return Ro(()=>i);return i instanceof Iu?i.pipe(E3):i instanceof Promise?Ro(()=>new Promise((s,o)=>i.then(a=>Ro(()=>s(a)),a=>Ro(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ro(()=>i)};var an=class{constructor(e){return e}},On=class{constructor(){return ku()}};function y3(n){return n&&n.length===1?n[0]:new an(Ln())}var QI=new ot("angularfire2._apps"),B3={provide:an,useFactory:y3,deps:[[new Ue,QI]]},w3={provide:On,deps:[[new Ue,QI]]};function Q3(n){return(e,t)=>{let r=t.get(LC);de("angularfire",xn.full,"core"),de("angularfire",xn.full,"app"),de("angular",WC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new an(i)}}function JR(n,...e){return mn([B3,w3,{provide:QI,useFactory:Q3(n),multi:!0,deps:[Pt,Rn,tr,...e]}])}var zR=En(Ka,!0);var Gc=Bo(Mh(),1);function NU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MU=NU,FU=new $n("auth","Firebase",NU());var Zg=new Xn("@firebase/auth");function Nne(n,...e){Zg.logLevel<=Ae.WARN&&Zg.warn(`Auth (${Fn}): ${n}`,...e)}function $g(n,...e){Zg.logLevel<=Ae.ERROR&&Zg.error(`Auth (${Fn}): ${n}`,...e)}function Fw(n,...e){throw Yw(n,...e)}function Hw(n,...e){return Yw(n,...e)}function LU(n,e,t){let r=Object.assign(Object.assign({},MU()),{[e]:t});return new $n("auth","Firebase",r).create(e,{appName:n.name})}function Xg(n){return LU(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return FU.create(n,...e)}function ve(n,e,...t){if(!n)throw Yw(e,...t)}function Fh(n){let e="INTERNAL ASSERTION FAILED: "+n;throw $g(e),new Error(e)}function ep(n,e){n||Fh(e)}function Mne(){return _U()==="http:"||_U()==="https:"}function _U(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Fne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mne()||yR()||"connection"in navigator)?navigator.onLine:!0}function Lne(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Lw=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ep(t>e,"Short delay should be less than long delay!"),this.isMobile=Su()||Hd()}get(){return Fne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xne(n,e){ep(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Oh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var One={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Une=new Lw(3e4,6e4);function xU(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function sp(s,o,a,c){return I(this,arguments,function*(n,e,t,r,i={}){return OU(n,i,()=>I(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let h=Tu(Object.assign({key:n.config.apiKey},u)).slice(1),A=yield n._getAdditionalHeaders();A["Content-Type"]="application/json",n.languageCode&&(A["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:A},l);return IR()||(d.referrerPolicy="no-referrer"),Oh.fetch()(UU(n,n.config.apiHost,t,h),d)}))})}function OU(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},One),e);try{let i=new xw(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw jg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw jg(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw jg(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw LU(n,u,l);Fw(n,u)}}catch(i){if(i instanceof Yt)throw i;Fw(n,"network-request-failed",{message:String(i)})}})}function UU(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?xne(n.config,i):`${n.config.apiScheme}://${i}`}var xw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hw(this.auth,"network-request-failed")),Une.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function jg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Hw(n,e,r);return i.customData._tokenResponse=t,i}function Pne(n,e){return I(this,null,function*(){return sp(n,"POST","/v1/accounts:delete",e)})}function PU(n,e){return I(this,null,function*(){return sp(n,"POST","/v1/accounts:lookup",e)})}function Lh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ww(n,e=!1){return I(this,null,function*(){let t=Wt(n),r=yield t.getIdToken(e),i=VU(r);ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lh(Nw(i.auth_time)),issuedAtTime:Lh(Nw(i.iat)),expirationTime:Lh(Nw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Nw(n){return Number(n)*1e3}function VU(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $g("JWT malformed, contained fewer than 3 sections"),null;try{let i=_u(t);return i?JSON.parse(i):($g("Failed to decode base64 JWT payload"),null)}catch(i){return $g("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SU(n){let e=VU(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ow(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Yt&&Vne(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Vne({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Uw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lh(this.lastLoginAt),this.creationTime=Lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tp(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ow(n,PU(t,{idToken:r}));ve(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GU(s.providerUserInfo):[],a=Gne(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Uh(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function Jw(n){return I(this,null,function*(){let e=Wt(n);yield tp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Gne(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GU(n){return n.map(e=>{var{providerId:t}=e,r=TC(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qne(n,e){return I(this,null,function*(){let t=yield OU(n,{},()=>I(this,null,function*(){let r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=UU(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Oh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Hne(n,e){return I(this,null,function*(){return sp(n,"POST","/v2/accounts:revokeToken",xU(n,e))})}var xh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");let t=SU(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qne(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fh("not implemented")}};function Os(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ph=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=TC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uh(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Ow(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Ww(this,e)}reload(){return Jw(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield tp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Do(this.auth.app))return Promise.reject(Xg(this.auth));let e=yield this.getIdToken();return yield Ow(this,Pne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(i=t.email)!==null&&i!==void 0?i:void 0,d=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,y=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,_=(l=t.createdAt)!==null&&l!==void 0?l:void 0,S=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:R,emailVerified:D,isAnonymous:N,providerData:x,stsTokenManager:Q}=t;ve(R&&Q,e,"internal-error");let E=xh.fromJSON(this.name,Q);ve(typeof R=="string",e,"internal-error"),Os(h,e.name),Os(A,e.name),ve(typeof D=="boolean",e,"internal-error"),ve(typeof N=="boolean",e,"internal-error"),Os(d,e.name),Os(C,e.name),Os(m,e.name),Os(y,e.name),Os(_,e.name),Os(S,e.name);let w=new n({uid:R,auth:e,email:A,emailVerified:D,displayName:h,isAnonymous:N,photoURL:C,phoneNumber:d,tenantId:m,stsTokenManager:E,createdAt:_,lastLoginAt:S});return x&&Array.isArray(x)&&(w.providerData=x.map(v=>Object.assign({},v))),y&&(w._redirectEventId=y),w}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new xh;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tp(s),s})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];ve(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?GU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new xh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Uh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var bU=new Map;function ta(n){ep(n instanceof Function,"Expected a class definition");let e=bU.get(n);return e?(ep(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bU.set(n,e),e)}var Yne=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Pw=Yne;function Mw(n,e,t){return`firebase:${n}:${e}:${t}`}var np=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Mw(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mw("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ph._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(ta(Pw),e,r);let i=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ta(Pw),o=Mw(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let h=Ph._fromJSON(e,u);l!==s&&(a=h),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function TU(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kne(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wne(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($ne(e))return"Blackberry";if(Xne(e))return"Webos";if(Jne(e))return"Safari";if((e.includes("chrome/")||zne(e))&&!e.includes("edge/"))return"Chrome";if(jne(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Wne(n=kn()){return/firefox\//i.test(n)}function Jne(n=kn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zne(n=kn()){return/crios\//i.test(n)}function Kne(n=kn()){return/iemobile/i.test(n)}function jne(n=kn()){return/android/i.test(n)}function $ne(n=kn()){return/blackberry/i.test(n)}function Xne(n=kn()){return/webos/i.test(n)}function qU(n,e=[]){let t;switch(n){case"Browser":t=TU(kn());break;case"Worker":t=`${TU(kn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fn}/${r}`}var Vw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Zne(t){return I(this,arguments,function*(n,e={}){return sp(n,"GET","/v2/passwordPolicy",xU(n,e))})}var ere=6,Gw=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ere,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var rp=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ip(this),this.idTokenSubscription=new ip(this),this.beforeStateQueue=new Vw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ta(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield np.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield PU(this,{idToken:e}),r=yield Ph._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Do(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield tp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Lne()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Do(this.app))return Promise.reject(Xg(this));let t=e?Wt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Do(this.app)?Promise.reject(Xg(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Do(this.app)?Promise.reject(Xg(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(ta(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield Zne(this),t=new Gw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Hne(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ta(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=yield np.create(this,[ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Nne(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function HU(n){return Wt(n)}var ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yd(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function zw(n,e){let t=Mn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(bo(s,e??{}))return i;Fw(i,"already-initialized")}return t.initialize({options:e})}function tre(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ta);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kw(n,e,t){let r=HU(n);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=YU(e),{host:o,port:a}=nre(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rre()}function YU(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nre(n){let e=YU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:DU(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:DU(o)}}}function DU(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function rre(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var RU="@firebase/auth",kU="1.7.9";var qw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ire(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sre(n){Vt(new yt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qU(n)},l=new rp(r,i,s,c);return tre(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vt(new yt("auth-internal",e=>{let t=HU(e.getProvider("auth").getImmediate());return(r=>new qw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),de(RU,kU,ire(n)),de(RU,kU,"esm2017")}Oh.initialize(Gc.fetch,Gc.Headers,Gc.Response);function jw(n=Ln()){let e=Mn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=zw(n),r=iI("auth");return r&&Kw(t,`http://${r}`),t}sre("Node");var $ve=Hw("operation-not-supported-in-this-environment");rp.prototype.setPersistence=()=>I(void 0,null,function*(){});var R_e=Bo(Mh(),1);var WU="auth",Vh=class{constructor(e){return e}},Lr=class{constructor(){return _r(WU)}};var $w=new ot("angularfire2.auth-instances");function tie(n,e){let t=si(WU,n,e);return t&&new Vh(t)}function nie(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Vh(r)}}var rie={provide:Lr,deps:[[new Ue,$w]]},iie={provide:Vh,useFactory:tie,deps:[[new Ue,$w],an]};function JU(n,...e){return de("angularfire",xn.full,"auth"),mn([iie,rie,{provide:$w,useFactory:nie(n),multi:!0,deps:[Pt,Rn,tr,On,[new Ue,er],...e]}])}var zU=En(jw,!0);import{inspect as gAe,TextEncoder as pAe,TextDecoder as ibe}from"util";import{randomBytes as mAe}from"crypto";var KU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jU={};var Us,Xw;(function(){var n;function e(Q,E){function w(){}w.prototype=E.prototype,Q.D=E.prototype,Q.prototype=new w,Q.prototype.constructor=Q,Q.C=function(v,g,b){for(var f=Array(arguments.length-2),p=2;p<arguments.length;p++)f[p-2]=arguments[p];return E.prototype[g].apply(v,f)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(Q,E,w){w||(w=0);var v=Array(16);if(typeof E=="string")for(var g=0;16>g;++g)v[g]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(g=0;16>g;++g)v[g]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=Q.g[0],w=Q.g[1],g=Q.g[2];var b=Q.g[3],f=E+(b^w&(g^b))+v[0]+3614090360&4294967295;E=w+(f<<7&4294967295|f>>>25),f=b+(g^E&(w^g))+v[1]+3905402710&4294967295,b=E+(f<<12&4294967295|f>>>20),f=g+(w^b&(E^w))+v[2]+606105819&4294967295,g=b+(f<<17&4294967295|f>>>15),f=w+(E^g&(b^E))+v[3]+3250441966&4294967295,w=g+(f<<22&4294967295|f>>>10),f=E+(b^w&(g^b))+v[4]+4118548399&4294967295,E=w+(f<<7&4294967295|f>>>25),f=b+(g^E&(w^g))+v[5]+1200080426&4294967295,b=E+(f<<12&4294967295|f>>>20),f=g+(w^b&(E^w))+v[6]+2821735955&4294967295,g=b+(f<<17&4294967295|f>>>15),f=w+(E^g&(b^E))+v[7]+4249261313&4294967295,w=g+(f<<22&4294967295|f>>>10),f=E+(b^w&(g^b))+v[8]+1770035416&4294967295,E=w+(f<<7&4294967295|f>>>25),f=b+(g^E&(w^g))+v[9]+2336552879&4294967295,b=E+(f<<12&4294967295|f>>>20),f=g+(w^b&(E^w))+v[10]+4294925233&4294967295,g=b+(f<<17&4294967295|f>>>15),f=w+(E^g&(b^E))+v[11]+2304563134&4294967295,w=g+(f<<22&4294967295|f>>>10),f=E+(b^w&(g^b))+v[12]+1804603682&4294967295,E=w+(f<<7&4294967295|f>>>25),f=b+(g^E&(w^g))+v[13]+4254626195&4294967295,b=E+(f<<12&4294967295|f>>>20),f=g+(w^b&(E^w))+v[14]+2792965006&4294967295,g=b+(f<<17&4294967295|f>>>15),f=w+(E^g&(b^E))+v[15]+1236535329&4294967295,w=g+(f<<22&4294967295|f>>>10),f=E+(g^b&(w^g))+v[1]+4129170786&4294967295,E=w+(f<<5&4294967295|f>>>27),f=b+(w^g&(E^w))+v[6]+3225465664&4294967295,b=E+(f<<9&4294967295|f>>>23),f=g+(E^w&(b^E))+v[11]+643717713&4294967295,g=b+(f<<14&4294967295|f>>>18),f=w+(b^E&(g^b))+v[0]+3921069994&4294967295,w=g+(f<<20&4294967295|f>>>12),f=E+(g^b&(w^g))+v[5]+3593408605&4294967295,E=w+(f<<5&4294967295|f>>>27),f=b+(w^g&(E^w))+v[10]+38016083&4294967295,b=E+(f<<9&4294967295|f>>>23),f=g+(E^w&(b^E))+v[15]+3634488961&4294967295,g=b+(f<<14&4294967295|f>>>18),f=w+(b^E&(g^b))+v[4]+3889429448&4294967295,w=g+(f<<20&4294967295|f>>>12),f=E+(g^b&(w^g))+v[9]+568446438&4294967295,E=w+(f<<5&4294967295|f>>>27),f=b+(w^g&(E^w))+v[14]+3275163606&4294967295,b=E+(f<<9&4294967295|f>>>23),f=g+(E^w&(b^E))+v[3]+4107603335&4294967295,g=b+(f<<14&4294967295|f>>>18),f=w+(b^E&(g^b))+v[8]+1163531501&4294967295,w=g+(f<<20&4294967295|f>>>12),f=E+(g^b&(w^g))+v[13]+2850285829&4294967295,E=w+(f<<5&4294967295|f>>>27),f=b+(w^g&(E^w))+v[2]+4243563512&4294967295,b=E+(f<<9&4294967295|f>>>23),f=g+(E^w&(b^E))+v[7]+1735328473&4294967295,g=b+(f<<14&4294967295|f>>>18),f=w+(b^E&(g^b))+v[12]+2368359562&4294967295,w=g+(f<<20&4294967295|f>>>12),f=E+(w^g^b)+v[5]+4294588738&4294967295,E=w+(f<<4&4294967295|f>>>28),f=b+(E^w^g)+v[8]+2272392833&4294967295,b=E+(f<<11&4294967295|f>>>21),f=g+(b^E^w)+v[11]+1839030562&4294967295,g=b+(f<<16&4294967295|f>>>16),f=w+(g^b^E)+v[14]+4259657740&4294967295,w=g+(f<<23&4294967295|f>>>9),f=E+(w^g^b)+v[1]+2763975236&4294967295,E=w+(f<<4&4294967295|f>>>28),f=b+(E^w^g)+v[4]+1272893353&4294967295,b=E+(f<<11&4294967295|f>>>21),f=g+(b^E^w)+v[7]+4139469664&4294967295,g=b+(f<<16&4294967295|f>>>16),f=w+(g^b^E)+v[10]+3200236656&4294967295,w=g+(f<<23&4294967295|f>>>9),f=E+(w^g^b)+v[13]+681279174&4294967295,E=w+(f<<4&4294967295|f>>>28),f=b+(E^w^g)+v[0]+3936430074&4294967295,b=E+(f<<11&4294967295|f>>>21),f=g+(b^E^w)+v[3]+3572445317&4294967295,g=b+(f<<16&4294967295|f>>>16),f=w+(g^b^E)+v[6]+76029189&4294967295,w=g+(f<<23&4294967295|f>>>9),f=E+(w^g^b)+v[9]+3654602809&4294967295,E=w+(f<<4&4294967295|f>>>28),f=b+(E^w^g)+v[12]+3873151461&4294967295,b=E+(f<<11&4294967295|f>>>21),f=g+(b^E^w)+v[15]+530742520&4294967295,g=b+(f<<16&4294967295|f>>>16),f=w+(g^b^E)+v[2]+3299628645&4294967295,w=g+(f<<23&4294967295|f>>>9),f=E+(g^(w|~b))+v[0]+4096336452&4294967295,E=w+(f<<6&4294967295|f>>>26),f=b+(w^(E|~g))+v[7]+1126891415&4294967295,b=E+(f<<10&4294967295|f>>>22),f=g+(E^(b|~w))+v[14]+2878612391&4294967295,g=b+(f<<15&4294967295|f>>>17),f=w+(b^(g|~E))+v[5]+4237533241&4294967295,w=g+(f<<21&4294967295|f>>>11),f=E+(g^(w|~b))+v[12]+1700485571&4294967295,E=w+(f<<6&4294967295|f>>>26),f=b+(w^(E|~g))+v[3]+2399980690&4294967295,b=E+(f<<10&4294967295|f>>>22),f=g+(E^(b|~w))+v[10]+4293915773&4294967295,g=b+(f<<15&4294967295|f>>>17),f=w+(b^(g|~E))+v[1]+2240044497&4294967295,w=g+(f<<21&4294967295|f>>>11),f=E+(g^(w|~b))+v[8]+1873313359&4294967295,E=w+(f<<6&4294967295|f>>>26),f=b+(w^(E|~g))+v[15]+4264355552&4294967295,b=E+(f<<10&4294967295|f>>>22),f=g+(E^(b|~w))+v[6]+2734768916&4294967295,g=b+(f<<15&4294967295|f>>>17),f=w+(b^(g|~E))+v[13]+1309151649&4294967295,w=g+(f<<21&4294967295|f>>>11),f=E+(g^(w|~b))+v[4]+4149444226&4294967295,E=w+(f<<6&4294967295|f>>>26),f=b+(w^(E|~g))+v[11]+3174756917&4294967295,b=E+(f<<10&4294967295|f>>>22),f=g+(E^(b|~w))+v[2]+718787259&4294967295,g=b+(f<<15&4294967295|f>>>17),f=w+(b^(g|~E))+v[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+E&4294967295,Q.g[1]=Q.g[1]+(g+(f<<21&4294967295|f>>>11))&4294967295,Q.g[2]=Q.g[2]+g&4294967295,Q.g[3]=Q.g[3]+b&4294967295}r.prototype.u=function(Q,E){E===void 0&&(E=Q.length);for(var w=E-this.blockSize,v=this.B,g=this.h,b=0;b<E;){if(g==0)for(;b<=w;)i(this,Q,b),b+=this.blockSize;if(typeof Q=="string"){for(;b<E;)if(v[g++]=Q.charCodeAt(b++),g==this.blockSize){i(this,v),g=0;break}}else for(;b<E;)if(v[g++]=Q[b++],g==this.blockSize){i(this,v),g=0;break}}this.h=g,this.o+=E},r.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var E=1;E<Q.length-8;++E)Q[E]=0;var w=8*this.o;for(E=Q.length-8;E<Q.length;++E)Q[E]=w&255,w/=256;for(this.u(Q),Q=Array(16),E=w=0;4>E;++E)for(var v=0;32>v;v+=8)Q[w++]=this.g[E]>>>v&255;return Q};function s(Q,E){var w=a;return Object.prototype.hasOwnProperty.call(w,Q)?w[Q]:w[Q]=E(Q)}function o(Q,E){this.h=E;for(var w=[],v=!0,g=Q.length-1;0<=g;g--){var b=Q[g]|0;v&&b==E||(w[g]=b,v=!1)}this.g=w}var a={};function c(Q){return-128<=Q&&128>Q?s(Q,function(E){return new o([E|0],0>E?-1:0)}):new o([Q|0],0>Q?-1:0)}function l(Q){if(isNaN(Q)||!isFinite(Q))return h;if(0>Q)return y(l(-Q));for(var E=[],w=1,v=0;Q>=w;v++)E[v]=Q/w|0,w*=4294967296;return new o(E,0)}function u(Q,E){if(Q.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(Q.charAt(0)=="-")return y(u(Q.substring(1),E));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(E,8)),v=h,g=0;g<Q.length;g+=8){var b=Math.min(8,Q.length-g),f=parseInt(Q.substring(g,g+b),E);8>b?(b=l(Math.pow(E,b)),v=v.j(b).add(l(f))):(v=v.j(w),v=v.add(l(f)))}return v}var h=c(0),A=c(1),d=c(16777216);n=o.prototype,n.m=function(){if(m(this))return-y(this).m();for(var Q=0,E=1,w=0;w<this.g.length;w++){var v=this.i(w);Q+=(0<=v?v:4294967296+v)*E,E*=4294967296}return Q},n.toString=function(Q){if(Q=Q||10,2>Q||36<Q)throw Error("radix out of range: "+Q);if(C(this))return"0";if(m(this))return"-"+y(this).toString(Q);for(var E=l(Math.pow(Q,6)),w=this,v="";;){var g=D(w,E).g;w=_(w,g.j(E));var b=((0<w.g.length?w.g[0]:w.h)>>>0).toString(Q);if(w=g,C(w))return b+v;for(;6>b.length;)b="0"+b;v=b+v}},n.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h};function C(Q){if(Q.h!=0)return!1;for(var E=0;E<Q.g.length;E++)if(Q.g[E]!=0)return!1;return!0}function m(Q){return Q.h==-1}n.l=function(Q){return Q=_(this,Q),m(Q)?-1:C(Q)?0:1};function y(Q){for(var E=Q.g.length,w=[],v=0;v<E;v++)w[v]=~Q.g[v];return new o(w,~Q.h).add(A)}n.abs=function(){return m(this)?y(this):this},n.add=function(Q){for(var E=Math.max(this.g.length,Q.g.length),w=[],v=0,g=0;g<=E;g++){var b=v+(this.i(g)&65535)+(Q.i(g)&65535),f=(b>>>16)+(this.i(g)>>>16)+(Q.i(g)>>>16);v=f>>>16,b&=65535,f&=65535,w[g]=f<<16|b}return new o(w,w[w.length-1]&-2147483648?-1:0)};function _(Q,E){return Q.add(y(E))}n.j=function(Q){if(C(this)||C(Q))return h;if(m(this))return m(Q)?y(this).j(y(Q)):y(y(this).j(Q));if(m(Q))return y(this.j(y(Q)));if(0>this.l(d)&&0>Q.l(d))return l(this.m()*Q.m());for(var E=this.g.length+Q.g.length,w=[],v=0;v<2*E;v++)w[v]=0;for(v=0;v<this.g.length;v++)for(var g=0;g<Q.g.length;g++){var b=this.i(v)>>>16,f=this.i(v)&65535,p=Q.i(g)>>>16,P=Q.i(g)&65535;w[2*v+2*g]+=f*P,S(w,2*v+2*g),w[2*v+2*g+1]+=b*P,S(w,2*v+2*g+1),w[2*v+2*g+1]+=f*p,S(w,2*v+2*g+1),w[2*v+2*g+2]+=b*p,S(w,2*v+2*g+2)}for(v=0;v<E;v++)w[v]=w[2*v+1]<<16|w[2*v];for(v=E;v<2*E;v++)w[v]=0;return new o(w,0)};function S(Q,E){for(;(Q[E]&65535)!=Q[E];)Q[E+1]+=Q[E]>>>16,Q[E]&=65535,E++}function R(Q,E){this.g=Q,this.h=E}function D(Q,E){if(C(E))throw Error("division by zero");if(C(Q))return new R(h,h);if(m(Q))return E=D(y(Q),E),new R(y(E.g),y(E.h));if(m(E))return E=D(Q,y(E)),new R(y(E.g),E.h);if(30<Q.g.length){if(m(Q)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var w=A,v=E;0>=v.l(Q);)w=N(w),v=N(v);var g=x(w,1),b=x(v,1);for(v=x(v,2),w=x(w,2);!C(v);){var f=b.add(v);0>=f.l(Q)&&(g=g.add(w),b=f),v=x(v,1),w=x(w,1)}return E=_(Q,g.j(E)),new R(g,E)}for(g=h;0<=Q.l(E);){for(w=Math.max(1,Math.floor(Q.m()/E.m())),v=Math.ceil(Math.log(w)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),b=l(w),f=b.j(E);m(f)||0<f.l(Q);)w-=v,b=l(w),f=b.j(E);C(b)&&(b=A),g=g.add(b),Q=_(Q,f)}return new R(g,Q)}n.A=function(Q){return D(this,Q).h},n.and=function(Q){for(var E=Math.max(this.g.length,Q.g.length),w=[],v=0;v<E;v++)w[v]=this.i(v)&Q.i(v);return new o(w,this.h&Q.h)},n.or=function(Q){for(var E=Math.max(this.g.length,Q.g.length),w=[],v=0;v<E;v++)w[v]=this.i(v)|Q.i(v);return new o(w,this.h|Q.h)},n.xor=function(Q){for(var E=Math.max(this.g.length,Q.g.length),w=[],v=0;v<E;v++)w[v]=this.i(v)^Q.i(v);return new o(w,this.h^Q.h)};function N(Q){for(var E=Q.g.length+1,w=[],v=0;v<E;v++)w[v]=Q.i(v)<<1|Q.i(v-1)>>>31;return new o(w,Q.h)}function x(Q,E){var w=E>>5;E%=32;for(var v=Q.g.length-w,g=[],b=0;b<v;b++)g[b]=0<E?Q.i(b+w)>>>E|Q.i(b+w+1)<<32-E:Q.i(b+w);return new o(g,Q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xw=jU.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Us=jU.Integer=o}).apply(typeof KU<"u"?KU:typeof self<"u"?self:typeof window<"u"?window:{});var ga=Bo(BG(),1),sq=Bo(Jv(),1);var wG="@firebase/firestore",QG="4.7.3";var xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null);xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid");xt.FIRST_PARTY=new xt("first-party-uid");xt.MOCK_USER=new xt("mock-user");var EAe="10.14.0";var Kl=EAe;function CAe(n){Kl=n}function IAe(n){return gAe(n,{depth:100})}var pa=new Xn("@firebase/firestore");function wA(){return pa.logLevel}function K(n,...e){if(pa.logLevel<=Ae.DEBUG){let t=e.map(Z0);pa.debug(`Firestore (${Kl}): ${n}`,...t)}}function Wr(n,...e){if(pa.logLevel<=Ae.ERROR){let t=e.map(Z0);pa.error(`Firestore (${Kl}): ${n}`,...t)}}function Nl(n,...e){if(pa.logLevel<=Ae.WARN){let t=e.map(Z0);pa.warn(`Firestore (${Kl}): ${n}`,...t)}}function Z0(n){if(typeof n=="string")return n;try{return IAe(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function ht(n,e){n||ce()}function Ce(n,e){return n}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=class extends Yt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ls=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var iE=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vS=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xt.UNAUTHENTICATED))}shutdown(){}},_S=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},SS=class{constructor(e){this.authProvider=e,this.currentUser=xt.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.tokenListener===void 0);let r=this.tokenCounter,i=c=>this.tokenCounter!==r?(r=this.tokenCounter,t(c)):Promise.resolve(),s=new ls;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new ls,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),o())};this.authProvider.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.authProvider.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ls)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.tokenCounter!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new iE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new xt(e)}},bS=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},TS=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new bS(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},DS=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},RS=class{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){ht(this.tokenListener===void 0);let r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string"),this.latestAppCheckToken=t.token,new DS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}};function yAe(n){if(!n)return new vS;switch(n.type){case"firstParty":return new TS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function BAe(n){return mAe(n)}var kS=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=BAe(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}};function Ne(n,e){return n<e?-1:n>e?1:0}function ma(n,e,t){return n.length!==e.length?!1:n.every((r,i)=>t(r,e[i]))}var vG=-62135596800,_G=1e6,yr=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vG)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-t*1e3)*_G);return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/_G}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-vG,t=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return t+"."+r}};var ue=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new yr(0,0))}static max(){return new n(new yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var SG="__name__",sE=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(),r===void 0?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},_t=class n extends sE{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},wAe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jr=class n extends sE{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return wAe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SG}static keyField(){return new n([SG])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(!(c==="\\"||c==="."||c==="`"))throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(_t.fromString(e))}static fromName(e){return new n(_t.fromString(e).popFirst(5))}static empty(){return new n(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new n(new _t(e.slice()))}};var TA=-1;function QAe(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new yr(t+1,0):new yr(t,r));return new Ea(i,ie.empty(),e)}function vAe(n){return new Ea(n.readTime,n.key,TA)}var Ea=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),ie.empty(),TA)}static max(){return new n(ue.max(),ie.empty(),TA)}};function _Ae(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0||(t=ie.comparator(n.documentKey,e.documentKey),t!==0)?t:Ne(n.largestBatchId,e.largestBatchId)}var SAe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NS=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function eb(n){return I(this,null,function*(){if(n.code===H.FAILED_PRECONDITION&&n.message===SAe)K("LocalStore","Unexpectedly lost primary lease");else throw n})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function bAe(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function YA(n){return n.name==="IndexedDbTransactionError"}var cbe=15*1e3,lbe=60*1e3;var oq=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}n.INVALID=-1;return n})();var TAe="remoteDocuments";var aq="owner";var cq="mutationQueues";var lq="mutations";var uq="documentMutations",DAe="remoteDocumentsV14";var hq="remoteDocumentGlobal";var Aq="targets";var dq="targetDocuments";var fq="targetGlobal",gq="collectionParents";var pq="clientMetadata";var mq="bundles";var Eq="namedQueries";var RAe="indexConfiguration";var kAe="indexState";var NAe="indexEntries";var Cq="documentOverlays";var MAe="globals";var FAe=[cq,lq,uq,TAe,Aq,aq,fq,dq],LAe=FAe,xAe=[...LAe,pq],OAe=[...xAe,hq],UAe=[...OAe,gq],PAe=[...UAe,mq,Eq],ube=[...PAe,Cq],VAe=[cq,lq,uq,DAe,Aq,aq,fq,dq,pq,hq,gq,mq,Eq,Cq],GAe=VAe,qAe=[...GAe,RAe,kAe,NAe];var hbe=[...qAe,MAe];function bG(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bE(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HAe(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||vA.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vA.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vA.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}},Rl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vA=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return!t.left.isRed()&&!t.left.left.isRed()&&(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let t=this.left.check();if(t!==this.right.check())throw ce();return t+(this.isRed()?0:1)}}return n.EMPTY=null,n.RED=!0,n.BLACK=!1,n})(),MS=class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,s){return this}insert(e,t,r){return new vA(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};vA.EMPTY=new MS;var Xt=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(t!==void 0?r=this.data.getIteratorFrom(t):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},oE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Aa=class n{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xt(Jr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(t,r)=>t.isEqual(r))}};function YAe(n){return Buffer.from(n,"base64").toString("binary")}function WAe(n){return Buffer.from(n,"binary").toString("base64")}var Zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=YAe(e);return new n(t)}static fromUint8Array(e){let t=JAe(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return WAe(this.binaryString)}toUint8Array(){return zAe(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");function JAe(n){let e="";for(let t=0;t<n.length;++t)e+=String.fromCharCode(n[t]);return e}function zAe(n){let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}var KAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(n){if(ht(!!n),typeof n=="string"){let e=0,t=KAe.exec(n);if(ht(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=et(n.seconds),t=et(n.nanos);return{seconds:e,nanos:t}}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fo(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}var Iq="server_timestamp",yq="__type__",Bq="__previous_value__",wq="__local_write_time__";function tb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yq])===null||t===void 0?void 0:t.stringValue)===Iq}function jAe(n,e){let t={fields:{[yq]:{stringValue:Iq},[wq]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return e&&tb(e)&&(e=nb(e)),e&&(t.fields[Bq]=e),{mapValue:t}}function nb(n){let e=n.mapValue.fields[Bq];return tb(e)?nb(e):e}function DA(n){let e=us(n.mapValue.fields[wq].timestampValue);return new yr(e.seconds,e.nanos)}var FS=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},LS="(default)",aE=class n{constructor(e,t){this.projectId=e,this.database=t||LS}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===LS}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function $Ae(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aE(n.options.projectId,e)}var XAe=-1;function TE(n){return n==null}function cE(n){return n===0&&1/n===-1/0}var Qq="__type__",vq="__max__",eE={mapValue:{fields:{__type__:{stringValue:vq}}}},_q="__vector__",RA="value";function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tb(n)?4:Tq(n)?9007199254740991:bq(n)?10:11:ce()}function Yr(n,e){if(n===e)return!0;let t=Ca(n),r=Ca(e);if(t!==r)return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return DA(n).isEqual(DA(e));case 3:return ZAe(n,e);case 5:return n.stringValue===e.stringValue;case 6:return tde(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return ede(n,e);case 2:return nde(n,e);case 9:return ma(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return rde(n,e);case 9007199254740991:return!0;default:return ce()}}function ZAe(n,e){if(typeof n.timestampValue=="string"&&typeof e.timestampValue=="string"&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;let t=us(n.timestampValue),r=us(e.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}function ede(n,e){return et(n.geoPointValue.latitude)===et(e.geoPointValue.latitude)&&et(n.geoPointValue.longitude)===et(e.geoPointValue.longitude)}function tde(n,e){return fo(n.bytesValue).isEqual(fo(e.bytesValue))}function nde(n,e){if("integerValue"in n&&"integerValue"in e)return et(n.integerValue)===et(e.integerValue);if("doubleValue"in n&&"doubleValue"in e){let t=et(n.doubleValue),r=et(e.doubleValue);return t===r?cE(t)===cE(r):isNaN(t)&&isNaN(r)}return!1}function rde(n,e){let t=n.mapValue.fields||{},r=e.mapValue.fields||{};if(bG(t)!==bG(r))return!1;for(let i in t)if(t.hasOwnProperty(i)&&(r[i]===void 0||!Yr(t[i],r[i])))return!1;return!0}function kA(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function xl(n,e){if(n===e)return 0;let t=Ca(n),r=Ca(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return ide(n,e);case 3:return TG(n.timestampValue,e.timestampValue);case 4:return TG(DA(n),DA(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return ade(n.bytesValue,e.bytesValue);case 7:return sde(n.referenceValue,e.referenceValue);case 8:return ode(n.geoPointValue,e.geoPointValue);case 9:return Sq(n.arrayValue,e.arrayValue);case 10:return cde(n.mapValue,e.mapValue);case 11:return lde(n.mapValue,e.mapValue);default:throw ce()}}function ide(n,e){let t=et(n.integerValue||n.doubleValue),r=et(e.integerValue||e.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}function TG(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);let t=us(n),r=us(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function sde(n,e){let t=n.split("/"),r=e.split("/");for(let i=0;i<t.length&&i<r.length;i++){let s=Ne(t[i],r[i]);if(s!==0)return s}return Ne(t.length,r.length)}function ode(n,e){let t=Ne(et(n.latitude),et(e.latitude));return t!==0?t:Ne(et(n.longitude),et(e.longitude))}function ade(n,e){let t=fo(n),r=fo(e);return t.compareTo(r)}function Sq(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=xl(t[i],r[i]);if(s)return s}return Ne(t.length,r.length)}function cde(n,e){var t,r,i,s;let o=n.fields||{},a=e.fields||{},c=(t=o[RA])===null||t===void 0?void 0:t.arrayValue,l=(r=a[RA])===null||r===void 0?void 0:r.arrayValue,u=Ne(((i=c?.values)===null||i===void 0?void 0:i.length)||0,((s=l?.values)===null||s===void 0?void 0:s.length)||0);return u!==0?u:Sq(c,l)}function lde(n,e){if(n===eE.mapValue&&e===eE.mapValue)return 0;if(n===eE.mapValue)return 1;if(e===eE.mapValue)return-1;let t=n.fields||{},r=Object.keys(t),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=Ne(r[o],s[o]);if(a!==0)return a;let c=xl(t[r[o]],i[s[o]]);if(c!==0)return c}return Ne(r.length,s.length)}function Ol(n){return rb(n)}function rb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?hde(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ude(n.bytesValue):"referenceValue"in n?dde(n.referenceValue):"geoPointValue"in n?Ade(n.geoPointValue):"arrayValue"in n?gde(n.arrayValue):"mapValue"in n?fde(n.mapValue):ce()}function ude(n){return fo(n).toBase64()}function hde(n){let e=us(n);return`time(${e.seconds},${e.nanos})`}function Ade(n){return`geo(${n.latitude},${n.longitude})`}function dde(n){return ie.fromName(n).toString()}function fde(n){let e=Object.keys(n.fields||{}).sort(),t="{",r=!0;for(let i of e)r?r=!1:t+=",",t+=`${i}:${rb(n.fields[i])}`;return t+"}"}function gde(n){let e="[",t=!0;for(let r of n.values||[])t?t=!1:e+=",",e+=rb(r);return e+"]"}function xS(n){return!!n&&"integerValue"in n}function pde(n){return!!n&&"doubleValue"in n}function mde(n){return xS(n)||pde(n)}function ib(n){return!!n&&"arrayValue"in n}function DG(n){return!!n&&"nullValue"in n}function RG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mS(n){return!!n&&"mapValue"in n}function bq(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qq])===null||t===void 0?void 0:t.stringValue)===_q}function _A(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return bE(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_A(r)),e}else if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_A(n.arrayValue.values[t]);return e}else return Object.assign({},n)}function Tq(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vq}var Abe={mapValue:{fields:{[Qq]:{stringValue:_q},[RA]:{arrayValue:{}}}}};var cs=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=_A(t)}setAll(e){let t=Jr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=_A(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());mS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];(!mS(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bE(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(_A(this.value))}};var zr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),cs.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),cs.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),cs.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(ue.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function Ede(n,e,t){let r=e.data.field(n),i=t.data.field(n);return r!==null&&i!==null?xl(r,i):ce()}var Ul=class{constructor(e,t){this.position=e,this.inclusive=t}};function Dq(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField())r=ie.comparator(ie.fromName(o.referenceValue),t.key);else{let a=t.data.field(s.field);r=xl(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function Cde(n,e,t){let r=Dq(n,e,t);return n.inclusive?r>=0:r>0}function Ide(n,e,t){let r=Dq(n,e,t);return n.inclusive?r<=0:r<0}function kG(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++){let r=n.position[t],i=e.position[t];if(!Yr(r,i))return!1}return!0}var Pl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function yde(n){return n.field.canonicalString()+n.dir}function Bde(n){return`${n.field.canonicalString()} (${n.dir})`}function wde(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var lE=class{},Tt=class n extends lE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new US(e,t,r):t==="array-contains"?new GS(e,r):t==="in"?new qS(e,r):t==="not-in"?new HS(e,r):t==="array-contains-any"?new YS(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PS(e,r):new VS(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xl(t,this.value)):t!==null&&Ca(this.value)===Ca(t)&&this.matchesComparison(xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fi=class n extends lE{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new n(e,t)}matches(e){return Rq(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function Rq(n){return n.op==="and"}function kq(n){return Qde(n)&&Rq(n)}function Qde(n){for(let e of n.filters)if(e instanceof Fi)return!1;return!0}function OS(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ol(n.value);if(kq(n))return n.filters.map(e=>OS(e)).join(",");{let e=n.filters.map(t=>OS(t)).join(",");return`${n.op}(${e})`}}function Nq(n,e){if(n instanceof Tt)return vde(n,e);if(n instanceof Fi)return _de(n,e);ce()}function vde(n,e){return e instanceof Tt&&n.op===e.op&&n.field.isEqual(e.field)&&Yr(n.value,e.value)}function _de(n,e){return e instanceof Fi&&n.op===e.op&&n.filters.length===e.filters.length?n.filters.reduce((r,i,s)=>r&&Nq(i,e.filters[s]),!0):!1}function Mq(n){return n instanceof Tt?bde(n):n instanceof Fi?Sde(n):"Filter"}function Sde(n){return n.op.toString()+" {"+n.getFilters().map(Mq).join(" ,")+"}"}function bde(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`}var US=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},PS=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=Fq("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},VS=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Fq("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Fq(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var GS=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ib(t)&&kA(t.arrayValue,this.value)}},qS=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&kA(this.value.arrayValue,t)}},HS=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!kA(this.value.arrayValue,t)}},YS=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!ib(t)||!t.arrayValue.values?!1:t.arrayValue.values.some(r=>kA(this.value.arrayValue,r))}};var WS=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function NG(n,e=null,t=[],r=[],i=null,s=null,o=null){return new WS(n,e,t,r,i,s,o)}function sb(n){let e=Ce(n);if(e.memoizedCanonicalId===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>OS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>yde(r)).join(","),TE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ol(r)).join(",")),e.memoizedCanonicalId=t}return e.memoizedCanonicalId}function Tde(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>Mq(t)).join(", ")}]`),TE(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>Bde(t)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ol(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ol(t)).join(",")),`Target(${e})`}function ob(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wde(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nq(n.filters[t],e.filters[t]))return!1;return n.collectionGroup!==e.collectionGroup||!n.path.isEqual(e.path)||!kG(n.startAt,e.startAt)?!1:kG(n.endAt,e.endAt)}function JS(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vl=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function Dde(n,e,t,r,i,s,o,a){return new Vl(n,e,t,r,i,s,o,a)}function ab(n){return new Vl(n)}function Rde(n,e){return new Vl(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function MG(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kde(n){let e=new Xt(Jr.comparator);return n.filters.forEach(t=>{t.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function Nde(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Mde(n){return n.collectionGroup!==null}function NA(n){let e=Ce(n);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let t=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";kde(e).forEach(s=>{!t.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new Pl(s,r))}),t.has(Jr.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new Pl(Jr.keyField(),r))}return e.memoizedNormalizedOrderBy}function Mi(n){let e=Ce(n);return e.memoizedTarget||(e.memoizedTarget=Fde(e,NA(n))),e.memoizedTarget}function Fde(n,e){if(n.limitType==="F")return NG(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Pl(i.field,s)});let t=n.endAt?new Ul(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ul(n.startAt.position,n.startAt.inclusive):null;return NG(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zS(n,e,t){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function DE(n,e){return ob(Mi(n),Mi(e))&&n.limitType===e.limitType}function Lq(n){return`${sb(Mi(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${Tde(Mi(n))}; limitType=${n.limitType})`}function RE(n,e){return e.isFoundDocument()&&Lde(n,e)&&xde(n,e)&&Ode(n,e)&&Ude(n,e)}function Lde(n,e){let t=e.key.path;return n.collectionGroup!==null?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(t):ie.isDocumentKey(n.path)?n.path.isEqual(t):n.path.isImmediateParentOf(t)}function xde(n,e){for(let t of NA(n))if(!t.field.isKeyField()&&e.data.field(t.field)===null)return!1;return!0}function Ode(n,e){for(let t of n.filters)if(!t.matches(e))return!1;return!0}function Ude(n,e){return!(n.startAt&&!Ide(n.startAt,NA(n),e)||n.endAt&&!Cde(n.endAt,NA(n),e))}function Pde(n){return n.collectionGroup||(n.path.length%2===1?n.path.lastSegment():n.path.get(n.path.length-2))}function xq(n){return(e,t)=>{let r=!1;for(let i of NA(n)){let s=Vde(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vde(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):Ede(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var go=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,t]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bE(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return HAe(this.inner)}size(){return this.innerSize}};var Gde=new Et(ie.comparator);function po(){return Gde}var Oq=new Et(ie.comparator);function QA(...n){let e=Oq;for(let t of n)e=e.insert(t.key,t);return e}function qde(){return MA()}function Hde(n){let e=Oq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function da(){return MA()}function Uq(){return MA()}function MA(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}var dbe=new Et(ie.comparator);var Yde=new Xt(ie.comparator);function Se(...n){let e=Yde;for(let t of n)e=e.add(t);return e}var Wde=new Xt(Ne);function Jde(){return Wde}function zde(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cE(e)?"-0":e}}function Kde(n){return{integerValue:""+n}}var Gl=class{constructor(){this._=void 0}};function jde(n,e,t){return n instanceof FA?jAe(t,e):n instanceof ql?Pq(n,e):n instanceof Hl?Vq(n,e):efe(n,e)}function $de(n,e,t){return n instanceof ql?Pq(n,e):n instanceof Hl?Vq(n,e):t}function Xde(n,e){return n instanceof LA?mde(e)?e:{integerValue:0}:null}function Zde(n,e){return n instanceof ql&&e instanceof ql||n instanceof Hl&&e instanceof Hl?ma(n.elements,e.elements,Yr):n instanceof LA&&e instanceof LA?Yr(n.operand,e.operand):n instanceof FA&&e instanceof FA}var FA=class extends Gl{},ql=class extends Gl{constructor(e){super(),this.elements=e}};function Pq(n,e){let t=Gq(e);for(let r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Hl=class extends Gl{constructor(e){super(),this.elements=e}};function Vq(n,e){let t=Gq(e);for(let r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}var LA=class extends Gl{constructor(e,t){super(),this.serializer=e,this.operand=t}};function efe(n,e){let t=Xde(n,e),r=FG(t)+FG(n.operand);return xS(t)&&xS(n.operand)?Kde(r):zde(n.serializer,r)}function FG(n){return et(n.integerValue||n.doubleValue)}function Gq(n){return ib(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tfe(n,e){return n.field.isEqual(e.field)&&Zde(n.transform,e.transform)}function nfe(n,e){return n===void 0&&e===void 0?!0:n&&e?ma(n,e,(t,r)=>tfe(t,r)):!1}var SA=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists!==void 0?n.exists===e.isFoundDocument():!0}var xA=class{};function qq(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new KS(n.key,SA.none()):new OA(n.key,n.data,SA.none());{let t=n.data,r=cs.empty(),i=new Xt(Jr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yl(n.key,r,new Aa(i.toArray()),SA.none())}}function rfe(n,e,t){n instanceof OA?ife(n,e,t):n instanceof Yl?ofe(n,e,t):cfe(n,e,t)}function bA(n,e,t,r){return n instanceof OA?sfe(n,e,t,r):n instanceof Yl?afe(n,e,t,r):lfe(n,e,t)}function LG(n,e){return n.type!==e.type||!n.key.isEqual(e.key)||!n.precondition.isEqual(e.precondition)||!nfe(n.fieldTransforms,e.fieldTransforms)?!1:n.type===0?n.value.isEqual(e.value):n.type===1?n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask):!0}var OA=class extends xA{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function ife(n,e,t){let r=n.value.clone(),i=Yq(n.fieldTransforms,e,t.transformResults);r.setAll(i),e.convertToFoundDocument(t.version,r).setHasCommittedMutations()}function sfe(n,e,t,r){if(!kE(n.precondition,e))return t;let i=n.value.clone(),s=Wq(n.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Yl=class extends xA{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function ofe(n,e,t){if(!kE(n.precondition,e)){e.convertToUnknownDocument(t.version);return}let r=Yq(n.fieldTransforms,e,t.transformResults),i=e.data;i.setAll(Hq(n)),i.setAll(r),e.convertToFoundDocument(t.version,i).setHasCommittedMutations()}function afe(n,e,t,r){if(!kE(n.precondition,e))return t;let i=Wq(n.fieldTransforms,r,e),s=e.data;return s.setAll(Hq(n)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),t===null?null:t.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map(o=>o.field))}function Hq(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Yq(n,e,t){let r=new Map;ht(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$de(o,a,t[i]))}return r}function Wq(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,jde(s,o,e))}return r}var KS=class extends xA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function cfe(n,e,t){e.convertToNoDocument(t.version).setHasCommittedMutations()}function lfe(n,e,t){return kE(n.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):t}var jS=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];rfe(s,e,o)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bA(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bA(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Uq();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=qq(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(t,r)=>LG(t,r))&&ma(this.baseMutations,e.baseMutations,(t,r)=>LG(t,r))}};var $S=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var XS=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Lt=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}(Lt||{});function nE(n){if(n===void 0)return Wr("GRPC error has no .code"),H.UNKNOWN;switch(n){case Lt.OK:return H.OK;case Lt.CANCELLED:return H.CANCELLED;case Lt.UNKNOWN:return H.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return H.INTERNAL;case Lt.UNAVAILABLE:return H.UNAVAILABLE;case Lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Lt.NOT_FOUND:return H.NOT_FOUND;case Lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Lt.ABORTED:return H.ABORTED;case Lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Lt.DATA_LOSS:return H.DATA_LOSS;default:return ce()}}var ZS=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ES=null;function ufe(){return new pAe}var hfe=new Us([4294967295,4294967295],0);function xG(n){let e=ufe().encode(n),t=new Xw;return t.update(e),new Uint8Array(t.digest())}function OG(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new Us([t,r],0),a=new Us([i,s],0);return[o,a]}var e0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fa(`Invalid padding: ${t}`);if(r<0)throw new fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fa(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=e.length*8-t,this.bitCountInInteger=Us.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(Us.fromNumber(r)));return i.compare(hfe)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let t=this.bitmap[Math.floor(e/8)],r=e%8;return(t&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let t=xG(e),[r,i]=OG(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,t,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let t=xG(e),[r,i]=OG(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uE=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,UA.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new Et(Ne),po(),Se())}},UA=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Se(),Se(),Se())}};var Ml=class{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}},hE=class{constructor(e,t){this.targetId=e,this.existenceFilter=t}},AE=class{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dE=class{constructor(){this.pendingResponses=0,this.documentChanges=PG(),this._resumeToken=Zt.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=Se(),t=Se(),r=Se();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new UA(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=PG()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,ht(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},Afe="WatchChangeAggregator",t0=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=po(),this.pendingDocumentTargetMapping=UG(),this.pendingTargetResets=new Et(Ne)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&t(i)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let s=i.target;if(JS(s))if(r===0){let o=new ie(s.path);this.removeDocumentFromTarget(t,o,zr.newNoDocument(o,ue.min()))}else ht(r===1);else{let o=this.getCurrentDocumentCountForTarget(t);if(o!==r){let a=this.parseBloomFilter(e),c=a?this.applyBloomFilter(a,e,o):1;if(c!==0){this.resetTarget(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,l)}ES?.notifyOnExistenceFilterMismatch(dfe(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,c))}}}}parseBloomFilter(e){let t=e.existenceFilter.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o;try{o=fo(r).toUint8Array()}catch(c){if(c instanceof ZS)return Nl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}let a;try{a=new e0(o,i,s)}catch(c){return c instanceof fa?Nl("BloomFilter error: ",c):Nl("Applying bloom filter failed: ",c),null}return a.bitCount===0?null:a}applyBloomFilter(e,t,r){let i=t.existenceFilter.count,s=this.filterRemovedDocuments(e,t.targetId);return i===r-s?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(t,s,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&JS(a.target)){let c=new ie(a.target.path);this.pendingDocumentUpdates.get(c)===null&&!this.targetContainsDocument(o,c)&&this.removeDocumentFromTarget(o,c,zr.newNoDocument(c,e))}s.hasPendingChanges&&(t.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=Se();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.targetDataForActiveTarget(c);return l&&l.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new uE(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=po(),this.pendingDocumentTargetMapping=UG(),this.pendingTargetResets=new Et(Ne),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new dE,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Xt(Ne),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=this.targetDataForActiveTarget(e)!==null;return t||K(Afe,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new dE),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}};function UG(){return new Et(ie.comparator)}function PG(){return new Et(ie.comparator)}function dfe(n,e,t,r,i){var s,o,a,c,l,u;let h={localCacheCount:n,existenceFilterCount:e.count,databaseId:t.database,projectId:t.projectId},A=e.unchangedNames;return A&&(h.bloomFilter={applied:i===0,hashCount:(s=A?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(c=(a=(o=A?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0,padding:(u=(l=A?.bits)===null||l===void 0?void 0:l.padding)!==null&&u!==void 0?u:0,mightContain:d=>{var C;return(C=r?.mightContain(d))!==null&&C!==void 0?C:!1}}),h}var ffe=(()=>{let n={};return n.asc="ASCENDING",n.desc="DESCENDING",n})(),gfe=(()=>{let n={};return n["<"]="LESS_THAN",n["<="]="LESS_THAN_OR_EQUAL",n[">"]="GREATER_THAN",n[">="]="GREATER_THAN_OR_EQUAL",n["=="]="EQUAL",n["!="]="NOT_EQUAL",n["array-contains"]="ARRAY_CONTAINS",n.in="IN",n["not-in"]="NOT_IN",n["array-contains-any"]="ARRAY_CONTAINS_ANY",n})(),pfe=(()=>{let n={};return n.and="AND",n.or="OR",n})();var n0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function mfe(n){let e=n.code===void 0?H.UNKNOWN:nE(n.code);return new re(e,n.message||"")}function r0(n,e){return n.useProto3Json||TE(e)?e:{value:e}}function Efe(n){let e;return typeof n=="object"?e=n.value:e=n,TE(e)?null:e}function Cfe(n,e){if(n.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ife(n){let e=us(n);return new yr(e.seconds,e.nanos)}function yfe(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Bfe(n,e){return n.useProto3Json?(ht(e===void 0||typeof e=="string"),Zt.fromBase64String(e||"")):(ht(e===void 0||e instanceof Buffer||e instanceof Uint8Array),Zt.fromUint8Array(e||new Uint8Array))}function Fl(n){return ht(!!n),ue.fromTimestamp(Ife(n))}function wfe(n,e){return i0(n,e).canonicalString()}function i0(n,e){let t=vfe(n).child("documents");return e===void 0?t:t.child(e)}function Jq(n){let e=_t.fromString(n);return ht(Xq(e)),e}function CS(n,e){let t=Jq(e);if(t.get(1)!==n.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(Kq(t))}function zq(n,e){return wfe(n.databaseId,e)}function Qfe(n){let e=Jq(n);return e.length===4?_t.emptyPath():Kq(e)}function VG(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vfe(n){return new _t(["projects",n.projectId,"databases",n.database])}function Kq(n){return ht(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _fe(n,e){let t;if("targetChange"in e){e.targetChange;let r=Sfe(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=Bfe(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&mfe(o);t=new AE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=CS(n,r.document.name),s=Fl(r.document.updateTime),o=r.document.createTime?Fl(r.document.createTime):ue.min(),a=new cs({mapValue:{fields:r.document.fields}}),c=zr.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new Ml(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=CS(n,r.document),s=r.readTime?Fl(r.readTime):ue.min(),o=zr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Ml([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=CS(n,r.document),s=r.removedTargetIds||[];t=new Ml([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new XS(i,s),a=r.targetId;t=new hE(a,o)}else return ce();return t}function Sfe(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:ce()}function bfe(n){if(!("targetChange"in n))return ue.min();let e=n.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?ue.min():Fl(e.readTime)}function Tfe(n,e){return{documents:[zq(n,e.path)]}}function Dfe(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zq(n,i);let s=Ffe(e.filters);s&&(t.structuredQuery.where=s);let o=xfe(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=r0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=Ufe(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Pfe(e.endAt)),{queryTarget:t,parent:i}}function Rfe(n){let e=Qfe(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ht(r===1);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=Lfe(t.where));let o=[];t.orderBy&&(o=Ofe(t.orderBy));let a=null;t.limit&&(a=Efe(t.limit));let c=null;t.startAt&&(c=Vfe(t.startAt));let l=null;return t.endAt&&(l=Gfe(t.endAt)),Dde(e,i,o,s,a,"F",c,l)}function kfe(n,e){let t=Nfe(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Nfe(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}function Mfe(n,e){let t,r=e.target;if(JS(r)?t={documents:Tfe(n,r)}:t={query:Dfe(n,r).queryTarget},t.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){t.resumeToken=yfe(n,e.resumeToken);let i=r0(n,e.expectedCount);i!==null&&(t.expectedCount=i)}else if(e.snapshotVersion.compareTo(ue.min())>0){t.readTime=Cfe(n,e.snapshotVersion.toTimestamp());let i=r0(n,e.expectedCount);i!==null&&(t.expectedCount=i)}return t}function Ffe(n){if(n.length!==0)return $q(Fi.create(n,"and"))}function Lfe(n){let e=jq(n);return e instanceof Fi&&kq(e)?e.getFilters():[e]}function jq(n){return n.unaryFilter!==void 0?Zfe(n):n.fieldFilter!==void 0?ege(n):n.compositeFilter!==void 0?tge(n):ce()}function xfe(n){if(n.length!==0)return n.map(e=>Kfe(e))}function Ofe(n){return n.map(e=>jfe(e))}function Ufe(n){return{before:n.inclusive,values:n.position}}function Pfe(n){return{before:!n.inclusive,values:n.position}}function Vfe(n){let e=!!n.before,t=n.values||[];return new Ul(t,e)}function Gfe(n){let e=!n.before,t=n.values||[];return new Ul(t,e)}function qfe(n){return ffe[n]}function Hfe(n){switch(n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function Yfe(n){return gfe[n]}function Wfe(n){return pfe[n]}function Jfe(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce();default:return ce()}}function zfe(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ce()}}function Dl(n){return{fieldPath:n.canonicalString()}}function kl(n){return Jr.fromServerFormat(n.fieldPath)}function Kfe(n){return{field:Dl(n.field),direction:qfe(n.dir)}}function jfe(n){return new Pl(kl(n.field),Hfe(n.direction))}function $q(n){return n instanceof Tt?Xfe(n):n instanceof Fi?$fe(n):ce()}function $fe(n){let e=n.getFilters().map(t=>$q(t));return e.length===1?e[0]:{compositeFilter:{op:Wfe(n.op),filters:e}}}function Xfe(n){if(n.op==="=="){if(RG(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NAN"}};if(DG(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RG(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NAN"}};if(DG(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(n.field),op:Yfe(n.op),value:n.value}}}function Zfe(n){switch(n.unaryFilter.op){case"IS_NAN":let e=kl(n.unaryFilter.field);return Tt.create(e,"==",{doubleValue:NaN});case"IS_NULL":let t=kl(n.unaryFilter.field);return Tt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=kl(n.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=kl(n.unaryFilter.field);return Tt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce();default:return ce()}}function ege(n){return Tt.create(kl(n.fieldFilter.field),Jfe(n.fieldFilter.op),n.fieldFilter.value)}function tge(n){return Fi.create(n.compositeFilter.filters.map(e=>jq(e)),zfe(n.compositeFilter.op))}function Xq(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var PA=class n{constructor(e,t,r,i,s=ue.min(),o=ue.min(),a=Zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var s0=class{constructor(e){this.remoteSerializer=e}};function nge(n){let e=Rfe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zS(e,e.limit,"L"):e}function rge(n){return{name:n.name,query:nge(n.bundledQuery),readTime:Fl(n.readTime)}}function ige(n){return{id:n.id,version:n.version,createTime:Fl(n.createTime)}}var sge=5,oge=10,age=13,IS=15,cge=20,lge=25,uge=30,hge=37,Age=45,dge=50,fge=53,gge=55,pge=60,mge=2,fE=class{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,sge);else if("booleanValue"in e)this.writeValueTypeLabel(t,oge),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,IS),t.writeNumber(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,age):(this.writeValueTypeLabel(t,IS),cE(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,cge),typeof r=="string"&&(r=us(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,uge),t.writeBytes(fo(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,Age),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?Tq(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):bq(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):ce()}writeIndexString(e,t){this.writeValueTypeLabel(t,lge),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};this.writeValueTypeLabel(t,gge);for(let i of Object.keys(r))this.writeIndexString(i,t),this.writeIndexValueAux(r[i],t)}writeIndexVector(e,t){var r,i;let s=e.fields||{};this.writeValueTypeLabel(t,fge);let o=RA,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.writeValueTypeLabel(t,IS),t.writeNumber(et(a)),this.writeIndexString(o,t),this.writeIndexValueAux(s[o],t)}writeIndexArray(e,t){let r=e.values||[];this.writeValueTypeLabel(t,dge);for(let i of r)this.writeIndexValueAux(i,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,hge),ie.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(t,pge),this.writeUnlabeledIndexString(i,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(mge)}};fE.INSTANCE=new fE;var o0=class{constructor(){this.collectionParentIndex=new a0}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Ea.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},a0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(_t.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(_t.comparator)).toArray()}};var fbe=new Uint8Array(0);var yS=2,VA=class n{constructor(e){this.lastId=e}next(){return this.lastId+=yS,this.lastId}static forTargetCache(){return new n(2-yS)}static forSyncEngine(){return new n(1-yS)}};var Zq=-1,eH=40*1024*1024,Ni=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ni.DEFAULT_COLLECTION_PERCENTILE=10;Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;Ni.DEFAULT=new Ni(eH,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);Ni.DISABLED=new Ni(Zq,0,0);var GG=1*1024*1024,gbe=1*60*1e3,pbe=5*60*1e3;var c0=class{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var l0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var u0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bA(r.mutation,i,Aa.empty(),yr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Se()){let i=da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=QA();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Se()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=po(),o=MA(),a=qde();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Yl)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),bA(u.mutation,l,u.mutation.getFieldMask(),yr.now())):o.set(l.key,Aa.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new l0(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=MA(),i=new Et((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||Aa.empty();u=a.applyToLocalView(l,u),r.set(c,u);let h=(i.get(a.batchId)||Se()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=Uq();u.forEach(A=>{if(!s.has(A)){let d=qq(t.get(A),r.get(A));d!==null&&h.set(A,d),s=s.add(A)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Nde(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mde(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):O.resolve(da()),a=TA,c=s;return o.next(l=>O.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?O.resolve():this.remoteDocumentCache.getEntry(e,u).next(A=>{c=c.insert(u,A)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Se())).next(u=>({batchId:a,changes:Hde(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=QA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=QA();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,c=>{let l=Rde(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,A)=>{o=o.insert(h,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,zr.newInvalidDocument(u)))});let a=QA();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&bA(u.mutation,l,Aa.empty(),yr.now()),RE(t,l)&&(a=a.insert(c,l))}),a})}};var h0=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return O.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,ige(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,rge(t)),O.resolve()}};var A0=class{constructor(){this.overlays=new Et(ie.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=da();return O.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.saveOverlay(e,t,s)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=da(),s=t.length+1,o=new ie(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Et((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let A=s.get(u.largestBatchId);A===null&&(A=da(),s=s.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}let a=da(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,A)=>a.set(h,A)),!(a.size()>=i)););return O.resolve(a)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $S(t,r));let s=this.overlayByBatchId.get(t);s===void 0&&(s=Se(),this.overlayByBatchId.set(t,s)),this.overlayByBatchId.set(t,s.add(r.key))}};var d0=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var GA=class{constructor(){this.refsByKey=new Xt(vt.compareByKey),this.refsByTarget=new Xt(vt.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new vt(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.removeRef(new vt(e,t))}removeReferences(e,t){e.forEach(r=>this.removeReference(r,t))}removeReferencesForId(e){let t=new ie(new _t([])),r=new vt(t,e),i=new vt(t,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new ie(new _t([])),r=new vt(t,e),i=new vt(t,e+1),s=Se();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new vt(e,0),r=this.refsByKey.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},vt=class{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return ie.comparator(e.key,t.key)||Ne(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return Ne(e.targetOrBatchId,t.targetOrBatchId)||ie.comparator(e.key,t.key)}};var f0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new Xt(vt.compareByKey)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new jS(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,t){return O.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?XAe:this.nextBatchId-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new vt(t,0),i=new vt(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(Ne);return t.forEach(i=>{let s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),O.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));let o=new vt(new ie(s),0),a=new Xt(Ne);return this.batchesByDocumentKey.forEachWhile(c=>{let l=c.key.path;return r.isPrefixOf(l)?(l.length===i&&(a=a.add(c.targetOrBatchId)),!0):!1},o),O.resolve(this.findMutationBatches(a))}findMutationBatches(e){let t=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){let r=this.indexOfExistingBatchId(t.batchId,"removed");ht(r===0),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return O.forEach(t.mutations,s=>{let o=new vt(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new vt(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};function Ege(){return new Et(ie.comparator)}var g0=class{constructor(e){this.sizer=e,this.docs=Ege(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():zr.newInvalidDocument(t))}getEntries(e,t){let r=po();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zr.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=po(),o=t.path,a=new ie(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||_Ae(vAe(u),r)<=0||!i.has(u.key)&&!RE(t,u)||(s=s.insert(u.key,u.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ce()}forEachDocumentKey(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new p0(this)}getSize(e){return O.resolve(this.size)}};function Cge(n){return new g0(n)}var p0=class extends c0{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}};var m0=class{constructor(e){this.persistence=e,this.targets=new go(t=>sb(t),ob),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new GA,this.targetCount=0,this.targetIdGenerator=VA.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),O.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new VA(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.saveTargetData(t),O.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.references.containsKey(t))}};var Ige="MemoryPersistence",E0=class{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new oq(0),this._started=!1,this._started=!0,this.globalsCache=new d0,this.referenceDelegate=e(this),this.targetCache=new m0(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new o0,this.remoteDocumentCache=Cge(r),this.serializer=new s0(t),this.bundleCache=new h0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new f0(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){K(Ige,"Starting transaction:",e);let i=new C0(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,t){return O.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}},C0=class extends NS{constructor(e){super(),this.currentSequenceNumber=e}},I0=class n{constructor(e){this.persistence=e,this.localViewReferences=new GA,this._orphanedDocuments=null}static factory(e){return new n(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw ce()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),O.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.orphanedDocuments,i=>{let s=ie.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,ue.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(r=>{r?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return O.or([()=>O.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}};var mbe=30*60*1e3;function yge(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}var cb="LocalStore",Bge=5*60*1e6,y0=class{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new Et(Ne),this.targetIdByTarget=new go(s=>sb(s),ob),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u0(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}};function wge(n,e,t,r){return new y0(n,e,t,r)}function tH(n,e){return I(this,null,function*(){let t=Ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.initializeUserComponents(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],c=[],l=Se();for(let u of s){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){c.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(u=>({affectedDocuments:u,removedBatchIds:a,addedBatchIds:c}))})})})}function nH(n){let e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.targetCache.getLastRemoteSnapshotVersion(t))}function Qge(n,e){let t=Ce(n),r=e.snapshotVersion,i=t.targetDataByTarget;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=t.targetDataByTarget;let a=[];e.targetChanges.forEach((u,h)=>{let A=i.get(h);if(!A)return;a.push(t.targetCache.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.targetCache.addMatchingKeys(s,u.addedDocuments,h)));let d=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(Zt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),_ge(A,d,u)&&a.push(t.targetCache.updateTargetData(s,d))});let c=po(),l=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(vge(s,o,e.documentUpdates).next(u=>{c=u.changedDocuments,l=u.existenceChangedKeys})),!r.isEqual(ue.min())){let u=t.targetCache.getLastRemoteSnapshotVersion(s).next(h=>t.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.targetDataByTarget=i,s))}function vge(n,e,t){let r=Se(),i=Se();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=po();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):K(cb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function _ge(n,e,t){return n.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=Bge?!0:t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0}function Sge(n,e){return I(this,null,function*(){let t=Ce(n);try{yield t.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>O.forEach(e,i=>O.forEach(i.addedKeys,s=>t.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>O.forEach(i.removedKeys,s=>t.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(YA(r))K(cb,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=t.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);t.targetDataByTarget=t.targetDataByTarget.insert(i,a)}}})}function bge(n,e){let t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.targetCache.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):t.targetCache.allocateTargetId(r).next(o=>(i=new PA(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.targetDataByTarget=t.targetDataByTarget.insert(r.targetId,r),t.targetIdByTarget.set(e,r.targetId)),r})}function Tge(n,e,t){let r=Ce(n),i=r.targetIdByTarget.get(t);return i!==void 0?O.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,t)}function B0(n,e,t){return I(this,null,function*(){let r=Ce(n),i=r.targetDataByTarget.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(YA(o))K(cb,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function rH(n,e,t){let r=Ce(n),i=ue.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>Tge(r,o,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,t?i:ue.min(),t?s:Se())).next(a=>(Dge(r,Pde(e),a),{documents:a,remoteKeys:s})))}function Dge(n,e,t){let r=n.collectionGroupReadTime.get(e)||ue.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.collectionGroupReadTime.set(e,r)}var w0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rge=100;function kge(){return BR()?8:bAe(kn())>0?6:4}var Q0=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=Rge,this.relativeIndexReadCostPerDocument=kge()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.performQueryUsingIndex(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new w0;return this.executeFullCollectionScan(e,t,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(wA()<=Ae.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),O.resolve()):(wA()<=Ae.DEBUG&&K("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(wA()<=Ae.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):O.resolve())}performQueryUsingIndex(e,t){if(MG(t))return O.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zS(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Se(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.applyQuery(t,a);return this.needsRefill(t,l,o,c.readTime)?this.performQueryUsingIndex(e,zS(t,null,"F")):this.appendRemainingResults(e,l,t,c)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return MG(t)||i.isEqual(ue.min())?O.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(t,s);return this.needsRefill(t,o,r,i)?O.resolve(null):(wA()<=Ae.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tl(t)),this.appendRemainingResults(e,o,t,QAe(i,TA)).next(a=>a))})}applyQuery(e,t){let r=new Xt(xq(e));return t.forEach((i,s)=>{RE(e,s)&&(r=r.add(s))}),r}needsRefill(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,t,r){return wA()<=Ae.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,Ea.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var gE=class{constructor(){this.activeTargetIds=Jde()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var v0=class{constructor(){this.localState=new gE,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new gE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _0=class{addCallback(e){}shutdown(){}};var S0=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var tE=null;function Nge(){return 268435456+Math.round(2147483648*Math.random())}function BS(){return tE===null?tE=Nge():tE++,"0x"+tE.toString(16)}function Mge(n){return new Promise((e,t)=>{n((r,i)=>{r?t(r):e(i)})})}var Fge="1.9.1",fn="GrpcConnection",Lge=`gl-node/${process.versions.node} fire/${Kl} grpc/${Fge}`;function wS(n,e,t,r){ht(e===null||e.type==="OAuth");let i=new ga.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),t&&t.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",Lge),i.set("Google-Cloud-Resource-Prefix",n),i.set("x-goog-request-params",n),i}var b0=class{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){K(fn,"Creating Firestore stub.");let e=this.databaseInfo.ssl?ga.credentials.createSsl():ga.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,s){let o=BS(),a=this.ensureActiveStub(),c=wS(this.databasePath,i,s,this.databaseInfo.appId),l=Object.assign({database:this.databasePath},r);return Mge(u=>(K(fn,`RPC '${e}' ${o} invoked with request:`,r),a[e](l,c,(h,A)=>{h?(K(fn,`RPC '${e}' ${o} failed with error:`,h),u(new re(nE(h.code),h.message))):(K(fn,`RPC '${e}' ${o} completed with response:`,A),u(void 0,A))})))}invokeStreamingRPC(e,t,r,i,s,o){let a=BS(),c=[],l=new ls;K(fn,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let u=this.ensureActiveStub(),h=wS(this.databasePath,i,s,this.databaseInfo.appId),A=Object.assign(Object.assign({},r),{database:this.databasePath}),d=u[e](A,h),C=!1;return d.on("data",m=>{K(fn,`RPC ${e} ${a} received result:`,m),c.push(m),o!==void 0&&c.length===o&&(C=!0,l.resolve(c))}),d.on("end",()=>{K(fn,`RPC '${e}' ${a} completed.`),C||(C=!0,l.resolve(c))}),d.on("error",m=>{K(fn,`RPC '${e}' ${a} failed with error:`,m);let y=nE(m.code);l.reject(new re(y,m.message))}),l.promise}openStream(e,t,r){let i=BS(),s=this.ensureActiveStub(),o=wS(this.databasePath,t,r,this.databaseInfo.appId),a=s[e](o),c=!1,l=A=>{c||(c=!0,u.callOnClose(A),a.end())},u=new S0({sendFn:A=>{if(c)K(fn,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,A);else{K(fn,`RPC '${e}' stream ${i} sending:`,A);try{a.write(A)}catch(d){throw Wr("Failure sending:",A),Wr("Error:",d),d}}},closeFn:()=>{K(fn,`RPC '${e}' stream ${i} closed locally via close().`),l()}}),h=!1;return a.on("data",A=>{c||(K(fn,`RPC '${e}' stream ${i} received:`,A),h||(u.callOnConnected(),h=!0),u.callOnMessage(A))}),a.on("end",()=>{K(fn,`RPC '${e}' stream ${i} ended.`),l()}),a.on("error",A=>{if(!c){Nl(fn,`RPC '${e}' stream ${i} error. Code:`,A.code,"Message:",A.message);let d=nE(A.code);l(new re(d,A.message))}}),K(fn,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{u.callOnOpen()},0),u}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},iH={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},xge={nested:iH},Oge=Object.freeze({__proto__:null,nested:iH,default:xge});var Uge={longs:String,enums:String,defaults:!0,oneofs:!1};function Pge(){let n=sq.fromJSON(Oge,Uge);return ga.loadPackageDefinition(n)}function Vge(n){let e=Pge();return new b0(e,n)}function Gge(){return new _0}function sH(n){return new n0(n,!1)}var qge="ExponentialBackoff",Hge=1e3,Yge=1.5,Wge=60*1e3,pE=class{constructor(e,t,r=Hge,i=Yge,s=Wge){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&K(qge,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var qG="PersistentStream",Jge=60*1e3,zge=10*1e3,T0=class{constructor(e,t,r,i,s,o,a,c){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new pE(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.responseCount=0,this.state===4){this.performBackoff();return}this.auth()}stop(){return I(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,Jge,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return I(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,t){return I(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(t)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===t&&this.startStream(r,i)},r=>{e(()=>{let i=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,zge,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>++this.responseCount===1?this.onFirst(i):this.onNext(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>I(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return K(qG,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(K(qG,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},D0=class extends T0{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=_fe(this.serializer,e),r=bfe(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=VG(this.serializer),t.addTarget=Mfe(this.serializer,e);let r=kfe(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=VG(this.serializer),t.removeTarget=e,this.sendRequest(t)}};var R0=class{},k0=class extends R0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,i0(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(H.UNKNOWN,s.toString())})}invokeStreamingRPC(e,t,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,i0(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function Kge(n,e,t,r){return new k0(n,e,t,r)}function jge(n,e,t){let r=Ce(n);return r.verifyInitialized(),new D0(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}var $ge="OnlineStateTracker",HG=1,YG=10*1e3,N0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",YG,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${YG/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=HG&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${HG} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Wr(t),this.shouldWarnClientIsOffline=!1):K($ge,t)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var Wl="RemoteStore";var M0=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>I(this,null,function*(){JA(this)&&(K(Wl,"Restarting streams for network reachability change."),yield ope(this))}))}),this.onlineStateTracker=new N0(r,i)}};function Xge(n,e,t,r,i){return new M0(n,e,t,r,i)}function NE(n){return I(this,null,function*(){if(JA(n))for(let e of n.onNetworkStatusChange)yield e(!0)})}function WA(n){return I(this,null,function*(){for(let e of n.onNetworkStatusChange)yield e(!1)})}function Zge(n){return I(this,null,function*(){let e=Ce(n);K(Wl,"RemoteStore shutting down."),e.offlineCauses.add(5),yield WA(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function oH(n,e){let t=Ce(n);t.listenTargets.has(e.targetId)||(t.listenTargets.set(e.targetId,e),Ab(t)?hb(t):jl(t).isOpen()&&ub(t,e))}function lb(n,e){let t=Ce(n),r=jl(t);t.listenTargets.delete(e),r.isOpen()&&aH(t,e),t.listenTargets.size===0&&(r.isOpen()?r.markIdle():JA(t)&&t.onlineStateTracker.set("Unknown"))}function ub(n,e){if(n.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jl(n).watch(e)}function aH(n,e){n.watchChangeAggregator.recordPendingTargetRequest(e),jl(n).unwatch(e)}function hb(n){n.watchChangeAggregator=new t0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>n.listenTargets.get(e)||null,getDatabaseId:()=>n.datastore.serializer.databaseId}),jl(n).start(),n.onlineStateTracker.handleWatchStreamStart()}function Ab(n){return JA(n)&&!jl(n).isStarted()&&n.listenTargets.size>0}function JA(n){return Ce(n).offlineCauses.size===0}function cH(n){n.watchChangeAggregator=void 0}function epe(n){return I(this,null,function*(){n.onlineStateTracker.set("Online")})}function tpe(n){return I(this,null,function*(){n.listenTargets.forEach((e,t)=>{ub(n,e)})})}function npe(n,e){return I(this,null,function*(){cH(n),Ab(n)?(n.onlineStateTracker.handleWatchStreamFailure(e),hb(n)):n.onlineStateTracker.set("Unknown")})}function rpe(n,e,t){return I(this,null,function*(){if(n.onlineStateTracker.set("Online"),e instanceof AE&&e.state===2&&e.cause){try{yield spe(n,e)}catch(r){K(Wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield WG(n,r)}return}if(e instanceof Ml?n.watchChangeAggregator.handleDocumentChange(e):e instanceof hE?n.watchChangeAggregator.handleExistenceFilter(e):n.watchChangeAggregator.handleTargetChange(e),!t.isEqual(ue.min()))try{let r=yield nH(n.localStore);t.compareTo(r)>=0&&(yield ipe(n,t))}catch(r){K(Wl,"Failed to raise snapshot:",r),yield WG(n,r)}})}function WG(n,e,t){return I(this,null,function*(){if(YA(e))n.offlineCauses.add(1),yield WA(n),n.onlineStateTracker.set("Offline"),t||(t=()=>nH(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){K(Wl,"Retrying IndexedDB access"),yield t(),n.offlineCauses.delete(1),yield NE(n)}));else throw e})}function ipe(n,e){let t=n.watchChangeAggregator.createRemoteEvent(e);return t.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=n.listenTargets.get(i);s&&n.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),t.targetMismatches.forEach((r,i)=>{let s=n.listenTargets.get(r);if(!s)return;n.listenTargets.set(r,s.withResumeToken(Zt.EMPTY_BYTE_STRING,s.snapshotVersion)),aH(n,r);let o=new PA(s.target,r,i,s.sequenceNumber);ub(n,o)}),n.remoteSyncer.applyRemoteEvent(t)}function spe(n,e){return I(this,null,function*(){let t=e.cause;for(let r of e.targetIds)n.listenTargets.has(r)&&(yield n.remoteSyncer.rejectListen(r,t),n.listenTargets.delete(r),n.watchChangeAggregator.removeTarget(r))})}function ope(n){return I(this,null,function*(){let e=Ce(n);e.offlineCauses.add(4),yield WA(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield NE(e)})}function JG(n,e){return I(this,null,function*(){let t=Ce(n);t.asyncQueue.verifyOperationInProgress(),K(Wl,"RemoteStore received new credentials");let r=JA(t);t.offlineCauses.add(3),yield WA(t),r&&t.onlineStateTracker.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.offlineCauses.delete(3),yield NE(t)})}function ape(n,e){return I(this,null,function*(){let t=Ce(n);e?(t.offlineCauses.delete(2),yield NE(t)):e||(t.offlineCauses.add(2),yield WA(t),t.onlineStateTracker.set("Unknown"))})}function jl(n){return n.watchStream||(n.watchStream=jge(n.datastore,n.asyncQueue,{onConnected:epe.bind(null,n),onOpen:tpe.bind(null,n),onClose:npe.bind(null,n),onWatchChange:rpe.bind(null,n)}),n.onNetworkStatusChange.push(e=>I(this,null,function*(){e?(n.watchStream.inhibitBackoff(),Ab(n)?hb(n):n.onlineStateTracker.set("Unknown")):(yield n.watchStream.stop(),cH(n))}))),n.watchStream}var cpe="AsyncQueue",F0=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lH(n,e){if(Wr(cpe,`${e}: ${n}`),YA(n))return new re(H.UNAVAILABLE,`${e}: ${n}`);throw n}var mE=class n{constructor(e){e?this.comparator=(t,r)=>e(t,r)||ie.comparator(t.key,r.key):this.comparator=(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=QA(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var EE=class{constructor(){this.changeMap=new Et(ie.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(t,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(t):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):ce()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}},Jl=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,mE.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!DE(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var L0=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function lpe(){return new x0}var x0=class{constructor(){this.queries=uH(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){gpe(this,new re(H.ABORTED,"Firestore shutting down"))}};function uH(){return new go(n=>Lq(n),DE)}function upe(n,e){return I(this,null,function*(){let t=Ce(n),r=3,i=e.query,s=t.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new L0,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield t.onListen(i,!0);break;case 1:s.viewSnap=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=lH(o,`Initialization of query '${Tl(e.query)}' failed`);e.onError(a);return}t.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(t.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&db(t)})}function hpe(n,e){return I(this,null,function*(){let t=Ce(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Ape(n,e){let t=Ce(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&db(t)}function dpe(n,e,t){let r=Ce(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function fpe(n,e){let t=Ce(n);t.onlineState=e;let r=!1;t.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&db(t)}function gpe(n,e){let t=Ce(n),r=t.queries;t.queries=uH(),r.forEach((i,s)=>{for(let o of s.listeners)o.onError(e)})}function db(n){n.snapshotsInSyncListeners.forEach(e=>{e.next()})}var hH=function(n){return n.Default="default",n.Cache="cache",n}(hH||{}),O0=class{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=t!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||t?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==hH.Cache}};var U0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=Se(),i=Se();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new n(e,t.fromCache,r,i)}};var CE=class{constructor(e){this.key=e}},IE=class{constructor(e){this.key=e}},P0=class{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=Se(),this.mutatedKeys=Se(),this.docComparator=xq(e),this.documentSet=new mE(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new EE,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let A=i.get(u),d=RE(this.query,h)?h:null,C=A?this.mutatedKeys.has(A.key):!1,m=d?d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations:!1,y=!1;A&&d?A.data.isEqual(d.data)?C!==m&&(r.track({type:3,doc:d}),y=!0):this.shouldWaitForSyncedDocument(A,d)||(r.track({type:2,doc:d}),y=!0,(c&&this.docComparator(d,c)>0||l&&this.docComparator(d,l)<0)&&(a=!0)):!A&&d?(r.track({type:0,doc:d}),y=!0):A&&!d&&(r.track({type:1,doc:A}),y=!0,(c||l)&&(a=!0)),y&&(d?(o=o.add(d),m?s=s.add(u):s=s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((h,A)=>ppe(h.type,A.type)||this.docComparator(h.doc,A.doc)),this.applyTargetChange(r),i=i??!1;let a=t&&!i?this.updateLimboDocuments():[],l=this.limboDocuments.size===0&&this.current&&!i?1:0,u=l!==this.syncState;return this.syncState=l,o.length===0&&!u?{limboChanges:a}:{snapshot:new Jl(this.query,e.documentSet,s,o,e.mutatedKeys,l===0,u,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new EE,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=Se(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let t=[];return e.forEach(r=>{this.limboDocuments.has(r)||t.push(new IE(r))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new CE(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Se();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return Jl.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function ppe(n,e){let t=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return ce()}};return t(n)-t(e)}var fb="SyncEngine",V0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},G0=class{constructor(e){this.key=e,this.receivedDocument=!1}},q0=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new go(a=>Lq(a),DE),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new Et(ie.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new GA,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=VA.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function mpe(n,e,t,r,i,s,o){let a=new q0(n,e,t,r,i,s);return o&&(a._isPrimaryClient=!0),a}function Epe(n,e,t=!0){return I(this,null,function*(){let r=mH(n),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield AH(r,e,t,!0),i})}function Cpe(n,e){return I(this,null,function*(){let t=mH(n);yield AH(t,e,!0,!1)})}function AH(n,e,t,r){return I(this,null,function*(){let i=yield bge(n.localStore,Mi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Ipe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&oH(n.remoteStore,i),a})}function Ipe(n,e,t,r,i){return I(this,null,function*(){n.applyDocChanges=(h,A,d)=>_pe(n,h,A,d);let s=yield rH(n.localStore,e,!0),o=new P0(e,s.remoteKeys),a=o.computeDocChanges(s.documents),c=UA.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);gH(n,t,l.limboChanges);let u=new V0(e,t,o);return n.queryViewsByQuery.set(e,u),n.queriesByTarget.has(t)?n.queriesByTarget.get(t).push(e):n.queriesByTarget.set(t,[e]),l.snapshot})}function ype(n,e,t){return I(this,null,function*(){let r=Ce(n),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!DE(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield B0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&lb(r.remoteStore,i.targetId),H0(r,i.targetId)}).catch(eb))):(H0(r,i.targetId),yield B0(r.localStore,i.targetId,!0))})}function Bpe(n,e){return I(this,null,function*(){let t=Ce(n),r=t.queryViewsByQuery.get(e),i=t.queriesByTarget.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lb(t.remoteStore,r.targetId))})}function dH(n,e){return I(this,null,function*(){let t=Ce(n);try{let r=yield Qge(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.activeLimboResolutionsByTarget.get(s);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?ht(o.receivedDocument):i.removedDocuments.size>0&&(ht(o.receivedDocument),o.receivedDocument=!1))}),yield pH(t,r,e)}catch(r){yield eb(r)}})}function zG(n,e,t){let r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),fpe(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wpe(n,e,t){return I(this,null,function*(){let r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new Et(ie.comparator);o=o.insert(s,zr.newNoDocument(s,ue.min()));let a=Se().add(s),c=new uE(ue.min(),new Map,new Et(Ne),o,a);yield dH(r,c),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),gb(r)}else yield B0(r.localStore,e,!1).then(()=>H0(r,e,t)).catch(eb)})}function Qpe(n,e){n.pendingWritesCallbacks.forEach(t=>{t.forEach(r=>{r.reject(new re(H.CANCELLED,e))})}),n.pendingWritesCallbacks.clear()}function H0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.queriesByTarget.get(e))n.queryViewsByQuery.delete(r),t&&n.syncEngineListener.onWatchError(r,t);n.queriesByTarget.delete(e),n.isPrimaryClient&&n.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{n.limboDocumentRefs.containsKey(i)||fH(n,i)})}function fH(n,e){n.enqueuedLimboResolutions.delete(e.path.canonicalString());let t=n.activeLimboTargetsByKey.get(e);t!==null&&(lb(n.remoteStore,t),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(e),n.activeLimboResolutionsByTarget.delete(t),gb(n))}function gH(n,e,t){for(let r of t)r instanceof CE?(n.limboDocumentRefs.addReference(r.key,e),vpe(n,r)):r instanceof IE?(K(fb,"Document no longer in limbo: "+r.key),n.limboDocumentRefs.removeReference(r.key,e),n.limboDocumentRefs.containsKey(r.key)||fH(n,r.key)):ce()}function vpe(n,e){let t=e.key,r=t.path.canonicalString();!n.activeLimboTargetsByKey.get(t)&&!n.enqueuedLimboResolutions.has(r)&&(K(fb,"New document in limbo: "+t),n.enqueuedLimboResolutions.add(r),gb(n))}function gb(n){for(;n.enqueuedLimboResolutions.size>0&&n.activeLimboTargetsByKey.size<n.maxConcurrentLimboResolutions;){let e=n.enqueuedLimboResolutions.values().next().value;n.enqueuedLimboResolutions.delete(e);let t=new ie(_t.fromString(e)),r=n.limboTargetIdGenerator.next();n.activeLimboResolutionsByTarget.set(r,new G0(t)),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.insert(t,r),oH(n.remoteStore,new PA(Mi(ab(t.path)),r,"TargetPurposeLimboResolution",oq.INVALID))}}function pH(n,e,t){return I(this,null,function*(){let r=Ce(n),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,c)=>{o.push(r.applyDocChanges(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=U0.fromSnapshot(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield Sge(r.localStore,s))})}function _pe(n,e,t,r){return I(this,null,function*(){let i=e.view.computeDocChanges(t);i.needsRefill&&(i=yield rH(n.localStore,e.query,!1).then(({documents:c})=>e.view.computeDocChanges(c,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,n.isPrimaryClient,s,o);return gH(n,e.targetId,a.limboChanges),a.snapshot})}function Spe(n,e){return I(this,null,function*(){let t=Ce(n);if(!t.currentUser.isEqual(e)){K(fb,"User change. New user:",e.toKey());let i=yield tH(t.localStore,e);t.currentUser=e,Qpe(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield pH(t,i.affectedDocuments)}})}function bpe(n,e){let t=Ce(n),r=t.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return Se().add(r.key);{let i=Se(),s=t.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=t.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function mH(n){let e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wpe.bind(null,e),e.syncEngineListener.onWatchChange=Ape.bind(null,e.eventManager),e.syncEngineListener.onWatchError=dpe.bind(null,e.eventManager),e}var KG=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=sH(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return wge(this.persistence,new Q0,t.initialUser,this.serializer)}createPersistence(t){return new E0(I0.factory,this.serializer)}createSharedClientState(t){return new v0}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Tpe=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zG(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Spe.bind(null,this.syncEngine),yield ape(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return lpe()}createDatastore(t){let r=sH(t.databaseInfo.databaseId),i=Vge(t.databaseInfo);return Kge(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return Xge(this.localStore,this.datastore,t.asyncQueue,r=>zG(this.syncEngine,r,0),Gge())}createSyncEngine(t,r){return mpe(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield Zge(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}n.provider={build:()=>new n};return n})();function Dpe(n,e,t){if(!t)throw new re(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rpe(n,e,t,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jG(n){if(ie.isDocumentKey(n))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kpe(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=Npe(n);return e?`a custom ${e} object`:"an object"}}else return typeof n=="function"?"a function":ce()}function Npe(n){return n.constructor?n.constructor.name:null}function rE(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kpe(n);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Y0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mo="FirestoreClient",Mpe=100,Fpe=11,Lpe=20,xpe=22,W0=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){K(mo,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(K(mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:Mpe}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=lH(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function QS(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K(mo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield tH(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function $G(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Upe(n);K(mo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>JG(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>JG(e.remoteStore,i)),n._onlineComponents=e})}function Ope(n){return n.name==="FirebaseError"?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:typeof DOMException<"u"&&n instanceof DOMException?n.code===xpe||n.code===Lpe||n.code===Fpe:!0}function Upe(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K(mo,"Using user provided OfflineComponentProvider");try{yield QS(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Ope(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),yield QS(n,new KG)}}else K(mo,"Using default OfflineComponentProvider"),yield QS(n,new KG);return n._offlineComponents})}function Ppe(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K(mo,"Using user provided OnlineComponentProvider"),yield $G(n,n._uninitializedComponentsProvider._online)):(K(mo,"Using default OnlineComponentProvider"),yield $G(n,new Tpe))),n._onlineComponents})}function XG(n){return I(this,null,function*(){let e=yield Ppe(n),t=e.eventManager;return t.onListen=Epe.bind(null,e.syncEngine),t.onUnlisten=ype.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Cpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bpe.bind(null,e.syncEngine),t})}function Vpe(n,e,t,r){let i=new Y0(r),s=new O0(e,i,t);return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){let o=yield XG(n);return upe(o,s)})),()=>{i.mute(),n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){let o=yield XG(n);return hpe(o,s)}))}}function Gpe(n,e){return n.timeoutSeconds===e.timeoutSeconds}function EH(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qpe="ComponentProvider",ZG=new Map;function Hpe(n){let e=ZG.get(n);e&&(K(qpe,"Removing Datastore"),ZG.delete(n),e.terminate())}function Ype(n,e,t,r){return new FS(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,EH(r.experimentalLongPollingOptions),r.useFetchStreams)}var CH="firestore.googleapis.com",eq=!0,tq=5,nq=30,Wpe=!0,yE=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CH,this.ssl=eq}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:eq;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eH;else{if(e.cacheSizeBytes!==Zq&&e.cacheSizeBytes<GG)throw new re(H.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${GG}`);this.cacheSizeBytes=e.cacheSizeBytes}Rpe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=Wpe:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EH((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),Jpe(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&Gpe(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function Jpe(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<tq)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is ${tq})`);if(n.timeoutSeconds>nq)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is ${nq})`)}}var qA=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),e.credentials!==void 0&&(this._authCredentials=yAe(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return Hpe(this),Promise.resolve()}};function IH(n,e,t,r={}){var i;n=rE(n,qA);let s=n._getSettings(),o=`${e}:${t}`;if(s.host!==CH&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=xt.MOCK_USER;else{a=Ha(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xt(l)}n._authCredentials=new _S(new iE(a,c))}}var BE=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ia=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ll=class n extends BE{constructor(e,t,r){super(e,t,ab(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ia(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function yH(n,e,...t){if(n=Wt(n),Dpe("collection","path",e),n instanceof qA){let r=_t.fromString(e,...t);return jG(r),new Ll(n,null,r)}else{if(!(n instanceof Ia)&&!(n instanceof Ll))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(_t.fromString(e,...t));return jG(r),new Ll(n.firestore,null,r)}}var zpe="AsyncQueue",wE=class{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new pE(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new ls;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return I(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(YA(e))K(zpe,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=Kpe(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=F0.createAndSchedule(this,e,t,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&ce()}verifyOperationInProgress(){}drain(){return I(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.delayedOperations)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}};function Kpe(n){let e=n.message||"";return n.stack&&(n.stack.includes(n.message)?e=n.stack:e=n.message+`
`+n.stack),e}var HA=class extends qA{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wE,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,yield e}})}};function BH(n,e){let t=typeof n=="object"?n:Ln(),r=typeof n=="string"?n:e||LS,i=Mn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Is("firestore");s&&IH(i,...s)}return i}function jpe(n){if(n._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$pe(n),n._firestoreClient}function $pe(n){var e,t,r;let i=n._freezeSettings(),s=Ype(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new W0(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&Xpe(n._componentsProvider))}function Xpe(n){let e=n?._online.build();return{_offline:n?._offline.build(e),_online:e}}function Zpe(n,e=!0){CAe(Fn),Vt(new yt("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new HA(new SS(t.getProvider("auth-internal")),new RS(t.getProvider("app-check-internal")),$Ae(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),de(wG,QG,n),de(wG,QG,"esm2017")}var J0=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Zt.fromBase64String(e))}catch(t){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var QE=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var z0=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}};var K0=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return yge(this._values,e._values)}};var eme=new RegExp("[~\\*/\\[\\]]");function tme(n,e,t){if(e.search(eme)>=0)throw rq(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new QE(...e.split("."))._internalPath}catch{throw rq(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rq(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(H.INVALID_ARGUMENT,a+n+c)}var vE=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ia(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new j0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let t=this._document.data.field(wH("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},j0=class extends vE{data(){return super.data()}};function wH(n,e){return typeof e=="string"?tme(n,e):e instanceof QE?e._internalPath:e._delegate._internalPath}function nme(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $0=class{convertValue(e,t="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return bE(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[RA].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new K0(s)}convertGeoPoint(e){return new z0(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=nb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(DA(e));default:return null}}convertTimestamp(e){let t=us(e);return new yr(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=_t.fromString(e);ht(Xq(r));let i=new aE(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function iq(n){return rme(n,["next","error","complete"])}function rme(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var ya=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_E=class extends vE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let t=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,t={}){if(this._document){let r=this._document.data.field(wH("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zl=class extends _E{data(e={}){return super.data(e)}},X0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zl(this._firestore,this._userDataWriter,r.key,r,new ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t)&&(this._cachedChanges=ime(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function ime(n,e){if(n._snapshot.oldDocs.isEmpty()){let t=0;return n._snapshot.docChanges.map(r=>{let i=new zl(n._firestore,n._userDataWriter,r.doc.key,r.doc,new ya(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}else{let t=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new zl(n._firestore,n._userDataWriter,r.doc.key,r.doc,new ya(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter),s=-1,o=-1;return r.type!==0&&(s=t.indexOf(r.doc.key),t=t.delete(r.doc.key)),r.type!==1&&(t=t.add(r.doc),o=t.indexOf(r.doc.key)),{type:sme(r.type),doc:i,oldIndex:s,newIndex:o}})}}function sme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var SE=class extends $0{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ia(this.firestore,null,t)}};function pb(n,...e){var t,r,i;n=Wt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!iq(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(iq(e[o])){let A=e[o];e[o]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[o+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[o+2]=(i=A.complete)===null||i===void 0?void 0:i.bind(A)}let c,l,u;if(n instanceof Ia)l=rE(n.firestore,HA),u=ab(n._key.path),c={next:A=>{e[o]&&e[o](ome(l,n,A))},error:e[o+1],complete:e[o+2]};else{let A=rE(n,BE);l=rE(A.firestore,HA),u=A._query;let d=new SE(l);c={next:C=>{e[o]&&e[o](new X0(l,d,A,C))},error:e[o+1],complete:e[o+2]},nme(n._query)}let h=jpe(l);return Vpe(h,u,a,c)}function ome(n,e,t){let r=t.docs.get(e._key),i=new SE(n);return new _E(n,i,e._key,r,new ya(t.hasPendingWrites,t.fromCache),e.converter)}Zpe("node");var ME=function(){return ME=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ME.apply(this,arguments)};var lme={includeMetadataChanges:!1};function QH(n,e){return e===void 0&&(e=lme),new Iu(function(t){var r=pb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function vH(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:ME(ME({},r),(t={},t[e.idField]=n.id,t))}function _H(n){return QH(n,{includeMetadataChanges:!0}).pipe(yu(function(e){return e.docs}))}function SH(n,e){return e===void 0&&(e={}),_H(n).pipe(yu(function(t){return t.map(function(r){return vH(r,e)})}))}var Ba=class{constructor(e){return e}},bH="firestore",mb=class{constructor(){return _r(bH)}};var Eb=new ot("angularfire2.firestore-instances");function ume(n,e){let t=si(bH,n,e);return t&&new Ba(t)}function hme(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ba(r)}}var Ame={provide:mb,deps:[[new Ue,Eb]]},dme={provide:Ba,useFactory:ume,deps:[[new Ue,Eb],an]};function TH(n,...e){return de("angularfire",xn.full,"fst"),mn([dme,Ame,{provide:Eb,useFactory:hme(n),multi:!0,deps:[Pt,Rn,tr,On,[new Ue,Lr],[new Ue,er],...e]}])}var DH=En(SH,!0);var RH=En(yH,!0);var kH=En(BH,!0);var FE=class n{firestore=ms(Ba);constructor(){}getQuestions(){return DH(RH(this.firestore,"questions"))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=wo({token:n,factory:n.\u0275fac,providedIn:"root"})};function fme(n,e){if(n&1&&(De(0,"div",9)(1,"div"),We(2),be()(),De(3,"div",10)(4,"div"),We(5),be()()),n&2){let t=Vi().$implicit;ei(2),VC(t.frage),ei(3),VC(t.antwort)}}function gme(n,e){if(n&1&&OC(0,fme,6,2),n&2){let t=e.$implicit,r=Vi(2);Nd(r.i==t.id&&r.counter.length!=r.questions.length?0:-1)}}function pme(n,e){if(n&1){let t=PC();De(0,"div",0)(1,"div")(2,"h3",1),We(3,"Quiz f\xFCr Jilly"),be()(),De(4,"div",2)(5,"div",3),vr("click",function(){Pa(t);let i=Vi();return Va(i.toggleFlip())}),jD(6,gme,1,1,null,null,KD),be()(),De(8,"div",4)(9,"p"),We(10),be(),De(11,"button",5),vr("click",function(){Pa(t);let i=Vi();return Va(i.next())}),We(12,"gewusst"),be(),De(13,"button",6),vr("click",function(){Pa(t);let i=Vi();return Va(i.again(i.i))}),We(14,"nochmal"),be(),De(15,"button",7),vr("click",function(){Pa(t);let i=Vi();return Va(i.restart())}),We(16,"Neu starten"),be()(),on(17,"div",8),be()}if(n&2){let t=Vi();ei(5),zD("@flipState",t.flip),ei(),$D(t.questions),ei(4),XD("Frage ",t.counter.length," von 30")}}function mme(n,e){if(n&1){let t=PC();De(0,"div",0)(1,"div")(2,"h3",1),We(3,"Quiz f\xFCr Jilly"),be()(),De(4,"div",11)(5,"p"),We(6,"Starte das Quiz"),be(),De(7,"button",7),vr("click",function(){Pa(t);let i=Vi();return Va(i.start())}),We(8,"Start"),be()()()}}var LE=class n{constructor(){this.firestoreService.getQuestions().subscribe(e=>{console.log("data",e),this.questions=e}),this.flip="inactive",this.i=this.getRandomUniqueNumber(),this.counter.push(this.i)}started=!1;answer;score=0;firestoreService=ms(FE);questions;i;counter=[];flip="inactive";restart(){this.counter=[],this.i=this.getRandomUniqueNumber(),this.counter.push(this.i)}toggleFlip(){this.flip=this.flip=="inactive"?"active":"inactive"}getRandomUniqueNumber(){if(this.counter.length>=30)throw new Error("All numbers have been used.");let e;do e=Math.floor(Math.random()*30)+1;while(this.counter.includes(e));return e}start(){this.started=!0}next(){if(console.log("next",this.i),console.log("counter",this.counter),this.counter.length>=30)return;let e;do e=Math.floor(Math.random()*30)+1;while(this.counter.includes(e));this.counter.push(e),this.i=e,this.flip==="active"&&this.toggleFlip()}again(e){console.log("again",e),this.counter.splice(this.counter.indexOf(e),1),this.flip==="inactive"&&this.toggleFlip(),this.next()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Zr({type:n,selectors:[["app-quiz"]],standalone:!0,features:[ti],decls:2,vars:2,consts:[[1,"question-box"],[1,"header"],[1,"tp-wrapper"],[1,"tp-box",3,"click"],[1,"button-menu"],[2,"background-color","green",3,"click"],[2,"background-color","red",3,"click"],[3,"click"],[2,"text-align","center"],[1,"tp-box__side","tp-box__front"],[1,"tp-box__side","tp-box__back"],[1,"start"]],template:function(t,r){t&1&&OC(0,pme,18,2,"div",0)(1,mme,9,0,"div",0),t&2&&(Nd(r.started?0:-1),ei(),Nd(r.started?-1:1))},dependencies:[iR],styles:["h3[_ngcontent-%COMP%]{text-align:center}.start[_ngcontent-%COMP%]{text-align:center;margin-top:2em}.tp-box[_ngcontent-%COMP%]{position:relative;width:80%;height:50vh;margin:3rem auto;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:transform 1s;-ms-transform:transform 1s;transform:transform 1s}.tp-box__side[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;color:#fff;font-size:24px;font-weight:700;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tp-box__side[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1em}.tp-box__front[_ngcontent-%COMP%]{background:green;-webkit-transform:rotateY(0deg);-ms-transform:rotateY(0deg);transform:rotateY(0)}.tp-box__back[_ngcontent-%COMP%]{background:#23262d;-webkit-transform:rotateY(-180deg);-ms-transform:rotateY(-180deg);transform:rotateY(-180deg)}.button-menu[_ngcontent-%COMP%]{margin:0 auto;width:50%;display:flex;justify-content:space-between;align-items:center}.button-menu[_ngcontent-%COMP%]:last-child{margin-top:2em}button[_ngcontent-%COMP%]{background:#23262d;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;margin:1rem;border-radius:5px;transition:all .3s}"],data:{animation:[uR("flipState",[jC("active",KC({transform:"rotateY(179deg)"})),jC("inactive",KC({transform:"rotateY(0)"})),$C("active => inactive",zC("500ms ease-out")),$C("inactive => active",zC("500ms ease-in"))])]}})};var PH=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(dt(xC),dt(FC))},e.\u0275dir=Pi({type:e});let n=e;return n})(),Eme=(()=>{let e=class e extends PH{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=GD(e)))(s||e)}})(),e.\u0275dir=Pi({type:e,features:[Qo]});let n=e;return n})(),VH=new ot("");var Cme={provide:VH,useExisting:kd(()=>HE),multi:!0};function Ime(){let n=JC()?JC().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var yme=new ot(""),HE=(()=>{let e=class e extends PH{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ime())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(dt(xC),dt(FC),dt(yme,8))},e.\u0275dir=Pi({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&vr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Md([Cme]),Qo]});let n=e;return n})();var GH=new ot(""),qH=new ot("");function HH(n){return n!=null}function YH(n){return ZD(n)?kC(n):n}function WH(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function JH(n,e){return e.map(t=>t(n))}function Bme(n){return!n.validate}function zH(n){return n.map(e=>Bme(e)?e:t=>e.validate(t))}function wme(n){if(!n)return null;let e=n.filter(HH);return e.length==0?null:function(t){return WH(JH(t,e))}}function Ib(n){return n!=null?wme(zH(n)):null}function Qme(n){if(!n)return null;let e=n.filter(HH);return e.length==0?null:function(t){let r=JH(t,e).map(YH);return OD(r).pipe(yu(WH))}}function yb(n){return n!=null?Qme(zH(n)):null}function NH(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vme(n){return n._rawValidators}function _me(n){return n._rawAsyncValidators}function Cb(n){return n?Array.isArray(n)?n:[n]:[]}function OE(n,e){return Array.isArray(n)?n.includes(e):n===e}function MH(n,e){let t=Cb(e);return Cb(n).forEach(i=>{OE(t,i)||t.push(i)}),t}function FH(n,e){return Cb(e).filter(t=>!OE(n,t))}var UE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ib(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Zl=class extends UE{get formDirective(){return null}get path(){return null}},ZA=class extends UE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},PE=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sme={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TDe=q(k({},Sme),{"[class.ng-submitted]":"isSubmitted"}),KH=(()=>{let e=class e extends PE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(dt(ZA,2))},e.\u0275dir=Pi({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&UC("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Qo]});let n=e;return n})(),jH=(()=>{let e=class e extends PE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(dt(Zl,10))},e.\u0275dir=Pi({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&UC("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Qo]});let n=e;return n})();var zA="VALID",xE="INVALID",$l="PENDING",KA="DISABLED",eu=class{},VE=class extends eu{constructor(e,t){super(),this.value=e,this.source=t}},$A=class extends eu{constructor(e,t){super(),this.pristine=e,this.source=t}},XA=class extends eu{constructor(e,t){super(),this.touched=e,this.source=t}},Xl=class extends eu{constructor(e,t){super(),this.status=e,this.source=t}};function $H(n){return(YE(n)?n.validators:n)||null}function bme(n){return Array.isArray(n)?Ib(n):n||null}function XH(n,e){return(YE(e)?e.asyncValidators:n)||null}function Tme(n){return Array.isArray(n)?yb(n):n||null}function YE(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Dme(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ua(1e3,"");if(!r[t])throw new Ua(1001,"")}function Rme(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ua(1002,"")})}var GE=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qu(()=>this.statusReactive()),this.statusReactive=wu(void 0),this._pristine=Qu(()=>this.pristineReactive()),this.pristineReactive=wu(!0),this._touched=Qu(()=>this.touchedReactive()),this.touchedReactive=wu(!1),this._events=new FD,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Es(this.statusReactive)}set status(e){Es(()=>this.statusReactive.set(e))}get valid(){return this.status===zA}get invalid(){return this.status===xE}get pending(){return this.status==$l}get disabled(){return this.status===KA}get enabled(){return this.status!==KA}get pristine(){return Es(this.pristineReactive)}set pristine(e){Es(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Es(this.touchedReactive)}set touched(e){Es(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FH(e,this._rawAsyncValidators))}hasValidator(e){return OE(this._rawValidators,e)}hasAsyncValidator(e){return OE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(q(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new XA(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new XA(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(q(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $A(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $A(!0,r))}markAsPending(e={}){this.status=$l;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(q(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=KA,this.errors=null,this._forEachChild(i=>{i.disable(q(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new VE(this.value,r)),this._events.next(new Xl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zA,this._forEachChild(r=>{r.enable(q(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(q(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zA||this.status===$l)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new VE(this.value,t)),this._events.next(new Xl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(q(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?KA:zA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=YH(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Bu,this.statusChanges=new Bu}_calculateStatus(){return this._allControlsDisabled()?KA:this.errors?xE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(xE)?xE:zA}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $A(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new XA(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bme(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Tme(this._rawAsyncValidators)}},qE=class extends GE{constructor(e,t,r){super($H(t),XH(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Rme(this,!0,e),Object.keys(e).forEach(r=>{Dme(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Bb=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>wb}),wb="always";function kme(n,e){return[...e.path,n]}function ZH(n,e,t=wb){eY(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Mme(n,e),Lme(n,e),Fme(n,e),Nme(n,e)}function LH(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nme(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function eY(n,e){let t=vme(n);e.validator!==null?n.setValidators(NH(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_me(n);e.asyncValidator!==null?n.setAsyncValidators(NH(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();LH(e._rawValidators,i),LH(e._rawAsyncValidators,i)}function Mme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&tY(n,e)})}function Fme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&tY(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function tY(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lme(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function xme(n,e){n==null,eY(n,e)}function Ome(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Ume(n){return Object.getPrototypeOf(n.constructor)===Eme}function Pme(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vme(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===HE?t=s:Ume(s)?r=s:i=s}),i||r||t||null}var Gme={provide:Zl,useExisting:kd(()=>Qb)},jA=Promise.resolve(),Qb=(()=>{let e=class e extends Zl{get submitted(){return Es(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Qu(()=>this.submittedReactive()),this.submittedReactive=wu(!1),this._directives=new Set,this.ngSubmit=new Bu,this.form=new qE({},Ib(r),yb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){jA.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ZH(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){jA.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){jA.then(()=>{let i=this._findContainer(r.path),s=new qE({});xme(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){jA.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){jA.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),Pme(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(dt(GH,10),dt(qH,10),dt(Bb,8))},e.\u0275dir=Pi({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&vr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Md([Gme]),Qo]});let n=e;return n})();function xH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function OH(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var qme=class extends GE{constructor(e=null,t,r){super($H(t),XH(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(OH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hme={provide:ZA,useExisting:kd(()=>vb)},UH=Promise.resolve(),vb=(()=>{let e=class e extends ZA{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new qme,this._registered=!1,this.name="",this.update=new Bu,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Vme(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Ome(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ZH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){UH.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&nR(i);UH.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?kme(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(dt(Zl,9),dt(GH,10),dt(qH,10),dt(VH,10),dt(tR,8),dt(Bb,8))},e.\u0275dir=Pi({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Md([Hme]),Qo,VD]});let n=e;return n})(),nY=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Pi({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var Yme=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=MC({type:e}),e.\u0275inj=NC({});let n=e;return n})();var rY=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Bb,useValue:r.callSetDisabledState??wb}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=MC({type:e}),e.\u0275inj=NC({imports:[Yme]});let n=e;return n})();var WE=class n{constructor(e){this.router=e}login(){this.router.navigate(["quiz"])}email="";password="";static \u0275fac=function(t){return new(t||n)(dt(fR))};static \u0275cmp=Zr({type:n,selectors:[["app-login"]],standalone:!0,features:[ti],decls:16,vars:2,consts:[[1,"login-container"],[1,"login-input"],["for","email"],["type","email","placeholder","e.g. john@doe.com","name","email",3,"ngModelChange","ngModel"],["for",""],["type","password","placeholder","your password","name","password",3,"ngModelChange","ngModel"],[1,"login-buttons"],["routerLink","/register"],[3,"click"]],template:function(t,r){t&1&&(De(0,"div",0)(1,"h3"),We(2,"Login"),be(),De(3,"div",1)(4,"form")(5,"label",2),We(6,"Email"),be(),De(7,"input",3),HC("ngModelChange",function(s){return qC(r.email,s)||(r.email=s),s}),be(),De(8,"label",4),We(9,"Password"),be(),De(10,"input",5),HC("ngModelChange",function(s){return qC(r.password,s)||(r.password=s),s}),be()()(),De(11,"div",6)(12,"button",7),We(13,"Need Account? Register"),be(),De(14,"button",8),vr("click",function(){return r.login()}),We(15,"Login"),be()()()),t&2&&(ei(7),GC("ngModel",r.email),ei(3),GC("ngModel",r.password))},dependencies:[rY,nY,HE,KH,jH,vb,Qb],styles:[".login-container[_ngcontent-%COMP%]{padding-top:5em;display:flex;justify-content:center;flex-flow:column;align-items:center;width:20em;margin:0 auto}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em 2em;border-radius:10px;border:none;width:100%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:2em 0 1em}button[_ngcontent-%COMP%]{background:#23262d;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;margin:1rem;border-radius:5px;transition:all .3s}.login-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-flow:column}"]})};var iY=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Pd},{path:"quiz",component:LE},{path:"login",component:WE}];var _b={production:!1,firebaseConfig:{apiKey:"AIzaSyANm9Hoed9oTRgtBfas56DUtFvOVgQmkdw",authDomain:"styffen-de.firebaseapp.com",projectId:"styffen-de",storageBucket:"styffen-de.appspot.com",messagingSenderId:"66303673365",appId:"1:66303673365:web:9cd80b5fb5ac861148ba1c",measurementId:"G-JN7CGR9WC3"}};var Jme="@",zme=(()=>{let e=class e{constructor(r,i,s,o,a){this.doc=r,this.delegate=i,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=ms(YD,{optional:!0}),this.loadingSchedulerFn=ms(Kme,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let r=()=>this.moduleImpl??import("./chunk-MNQTSMSS.mjs").then(s=>s),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(r):i=r(),i.catch(s=>{throw new Ua(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(r,i){let s=this.delegate.createRenderer(r,i);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Sb(s);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(r,i);o.use(c),this.scheduler?.notify(10)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){HD()},e.\u0275prov=wo({token:e,factory:e.\u0275fac});let n=e;return n})(),Sb=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Jme)}},Kme=new ot("");function sY(n="animations"){return JD("NgAsyncAnimations"),mn([{provide:WD,useFactory:(e,t,r)=>new zme(e,t,r,n),deps:[Fd,aR,Pt]},{provide:qD,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var IJ=Bo(PW(),1);var uC="5",yJ="v",BJ="s",wJ="r",QJ="f",vJ=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_J="ls",SJ="p",gT="ac",bJ="websocket",TJ="long_polling";var pT=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ga(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var mT=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var DJ=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pT(e)}}catch{}return new mT},ka=DJ("localStorage"),ET=DJ("sessionStorage");var cu=new Xn("@firebase/database"),nCe=function(){let n=1;return function(){return n++}}(),RJ=function(n){let e=bR(n),t=new Gd;t.update(e);let r=t.digest();return qd.encodeByteArray(r)},wd=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wd.apply(null,r):typeof r=="object"?e+=Rt(r):e+=r,e+=" "}return e},Na=null,VW=!0,rCe=function(n,e){G(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(cu.logLevel=Ae.VERBOSE,Na=cu.log.bind(cu),e&&ET.set("logging_enabled",!0)):typeof n=="function"?Na=n:(Na=null,ET.remove("logging_enabled"))},en=function(...n){if(VW===!0&&(VW=!1,Na===null&&ET.get("logging_enabled")===!0&&rCe(!0)),Na){let e=wd.apply(null,n);Na(e)}},Qd=function(n){return function(...e){en(n,...e)}},CT=function(...n){let e="FIREBASE INTERNAL ERROR: "+wd(...n);cu.error(e)},As=function(...n){let e=`FIREBASE FATAL ERROR: ${wd(...n)}`;throw cu.error(e),new Error(e)},jn=function(...n){let e="FIREBASE WARNING: "+wd(...n);cu.warn(e)},iCe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kJ=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},sCe=function(n){if(ni()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},uu="[MIN_NAME]",Ma="[MAX_NAME]",mu=function(n,e){if(n===e)return 0;if(n===uu||e===Ma)return-1;if(e===uu||n===Ma)return 1;{let t=GW(n),r=GW(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},oCe=function(n,e){return n===e?0:n<e?-1:1},ud=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Rt(e))},sD=function(n){if(typeof n!="object"||n===null)return Rt(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Rt(e[r]),t+=":",t+=sD(n[e[r]]);return t+="}",t},NJ=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Qr(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var MJ=function(n){G(!kJ(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,s,o,a,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));let l=[];for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),h="";for(c=0;c<64;c+=8){let A=parseInt(u.substr(c,8),2).toString(16);A.length===1&&(A="0"+A),h=h+A}return h.toLowerCase()},aCe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cCe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var lCe=new RegExp("^-?(0*)\\d{1,10}$"),uCe=-2147483648,hCe=2147483647,GW=function(n){if(lCe.test(n)){let e=Number(n);if(e>=uCe&&e<=hCe)return e}return null},vd=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw jn("Exception was thrown by user callback.",t),e},Math.floor(0))}},ACe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gd=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var hC=class{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ka.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ka.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function dCe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function FJ(n,e,t){G(typeof e=="string","typeof type must == string"),G(typeof t=="object","typeof params must == object");let r;if(e===bJ)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TJ)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dCe(n)&&(t.ns=n.namespace);let i=[];return Qr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var IT=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ER(this.counters_)}};var cT={},lT={};function oD(n){let e=n.toString();return cT[e]||(cT[e]=new IT),cT[e]}function fCe(n,e){let t=n.toString();return lT[t]||(lT[t]=e()),lT[t]}var aD="";function gCe(n){aD=n}var pCe=16384,mCe=45e3,Cd=null;typeof MozWebSocket<"u"?Cd=MozWebSocket:typeof WebSocket<"u"&&(Cd=WebSocket);function ECe(n){Cd=n}var hd=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qd(this.connId),this.stats_=oD(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){let a={};return a[yJ]=uC,!ni()&&typeof location<"u"&&location.hostname&&vJ.test(location.hostname)&&(a[wJ]=QJ),r&&(a[BJ]=r),i&&(a[_J]=i),s&&(a[gT]=s),o&&(a[SJ]=o),FJ(t,bJ,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ka.set("previous_websocket_failure",!0);try{let i;if(ni()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${uC}/${aD}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Cd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Cd!==null&&!n.forceDisallow_}static previouslyFailed(){return ka.isInMemoryStorage||ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){ka.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ga(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=Rt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=NJ(r,pCe);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mCe))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),qW="@firebase/database",HW="1.0.8";var yT=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var BT=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jn(e)}},pd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),wT=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var YW="start",CCe="close",ICe="pLPCommand",yCe="pRTLPCB",LJ="id",xJ="pw",OJ="ser",BCe="cb",wCe="seg",QCe="ts",vCe="d",_Ce="dframe",UJ=1870,PJ=30,SCe=UJ-PJ,bCe=25e3,TCe=3e4,QT=class n{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qd(e),this.stats_=oD(t),this.urlFn=c=>(this.appCheckToken&&(c[gT]=this.appCheckToken),FJ(t,TJ,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new wT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TCe)),sCe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vT((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===YW)this.id=a,this.password=c;else if(o===CCe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[YW]="t",r[OJ]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[BCe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yJ]=uC,this.transportSessionId&&(r[BJ]=this.transportSessionId),this.lastSessionId&&(r[_J]=this.lastSessionId),this.applicationId&&(r[SJ]=this.applicationId),this.appCheckToken&&(r[gT]=this.appCheckToken),typeof location<"u"&&location.hostname&&vJ.test(location.hostname)&&(r[wJ]=QJ);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return ni()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aCe()&&!cCe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=tI(t),i=NJ(r,SCe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ni())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[_Ce]="t",r[LJ]=e,r[xJ]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Rt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},vT=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ni())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=nCe(),window[ICe+this.uniqueCallbackIdentifier]=e,window[yCe+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";</script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){en("frame writing exception"),a.stack&&en(a.stack),en(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||en("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[LJ]=this.myID,e[xJ]=this.myPW,e[OJ]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PJ+r.length<=UJ;){let o=this.pendingSegs.shift();r=r+"&"+wCe+i+"="+o.seg+"&"+QCe+i+"="+o.ts+"&"+vCe+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(bCe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){ni()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{en("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var DCe=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[QT,hd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let r=hd&&hd.isAvailable(),i=r&&!hd.previouslyFailed();if(t.webSocketOnly&&(r||jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[hd];else{let s=this.transports_=[];for(let o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),RCe=6e4,kCe=5e3,NCe=10*1024,MCe=100*1024,uT="t",WW="d",FCe="s",JW="r",LCe="e",zW="o",KW="a",jW="n",$W="p",xCe="h",_T=class{constructor(e,t,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qd("c:"+this.id+":"),this.transportManager_=new DCe(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MCe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>NCe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uT in e){let t=e[uT];t===KW?this.upgradeIfSecondaryHealthy_():t===JW?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===zW&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=ud("t",e),r=ud("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$W,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:KW,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jW,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=ud("t",e),r=ud("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=ud(uT,e);if(WW in e){let r=e[WW];if(t===xCe){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===jW){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===FCe?this.onConnectionShutdown_(r):t===JW?this.onReset_(r):t===LCe?CT("Server Error: "+r):t===zW?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CT("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),uC!==r&&jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),gd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RCe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kCe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$W,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var AC=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var dC=class{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var fC=class n extends dC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Su()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var XW=32,ZW=768,Ge=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Ve(){return new Ge("")}function Ie(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yo(n){return n.pieces_.length-n.pieceNum_}function je(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ge(n.pieces_,e)}function VJ(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function OCe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function GJ(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function qJ(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ge(e,0)}function Ot(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ge)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ge(t,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function Br(n,e){let t=Ie(n),r=Ie(e);if(t===null)return e;if(t===r)return Br(je(n),je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function HJ(n,e){if(yo(n)!==yo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function jr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(yo(n)>yo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var ST=class{constructor(e,t){this.errorPrefix_=t,this.parts_=GJ(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Du(this.parts_[r]);YJ(this)}};function UCe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Du(e),YJ(n)}function PCe(n){let e=n.parts_.pop();n.byteLength_-=Du(e),n.parts_.length>0&&(n.byteLength_-=1)}function YJ(n){if(n.byteLength_>ZW)throw new Error(n.errorPrefix_+"has a key path longer than "+ZW+" bytes ("+n.byteLength_+").");if(n.parts_.length>XW)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+XW+") or object contains a cycle "+Ra(n))}function Ra(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var bT=class n extends dC{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new n}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ad=1e3,VCe=60*5*1e3,eJ=30*1e3,GCe=1.3,qCe=3e4,HCe="server_kill",tJ=3,cD=(()=>{class n extends AC{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Qd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ad,this.maxReconnectDelay_=VCe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ni())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bT.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&fC.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Rt(o)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();let r=new vo,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();let o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Nn(t,"w")){let i=So(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||_R(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eJ)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=vR(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);let o={p:t},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Rt(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):CT("Unrecognized action received from server: "+Rt(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qCe&&(this.reconnectDelay_=Ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GCe)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(A){G(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(A)};this.realtime_={close:l,sendRequest:u};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[A,d]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),this.authToken_=A&&A.accessToken,this.appCheckToken_=d&&d.token,c=new _T(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,C=>{jn(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(HCe)},o))}catch(A){this.log_("Failed to get token: "+A),a||(this.repoInfo_.nodeAdmin&&jn(A),l())}}})}interrupt(t){en("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){en("Resuming connection for reason: "+t),delete this.interruptReasons_[t],cI(this.interruptReasons_)&&(this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(o=>sD(o)).join("$"):i="default";let s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){let i=new Ge(t).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){en("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tJ&&(this.reconnectDelay_=eJ,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){en("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tJ&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";ni()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+aD.replace(/\./g,"-")]=1,Su()?t["framework.cordova"]=1:Hd()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=fC.getInstance().currentlyOnline();return cI(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),ye=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var hu=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new ye(uu,e),i=new ye(uu,t);return this.compare(r,i)!==0}minPost(){return ye.MIN}};var lC,gC=class extends hu{static get __EMPTY_NODE(){return lC}static set __EMPTY_NODE(e){lC=e}compare(e,t){return mu(e.name,t.name)}isDefinedOn(e){throw _o("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Ma,lC)}makePost(e,t){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,lC)}toString(){return".key"}},lu=new gC;var ou=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Kr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??wr.EMPTY_NODE,this.right=o??wr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return wr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),TT=class{copy(e,t,r,i,s){return this}insert(e,t,r){return new Kr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wr=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Kr.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ou(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ou(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ou(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ou(this.root_,null,this.comparator_,!0,e)}};wr.EMPTY_NODE=new TT;function YCe(n,e){return mu(n.name,e.name)}function lD(n,e){return mu(n,e)}var DT;function WCe(n){DT=n}var WJ=function(n){return typeof n=="number"?"number:"+MJ(n):"string:"+n},JJ=function(n){if(n.isLeafNode()){let e=n.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nn(e,".sv"),"Priority must be a string or number.")}else G(n===DT||n.isEmpty(),"priority of unexpected type.");G(n===DT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var nJ,Au=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JJ(this.priorityNode_)}static set __childrenNodeConstructor(t){nJ=t}static get __childrenNodeConstructor(){return nJ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return me(t)?this:Ie(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=Ie(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(G(i!==".priority"||yo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+WJ(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=MJ(this.value_):t+=this.value_,this.lazyHash_=RJ(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return G(s>=0,"Unknown leaf type: "+r),G(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),zJ,KJ;function JCe(n){zJ=n}function zCe(n){KJ=n}var RT=class extends hu{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?mu(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Ma,new Au("[PRIORITY-POST]",KJ))}makePost(e,t){let r=zJ(e);return new ye(t,new Au("[PRIORITY-POST]",r))}toString(){return".priority"}},nn=new RT;var KCe=Math.log(2),kT=class{constructor(e){let t=s=>parseInt(Math.log(s)/KCe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},pC=function(n,e,t,r){n.sort(e);let i=function(c,l){let u=l-c,h,A;if(u===0)return null;if(u===1)return h=n[c],A=t?t(h):h,new Kr(A,h.node,Kr.BLACK,null,null);{let d=parseInt(u/2,10)+c,C=i(c,d),m=i(d+1,l);return h=n[d],A=t?t(h):h,new Kr(A,h.node,Kr.BLACK,C,m)}},s=function(c){let l=null,u=null,h=n.length,A=function(C,m){let y=h-C,_=h;h-=C;let S=i(y+1,_),R=n[y],D=t?t(R):R;d(new Kr(D,R.node,m,null,S))},d=function(C){l?(l.left=C,l=C):(u=C,l=C)};for(let C=0;C<c.count;++C){let m=c.nextBitIsOne(),y=Math.pow(2,c.count-(C+1));m?A(y,Kr.BLACK):(A(y,Kr.BLACK),A(y,Kr.RED))}return u},o=new kT(n.length),a=s(o);return new wr(r||e,a)};var hT,su={},du=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return G(su&&nn,"ChildrenNode.ts has not been loaded"),hT=hT||new n({".priority":su},{".priority":nn}),hT}get(e){let t=So(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof wr?t:null}hasIndex(e){return Nn(this.indexSet_,e.toString())}addIndex(e,t){G(e!==lu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(ye.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=pC(r,e.getCompare()):a=su;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new n(u,l)}addToIndexes(e,t){let r=bu(this.indexes_,(i,s)=>{let o=So(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===su)if(o.isDefinedOn(e.node)){let a=[],c=t.getIterator(ye.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),pC(a,o.getCompare())}else return su;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new ye(e.name,a))),c.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=bu(this.indexes_,i=>{if(i===su)return i;{let s=t.get(e.name);return s?i.remove(new ye(e.name,s)):i}});return new n(r,this.indexSet_)}};var dd,it=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&JJ(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dd||(dd=new n(new wr(lD),null,du.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?dd:r}}getChild(t){let r=Ie(t);return r===null?this:this.getImmediateChild(r).getChild(je(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(G(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new ye(t,r),s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?dd:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){let i=Ie(t);if(i===null)return r;{G(Ie(t)!==".priority"||yo(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(je(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(nn,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+WJ(this.getPriority().val())+":"),this.forEachChild(nn,(r,i)=>{let s=i.hash();s!==""&&(t+=":"+r+":"+s)}),this.lazyHash_=t===""?"":RJ(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ye(t,r));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new ye(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new ye(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,ye.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,ye.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_d?-1:0}withIndex(t){if(t===lu||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===lu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(nn),s=r.getIterator(nn),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===lu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),NT=class extends it{constructor(){super(new wr(lD),it.EMPTY_NODE,du.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}},_d=new NT;Object.defineProperties(ye,{MIN:{value:new ye(uu,it.EMPTY_NODE)},MAX:{value:new ye(Ma,_d)}});gC.__EMPTY_NODE=it.EMPTY_NODE;Au.__childrenNodeConstructor=it;WCe(_d);zCe(_d);var jCe=!0;function tn(n,e=null){if(n===null)return it.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new Au(t,tn(e))}if(!(n instanceof Array)&&jCe){let t=[],r=!1;if(Qr(n,(o,a)=>{if(o.substring(0,1)!=="."){let c=tn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new ye(o,c)))}}),t.length===0)return it.EMPTY_NODE;let s=pC(t,YCe,o=>o.name,lD);if(r){let o=pC(t,nn.getCompare());return new it(s,tn(e),new du({".priority":o},{".priority":nn}))}else return new it(s,tn(e),du.Default)}else{let t=it.EMPTY_NODE;return Qr(n,(r,i)=>{if(Nn(n,r)&&r.substring(0,1)!=="."){let s=tn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(tn(e))}}JCe(tn);var MT=class extends hu{constructor(e){super(),this.indexPath_=e,G(!me(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?mu(e.name,t.name):s}makePost(e,t){let r=tn(e),i=it.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(t,i)}maxPost(){let e=it.EMPTY_NODE.updateChild(this.indexPath_,_d);return new ye(Ma,e)}toString(){return GJ(this.indexPath_,0).join("/")}};var FT=class extends hu{compare(e,t){let r=e.node.compareTo(t.node);return r===0?mu(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,t){let r=tn(e);return new ye(t,r)}toString(){return".value"}},$Ce=new FT;function XCe(n){return{type:"value",snapshotNode:n}}function ZCe(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function eIe(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rJ(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function tIe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var LT=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uu}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function iJ(n){let e={};if(n.isDefault())return e;let t;if(n.index_===nn?t="$priority":n.index_===$Ce?t="$value":n.index_===lu?t="$key":(G(n.index_ instanceof MT,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Rt(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=Rt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Rt(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Rt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function sJ(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==nn&&(e.i=n.index_.toString()),e}var xT=class n extends AC{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=n.getListenId_(e,r),a={};this.listens_[o]=a;let c=iJ(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let h=u;if(l===404&&(h=null,l=null),l===null&&this.onDataUpdate_(s,h,!1,r),So(this.listens_,o)===a){let A;l?l===401?A="permission_denied":A="rest_error:"+l:A="ok",i(A,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=iJ(e._queryParams),r=e._path.toString(),i=new vo;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tu(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ga(a.responseText)}catch{jn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&jn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var OT=class{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function mC(){return{value:null,children:new Map}}function jJ(n,e,t){if(me(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=Ie(e);n.children.has(r)||n.children.set(r,mC());let i=n.children.get(r);e=je(e),jJ(i,e,t)}}function UT(n,e,t){n.value!==null?t(e,n.value):nIe(n,(r,i)=>{let s=new Ge(e.toString()+"/"+r);UT(i,s,t)})}function nIe(n,e){n.children.forEach((t,r)=>{e(r,t)})}var PT=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Qr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var oJ=10*1e3,rIe=30*1e3,iIe=5*60*1e3,VT=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new PT(e);let r=oJ+(rIe-oJ)*Math.random();gd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;Qr(e,(i,s)=>{s>0&&Nn(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),gd(this.reportStats_.bind(this),Math.floor(Math.random()*2*iIe))}};var hs=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(hs||{});function $J(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function XJ(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ZJ(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var GT=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=hs.ACK_USER_WRITE,this.source=$J()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new Ge(e));return new n(Ve(),t,this.revert)}}else return G(Ie(this.path)===e,"operationForChild called for unrelated child."),new n(je(this.path),this.affectedTree,this.revert)}};var fu=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=hs.OVERWRITE}operationForChild(e){return me(this.path)?new n(this.source,Ve(),this.snap.getImmediateChild(e)):new n(this.source,je(this.path),this.snap)}};var EC=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=hs.MERGE}operationForChild(e){if(me(this.path)){let t=this.children.subtree(new Ge(e));return t.isEmpty()?null:t.value?new fu(this.source,Ve(),t.value):new n(this.source,Ve(),t)}else return G(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Id=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;let t=Ie(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function sIe(n,e,t,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(tIe(o.childName,o.snapshotNode))}),fd(n,i,"child_removed",e,r,t),fd(n,i,"child_added",e,r,t),fd(n,i,"child_moved",s,r,t),fd(n,i,"child_changed",e,r,t),fd(n,i,"value",e,r,t),i}function fd(n,e,t,r,i,s){let o=r.filter(a=>a.type===t);o.sort((a,c)=>aIe(n,a,c)),o.forEach(a=>{let c=oIe(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function oIe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function aIe(n,e,t){if(e.childName==null||t.childName==null)throw _o("Should only compare child_ events.");let r=new ye(e.childName,e.snapshotNode),i=new ye(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function ez(n,e){return{eventCache:n,serverCache:e}}function md(n,e,t,r){return ez(new Id(e,t,r),n.serverCache)}function tz(n,e,t,r){return ez(n.eventCache,new Id(e,t,r))}function qT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var AT,cIe=()=>(AT||(AT=new wr(oCe)),AT),Tn=class n{constructor(e,t=cIe()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return Qr(e,(r,i)=>{t=t.set(new Ge(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ve(),value:this.value};if(me(e))return null;{let r=Ie(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(je(e),t);return s!=null?{path:Ot(new Ge(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{let t=Ie(e),r=this.children.get(t);return r!==null?r.subtree(je(e)):new n(null)}}set(e,t){if(me(e))return new n(t,this.children);{let r=Ie(e),s=(this.children.get(r)||new n(null)).set(je(e),t),o=this.children.insert(r,s);return new n(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Ie(e),r=this.children.get(t);if(r){let i=r.remove(je(e)),s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(me(e))return this.value;{let t=Ie(e),r=this.children.get(t);return r?r.get(je(e)):null}}setTree(e,t){if(me(e))return t;{let r=Ie(e),s=(this.children.get(r)||new n(null)).setTree(je(e),t),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new n(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ot(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ve(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(me(e))return null;{let s=Ie(e),o=this.children.get(s);return o?o.findOnPath_(je(e),Ot(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ve(),t)}foreachOnPath_(e,t,r){if(me(e))return this;{this.value&&r(t,this.value);let i=Ie(e),s=this.children.get(i);return s?s.foreachOnPath_(je(e),Ot(t,i),r):new n(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ot(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var $r=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new Tn(null))}};function Ed(n,e,t){if(me(e))return new $r(new Tn(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Br(i,e);return s=s.updateChild(o,t),new $r(n.writeTree_.set(i,s))}else{let i=new Tn(t),s=n.writeTree_.setTree(e,i);return new $r(s)}}}function aJ(n,e,t){let r=n;return Qr(t,(i,s)=>{r=Ed(r,Ot(e,i),s)}),r}function cJ(n,e){if(me(e))return $r.empty();{let t=n.writeTree_.setTree(e,new Tn(null));return new $r(t)}}function HT(n,e){return La(n,e)!=null}function La(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Br(t.path,e)):null}function lJ(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(nn,(r,i)=>{e.push(new ye(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ye(r,i.value))}),e}function Io(n,e){if(me(e))return n;{let t=La(n,e);return t!=null?new $r(new Tn(t)):new $r(n.writeTree_.subtree(e))}}function YT(n){return n.writeTree_.isEmpty()}function gu(n,e){return nz(Ve(),n.writeTree_,e)}function nz(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=nz(Ot(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Ot(n,".priority"),r)),t}}function rz(n,e){return cz(e,n)}function lIe(n,e,t,r,i){G(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ed(n.visibleWrites,e,t)),n.lastWriteId=r}function uIe(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function hIe(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);G(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&AIe(a,r.path)?i=!1:jr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return dIe(n),!0;if(r.snap)n.visibleWrites=cJ(n.visibleWrites,r.path);else{let a=r.children;Qr(a,c=>{n.visibleWrites=cJ(n.visibleWrites,Ot(r.path,c))})}return!0}else return!1}function AIe(n,e){if(n.snap)return jr(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&jr(Ot(n.path,t),e))return!0;return!1}function dIe(n){n.visibleWrites=iz(n.allWrites,fIe,Ve()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function fIe(n){return n.visible}function iz(n,e,t){let r=$r.empty();for(let i=0;i<n.length;++i){let s=n[i];if(e(s)){let o=s.path,a;if(s.snap)jr(t,o)?(a=Br(t,o),r=Ed(r,a,s.snap)):jr(o,t)&&(a=Br(o,t),r=Ed(r,Ve(),s.snap.getChild(a)));else if(s.children){if(jr(t,o))a=Br(t,o),r=aJ(r,a,s.children);else if(jr(o,t))if(a=Br(o,t),me(a))r=aJ(r,Ve(),s.children);else{let c=So(s.children,Ie(a));if(c){let l=c.getChild(je(a));r=Ed(r,Ve(),l)}}}else throw _o("WriteRecord should have .snap or .children")}}return r}function sz(n,e,t,r,i){if(!r&&!i){let s=La(n.visibleWrites,e);if(s!=null)return s;{let o=Io(n.visibleWrites,e);if(YT(o))return t;if(t==null&&!HT(o,Ve()))return null;{let a=t||it.EMPTY_NODE;return gu(o,a)}}}else{let s=Io(n.visibleWrites,e);if(!i&&YT(s))return t;if(!i&&t==null&&!HT(s,Ve()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(jr(l.path,e)||jr(e,l.path))},a=iz(n.allWrites,o,e),c=t||it.EMPTY_NODE;return gu(a,c)}}}function gIe(n,e,t){let r=it.EMPTY_NODE,i=La(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(nn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){let s=Io(n.visibleWrites,e);return t.forEachChild(nn,(o,a)=>{let c=gu(Io(s,new Ge(o)),a);r=r.updateImmediateChild(o,c)}),lJ(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Io(n.visibleWrites,e);return lJ(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pIe(n,e,t,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Ot(e,t);if(HT(n.visibleWrites,s))return null;{let o=Io(n.visibleWrites,s);return YT(o)?i.getChild(t):gu(o,i.getChild(t))}}function mIe(n,e,t,r){let i=Ot(e,t),s=La(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){let o=Io(n.visibleWrites,i);return gu(o,r.getNode().getImmediateChild(t))}else return null}function EIe(n,e){return La(n.visibleWrites,e)}function CIe(n,e,t,r,i,s,o){let a,c=Io(n.visibleWrites,e),l=La(c,Ve());if(l!=null)a=l;else if(t!=null)a=gu(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],h=o.getCompare(),A=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),d=A.getNext();for(;d&&u.length<i;)h(d,r)!==0&&u.push(d),d=A.getNext();return u}else return[]}function IIe(){return{visibleWrites:$r.empty(),allWrites:[],lastWriteId:-1}}function WT(n,e,t,r){return sz(n.writeTree,n.treePath,e,t,r)}function oz(n,e){return gIe(n.writeTree,n.treePath,e)}function uJ(n,e,t,r){return pIe(n.writeTree,n.treePath,e,t,r)}function CC(n,e){return EIe(n.writeTree,Ot(n.treePath,e))}function yIe(n,e,t,r,i,s){return CIe(n.writeTree,n.treePath,e,t,r,i,s)}function uD(n,e,t){return mIe(n.writeTree,n.treePath,e,t)}function az(n,e){return cz(Ot(n.treePath,e),n.writeTree)}function cz(n,e){return{treePath:n,writeTree:e}}var JT=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;G(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,rJ(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,eIe(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,ZCe(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,rJ(r,e.snapshotNode,i.oldSnap));else throw _o("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var zT=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},lz=new zT,yd=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Id(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uD(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fa(this.viewCache_),s=yIe(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}};function BIe(n,e){G(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function wIe(n,e,t,r,i){let s=new JT,o,a;if(t.type===hs.OVERWRITE){let l=t;l.source.fromUser?o=KT(n,e,l.path,l.snap,r,i,s):(G(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!me(l.path),o=IC(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===hs.MERGE){let l=t;l.source.fromUser?o=vIe(n,e,l.path,l.children,r,i,s):(G(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=jT(n,e,l.path,l.children,r,i,a,s))}else if(t.type===hs.ACK_USER_WRITE){let l=t;l.revert?o=bIe(n,e,l.path,r,i,s):o=_Ie(n,e,l.path,l.affectedTree,r,i,s)}else if(t.type===hs.LISTEN_COMPLETE)o=SIe(n,e,t.path,r,s);else throw _o("Unknown operation type: "+t.type);let c=s.getChanges();return QIe(e,o,c),{viewCache:o,changes:c}}function QIe(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=qT(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(XCe(qT(e)))}}function uz(n,e,t,r,i,s){let o=e.eventCache;if(CC(r,t)!=null)return e;{let a,c;if(me(t))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Fa(e),u=l instanceof it?l:it.EMPTY_NODE,h=oz(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let l=WT(r,Fa(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=Ie(t);if(l===".priority"){G(yo(t)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let h=uJ(r,t,u,c);h!=null?a=n.filter.updatePriority(u,h):a=o.getNode()}else{let u=je(t),h;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let A=uJ(r,t,o.getNode(),c);A!=null?h=o.getNode().getImmediateChild(l).updateChild(u,A):h=o.getNode().getImmediateChild(l)}else h=uD(r,l,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),l,h,u,i,s):a=o.getNode()}}return md(e,a,o.isFullyInitialized()||me(t),n.filter.filtersNodes())}}function IC(n,e,t,r,i,s,o,a){let c=e.serverCache,l,u=o?n.filter:n.filter.getIndexedFilter();if(me(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let d=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),d,null)}else{let d=Ie(t);if(!c.isCompleteForPath(t)&&yo(t)>1)return e;let C=je(t),y=c.getNode().getImmediateChild(d).updateChild(C,r);d===".priority"?l=u.updatePriority(c.getNode(),y):l=u.updateChild(c.getNode(),d,y,C,lz,null)}let h=tz(e,l,c.isFullyInitialized()||me(t),u.filtersNodes()),A=new yd(i,h,s);return uz(n,h,t,i,A,a)}function KT(n,e,t,r,i,s,o){let a=e.eventCache,c,l,u=new yd(i,e,s);if(me(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=md(e,l,!0,n.filter.filtersNodes());else{let h=Ie(t);if(h===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),c=md(e,l,a.isFullyInitialized(),a.isFiltered());else{let A=je(t),d=a.getNode().getImmediateChild(h),C;if(me(A))C=r;else{let m=u.getCompleteChild(h);m!=null?VJ(A)===".priority"&&m.getChild(qJ(A)).isEmpty()?C=m:C=m.updateChild(A,r):C=it.EMPTY_NODE}if(d.equals(C))c=e;else{let m=n.filter.updateChild(a.getNode(),h,C,A,u,o);c=md(e,m,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function hJ(n,e){return n.eventCache.isCompleteForChild(e)}function vIe(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=Ot(t,c);hJ(e,Ie(u))&&(a=KT(n,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=Ot(t,c);hJ(e,Ie(u))||(a=KT(n,a,u,l,i,s,o))}),a}function AJ(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jT(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;me(t)?l=r:l=new Tn(null).setTree(t,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((h,A)=>{if(u.hasChild(h)){let d=e.serverCache.getNode().getImmediateChild(h),C=AJ(n,d,A);c=IC(n,c,new Ge(h),C,i,s,o,a)}}),l.children.inorderTraversal((h,A)=>{let d=!e.serverCache.isCompleteForChild(h)&&A.value===null;if(!u.hasChild(h)&&!d){let C=e.serverCache.getNode().getImmediateChild(h),m=AJ(n,C,A);c=IC(n,c,new Ge(h),m,i,s,o,a)}}),c}function _Ie(n,e,t,r,i,s,o){if(CC(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(me(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return IC(n,e,t,c.getNode().getChild(t),i,s,a,o);if(me(t)){let l=new Tn(null);return c.getNode().forEachChild(lu,(u,h)=>{l=l.set(new Ge(u),h)}),jT(n,e,t,l,i,s,a,o)}else return e}else{let l=new Tn(null);return r.foreach((u,h)=>{let A=Ot(t,u);c.isCompleteForPath(A)&&(l=l.set(u,c.getNode().getChild(A)))}),jT(n,e,t,l,i,s,a,o)}}function SIe(n,e,t,r,i){let s=e.serverCache,o=tz(e,s.getNode(),s.isFullyInitialized()||me(t),s.isFiltered());return uz(n,o,t,r,lz,i)}function bIe(n,e,t,r,i,s){let o;if(CC(r,t)!=null)return e;{let a=new yd(r,e,i),c=e.eventCache.getNode(),l;if(me(t)||Ie(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=WT(r,Fa(e));else{let h=e.serverCache.getNode();G(h instanceof it,"serverChildren would be complete if leaf node"),u=oz(r,h)}u=u,l=n.filter.updateFullNode(c,u,s)}else{let u=Ie(t),h=uD(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=c.getImmediateChild(u)),h!=null?l=n.filter.updateChild(c,u,h,je(t),a,s):e.eventCache.getNode().hasChild(u)?l=n.filter.updateChild(c,u,it.EMPTY_NODE,je(t),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=WT(r,Fa(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||CC(r,Ve())!=null,md(e,l,o,n.filter.filtersNodes())}}function TIe(n,e){let t=Fa(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!me(e)&&!t.getImmediateChild(Ie(e)).isEmpty())?t.getChild(e):null}function dJ(n,e,t,r){e.type===hs.MERGE&&e.source.queryId!==null&&(G(Fa(n.viewCache_),"We should always have a full cache before handling merges"),G(qT(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,s=wIe(n.processor_,i,e,t,r);return BIe(n.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,DIe(n,s.changes,s.viewCache.eventCache.getNode(),null)}function DIe(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return sIe(n.eventGenerator_,e,t,i)}var fJ;function RIe(n){G(!fJ,"__referenceConstructor has already been defined"),fJ=n}function hD(n,e,t,r){let i=e.source.queryId;if(i!==null){let s=n.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),dJ(s,e,t,r)}else{let s=[];for(let o of n.views.values())s=s.concat(dJ(o,e,t,r));return s}}function AD(n,e){let t=null;for(let r of n.views.values())t=t||TIe(r,e);return t}var gJ;function kIe(n){G(!gJ,"__referenceConstructor has already been defined"),gJ=n}var yC=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=IIe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function NIe(n,e,t,r,i){return lIe(n.pendingWriteTree_,e,t,r,i),i?wC(n,new fu($J(),e,t)):[]}function au(n,e,t=!1){let r=uIe(n.pendingWriteTree_,e);if(hIe(n.pendingWriteTree_,e)){let s=new Tn(null);return r.snap!=null?s=s.set(Ve(),!0):Qr(r.children,o=>{s=s.set(new Ge(o),!0)}),wC(n,new GT(r.path,s,t))}else return[]}function BC(n,e,t){return wC(n,new fu(XJ(),e,t))}function MIe(n,e,t){let r=Tn.fromObject(t);return wC(n,new EC(XJ(),e,r))}function FIe(n,e,t,r){let i=fz(n,r);if(i!=null){let s=gz(i),o=s.path,a=s.queryId,c=Br(o,e),l=new fu(ZJ(a),c,t);return pz(n,o,l)}else return[]}function LIe(n,e,t,r){let i=fz(n,r);if(i){let s=gz(i),o=s.path,a=s.queryId,c=Br(o,e),l=Tn.fromObject(t),u=new EC(ZJ(a),c,l);return pz(n,o,u)}else return[]}function hz(n,e,t){let i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let c=Br(o,e),l=AD(a,c);if(l)return l});return sz(i,e,s,t,!0)}function wC(n,e){return Az(e,n.syncPointTree_,null,rz(n.pendingWriteTree_,Ve()))}function Az(n,e,t,r){if(me(n.path))return dz(n,e,t,r);{let i=e.get(Ve());t==null&&i!=null&&(t=AD(i,Ve()));let s=[],o=Ie(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){let l=t?t.getImmediateChild(o):null,u=az(r,o);s=s.concat(Az(a,c,l,u))}return i&&(s=s.concat(hD(i,n,r,t))),s}}function dz(n,e,t,r){let i=e.get(Ve());t==null&&i!=null&&(t=AD(i,Ve()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=t?t.getImmediateChild(o):null,l=az(r,o),u=n.operationForChild(o);u&&(s=s.concat(dz(u,a,c,l)))}),i&&(s=s.concat(hD(i,n,r,t))),s}function fz(n,e){return n.tagToQueryMap.get(e)}function gz(n){let e=n.indexOf("$");return G(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ge(n.substr(0,e))}}function pz(n,e,t){let r=n.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");let i=rz(n.pendingWriteTree_,e);return hD(r,t,i,null)}var $T=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},XT=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=Ot(this.path_,e);return new n(this.syncTree_,t)}node(){return hz(this.syncTree_,this.path_)}},xIe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},pJ=function(n,e,t){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return OIe(n[".sv"],e,t);if(typeof n[".sv"]=="object")return UIe(n[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},OIe=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:G(!1,"Unexpected server value: "+n)}},UIe=function(n,e,t){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);let i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},PIe=function(n,e,t,r){return dD(e,new XT(t,n),r)},VIe=function(n,e,t){return dD(n,new $T(e),t)};function dD(n,e,t){let r=n.getPriority().val(),i=pJ(r,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=pJ(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Au(a,tn(i)):n}else{let o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Au(i))),o.forEachChild(nn,(a,c)=>{let l=dD(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var Bd=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function fD(n,e){let t=e instanceof Ge?e:new Ge(e),r=n,i=Ie(t);for(;i!==null;){let s=So(r.node.children,i)||{children:{},childCount:0};r=new Bd(i,r,s),t=je(t),i=Ie(t)}return r}function Eu(n){return n.node.value}function mz(n,e){n.node.value=e,ZT(n)}function Ez(n){return n.node.childCount>0}function GIe(n){return Eu(n)===void 0&&!Ez(n)}function QC(n,e){Qr(n.node.children,(t,r)=>{e(new Bd(t,n,r))})}function Cz(n,e,t,r){t&&!r&&e(n),QC(n,i=>{Cz(i,e,!0,r)}),t&&r&&e(n)}function qIe(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sd(n){return new Ge(n.parent===null?n.name:Sd(n.parent)+"/"+n.name)}function ZT(n){n.parent!==null&&HIe(n.parent,n.name,n)}function HIe(n,e,t){let r=GIe(t),i=Nn(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,ZT(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,ZT(n))}var YIe=/[\[\].#$\/\u0000-\u001F\u007F]/,WIe=/[\[\].#$\u0000-\u001F\u007F]/,dT=10*1024*1024,Iz=function(n){return typeof n=="string"&&n.length!==0&&!YIe.test(n)},JIe=function(n){return typeof n=="string"&&n.length!==0&&!WIe.test(n)},zIe=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JIe(n)};var yz=function(n,e,t){let r=t instanceof Ge?new ST(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Ra(r));if(typeof e=="function")throw new Error(n+"contains a function "+Ra(r)+" with contents = "+e.toString());if(kJ(e))throw new Error(n+"contains "+e.toString()+" "+Ra(r));if(typeof e=="string"&&e.length>dT/3&&Du(e)>dT)throw new Error(n+"contains a string greater than "+dT+" utf8 bytes "+Ra(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Iz(o)))throw new Error(n+" contains an invalid key ("+o+") "+Ra(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UCe(r,o),yz(n,a,r),PCe(r)}),i&&s)throw new Error(n+' contains ".value" child '+Ra(r)+" in addition to actual children.")}};var KIe=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Iz(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!zIe(t))throw new Error(SR(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var eD=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function jIe(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();t!==null&&!HJ(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function xa(n,e,t){jIe(n,t),$Ie(n,r=>jr(r,e)||jr(e,r))}function $Ie(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let s=i.path;e(s)?(XIe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function XIe(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();Na&&en("event: "+t.toString()),vd(r)}}}var ZIe="repo_interrupt",eye=25,tD=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mC(),this.transactionQueueTree_=new Bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function tye(n,e,t){if(n.stats_=oD(n.repoInfo_),n.forceRestClient_||ACe())n.server_=new xT(n.repoInfo_,(r,i,s,o)=>{mJ(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>EJ(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new cD(n.repoInfo_,e,(r,i,s,o)=>{mJ(n,r,i,s,o)},r=>{EJ(n,r)},r=>{rye(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=fCe(n.repoInfo_,()=>new VT(n.stats_,n.server_)),n.infoData_=new OT,n.infoSyncTree_=new yC({startListening:(r,i,s,o)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=BC(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gD(n,"connected",!1),n.serverSyncTree_=new yC({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);xa(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function nye(n){let t=n.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Bz(n){return xIe({timestamp:nye(n)})}function mJ(n,e,t,r,i){n.dataUpdateCount++;let s=new Ge(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){let c=bu(t,l=>tn(l));o=LIe(n.serverSyncTree_,s,c,i)}else{let c=tn(t);o=FIe(n.serverSyncTree_,s,c,i)}else if(r){let c=bu(t,l=>tn(l));o=MIe(n.serverSyncTree_,s,c)}else{let c=tn(t);o=BC(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=mD(n,s)),xa(n.eventQueue_,a,o)}function EJ(n,e){gD(n,"connected",e),e===!1&&sye(n)}function rye(n,e){Qr(e,(t,r)=>{gD(n,t,r)})}function gD(n,e,t){let r=new Ge("/.info/"+e),i=tn(t);n.infoData_.updateSnapshot(r,i);let s=BC(n.infoSyncTree_,r,i);xa(n.eventQueue_,r,s)}function iye(n){return n.nextWriteId_++}function sye(n){wz(n,"onDisconnectEvents");let e=Bz(n),t=mC();UT(n.onDisconnect_,Ve(),(i,s)=>{let o=PIe(i,s,n.serverSyncTree_,e);jJ(t,i,o)});let r=[];UT(t,Ve(),(i,s)=>{r=r.concat(BC(n.serverSyncTree_,i,s));let o=lye(n,i);mD(n,o)}),n.onDisconnect_=mC(),xa(n.eventQueue_,Ve(),r)}function oye(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZIe)}function wz(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),en(t,...e)}function Qz(n,e,t){return hz(n.serverSyncTree_,e,t)||it.EMPTY_NODE}function pD(n,e=n.transactionQueueTree_){if(e||vC(n,e),Eu(e)){let t=_z(n,e);G(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&aye(n,Sd(e),t)}else Ez(e)&&QC(e,t=>{pD(n,t)})}function aye(n,e,t){let r=t.map(l=>l.currentWriteId),i=Qz(n,e,r),s=i,o=i.hash();for(let l=0;l<t.length;l++){let u=t[l];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let h=Br(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{wz(n,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let h=[];for(let A=0;A<t.length;A++)t[A].status=2,u=u.concat(au(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&h.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();vC(n,fD(n.transactionQueueTree_,e)),pD(n,n.transactionQueueTree_),xa(n.eventQueue_,e,u);for(let A=0;A<h.length;A++)vd(h[A])}else{if(l==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{jn("transaction at "+c.toString()+" failed: "+l);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=l}mD(n,e)}},o)}function mD(n,e){let t=vz(n,e),r=Sd(t),i=_z(n,t);return cye(n,i,r),r}function cye(n,e,t){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Br(t,c.path),u=!1,h;if(G(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,h=c.abortReason,i=i.concat(au(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=eye)u=!0,h="maxretry",i=i.concat(au(n.serverSyncTree_,c.currentWriteId,!0));else{let A=Qz(n,c.path,o);c.currentInputSnapshot=A;let d=e[a].update(A.val());if(d!==void 0){yz("transaction failed: Data returned ",d,c.path);let C=tn(d);typeof d=="object"&&d!=null&&Nn(d,".priority")||(C=C.updatePriority(A.getPriority()));let y=c.currentWriteId,_=Bz(n),S=VIe(C,A,_);c.currentOutputSnapshotRaw=C,c.currentOutputSnapshotResolved=S,c.currentWriteId=iye(n),o.splice(o.indexOf(y),1),i=i.concat(NIe(n.serverSyncTree_,c.path,S,c.currentWriteId,c.applyLocally)),i=i.concat(au(n.serverSyncTree_,y,!0))}else u=!0,h="nodata",i=i.concat(au(n.serverSyncTree_,c.currentWriteId,!0))}xa(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(A){setTimeout(A,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}vC(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)vd(r[a]);pD(n,n.transactionQueueTree_)}function vz(n,e){let t,r=n.transactionQueueTree_;for(t=Ie(e);t!==null&&Eu(r)===void 0;)r=fD(r,t),e=je(e),t=Ie(e);return r}function _z(n,e){let t=[];return Sz(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Sz(n,e,t){let r=Eu(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);QC(e,i=>{Sz(n,i,t)})}function vC(n,e){let t=Eu(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,mz(e,t.length>0?t:void 0)}QC(e,r=>{vC(n,r)})}function lye(n,e){let t=Sd(vz(n,e)),r=fD(n.transactionQueueTree_,e);return qIe(r,i=>{fT(n,i)}),fT(n,r),Cz(r,i=>{fT(n,i)}),t}function fT(n,e){let t=Eu(e);if(t){let r=[],i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(G(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(au(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mz(e,void 0):t.length=s+1,xa(n.eventQueue_,Sd(e),i);for(let o=0;o<r.length;o++)vd(r[o])}}function uye(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function hye(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jn(`Invalid query segment '${t}' in query '${n}'`)}return e}var CJ=function(n,e){let t=Aye(n),r=t.namespace;t.domain==="firebase.com"&&As(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&As("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||iCe();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new hC(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new Ge(t.pathString)}},Aye=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");u===-1&&(u=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(u,h)),u<h&&(i=uye(n.substring(u,h)));let A=hye(n.substring(Math.min(n.length,h)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let d=e.slice(0,l);if(d.toLowerCase()==="localhost")t="localhost";else if(d.split(".").length<=2)t=d;else{let C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),t=e.substring(C+1),s=r}"ns"in A&&(s=A.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var nD=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return me(this._path)?null:VJ(this._path)}get ref(){return new pu(this._repo,this._path)}get _queryIdentifier(){let e=sJ(this._queryParams),t=sD(e);return t==="{}"?"default":t}get _queryObject(){return sJ(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=HJ(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+OCe(this._path)}};var pu=class n extends nD{constructor(e,t){super(e,t,new LT,!1)}get parent(){let e=qJ(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};RIe(pu);kIe(pu);var dye="FIREBASE_DATABASE_EMULATOR_HOST",rD={},fye=!1;function gye(n,e,t,r){n.repoInfo_=new hC(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function pye(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||As("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=CJ(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[dye]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=CJ(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new pd(pd.OWNER):new BT(n.name,n.options,e);KIe("Invalid Firebase Database URL",o),me(o.path)||As("Database URL must point to the root of a Firebase Database (not including a child path).");let h=Eye(a,n,u,new yT(n.name,t));return new iD(h,n)}function mye(n,e){let t=rD[e];(!t||t[n.key]!==n)&&As(`Database ${e}(${n.repoInfo_}) has already been deleted.`),oye(n),delete t[n.key]}function Eye(n,e,t,r){let i=rD[e.name];i||(i={},rD[e.name]=i);let s=i[n.toURLString()];return s&&As("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tD(n,fye,t,r),i[n.toURLString()]=s,s}var iD=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tye(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pu(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&As("Cannot call "+e+" on a deleted database.")}};function bz(n=Ln(),e){let t=Mn(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=Is("database");r&&Tz(t,...r)}return t}function Tz(n,e,t,r={}){n=Wt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&As("Cannot call useEmulator() after instance has already been initialized.");let i=n._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&As('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pd(pd.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Ha(r.mockUserToken,n.app.options.projectId);s=new pd(o)}gye(i,e,t,s)}function Cye(n){gCe(Fn),Vt(new yt("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return pye(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),de(qW,HW,n),de(qW,HW,"esm2017")}cD.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};cD.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};ECe(IJ.default.Client);Cye("node");var bd=class{constructor(e){return e}},Dz="database",ED=class{constructor(){return _r(Dz)}};var CD=new ot("angularfire2.database-instances");function Iye(n,e){let t=si(Dz,n,e);return t&&new bd(t)}function yye(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bd(r)}}var Bye={provide:ED,deps:[[new Ue,CD]]},wye={provide:bd,useFactory:Iye,deps:[[new Ue,CD],an]};function Rz(n,...e){return de("angularfire",xn.full,"rtdb"),mn([wye,Bye,{provide:CD,useFactory:yye(n),multi:!0,deps:[Pt,Rn,tr,On,[new Ue,Lr],[new Ue,er],...e]}])}var kz=En(bz,!0);var Qye=Bo(Mh(),1);var Lz="firebasestorage.googleapis.com",vye="storageBucket",_ye=2*60*1e3,Sye=10*60*1e3;var Oi=class n extends Yt{constructor(e,t,r=0){super(ID(e),`Firebase Storage: ${t} (${ID(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ID(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},fs=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(fs||{});function ID(n){return"storage/"+n}function bye(){let n="An unknown error occurred, please check the error payload for server response.";return new Oi(fs.UNKNOWN,n)}function Tye(){return new Oi(fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dye(){return new Oi(fs.CANCELED,"User canceled the upload/download.")}function Rye(n){return new Oi(fs.INVALID_URL,"Invalid URL '"+n+"'.")}function kye(n){return new Oi(fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Nz(n){return new Oi(fs.INVALID_ARGUMENT,n)}function xz(){return new Oi(fs.APP_DELETED,"The Firebase app was deleted.")}function Nye(n){return new Oi(fs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ds=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw kye(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(D){D.path_=decodeURIComponent(D.path)}let u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${u}/b/${i}/o${A}`,"i"),C={bucket:1,path:3},m=t===Lz?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",_=new RegExp(`^https?://${m}/${i}/${y}`,"i"),R=[{regex:a,indices:c,postModify:s},{regex:d,indices:C,postModify:l},{regex:_,indices:{bucket:1,path:2},postModify:l}];for(let D=0;D<R.length;D++){let N=R[D],x=N.regex.exec(e);if(x){let Q=x[N.indices.bucket],E=x[N.indices.path];E||(E=""),r=new n(Q,E),N.postModify(r);break}}if(r==null)throw Rye(e);return r}},yD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Mye(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...y){l||(l=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,n(d,c())},y)}function A(){s&&clearTimeout(s)}function d(y,..._){if(l){A();return}if(y){A(),u.call(null,y,..._);return}if(c()||o){A(),u.call(null,y,..._);return}r<64&&(r*=2);let R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,h(R)}let C=!1;function m(y){C||(C=!0,A(),!l&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}function Fye(n){n(!1)}function Lye(n){return n!==void 0}function Mz(n,e,t,r){if(r<e)throw Nz(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Nz(`Invalid value for '${n}'. Expected ${t} or less.`)}function xye(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var BD=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(BD||{});function Oye(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var wD=class{constructor(e,t,r,i,s,o,a,c,l,u,h,A=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,C)=>{this.resolve_=d,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Cu(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===BD.NO_ERROR,c=s.getStatus();if(!a||Oye(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===BD.ABORT;r(!1,new Cu(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Cu(l,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Lye(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=bye();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?xz():Dye();o(c)}else{let c=Tye();o(c)}};this.canceled_?t(!1,new Cu(!1,null,!0)):this.backoffId_=Mye(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Cu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Uye(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Pye(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Vye(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Gye(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qye(n,e,t,r,i,s,o=!0){let a=xye(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return Vye(l,e),Uye(l,t),Pye(l,s),Gye(l,r),new wD(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function Hye(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Yye(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var wke=256*1024;var QD=class n{constructor(e,t){this._service=e,t instanceof ds?this._location=t:this._location=ds.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yye(this._location.path)}get storage(){return this._service}get parent(){let e=Hye(this._location.path);if(e===null)return null;let t=new ds(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Nye(e)}};function Fz(n,e){let t=e?.[vye];return t==null?null:ds.makeFromBucketSpec(t,n)}function Wye(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Ha(i,n.app.options.projectId))}var vD=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Lz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_ye,this._maxUploadRetryTime=Sye,this._requests=new Set,i!=null?this._bucket=ds.makeFromBucketSpec(i,this._host):this._bucket=Fz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ds.makeFromBucketSpec(this._url,e):this._bucket=Fz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mz("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mz("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new QD(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new yD(xz());{let o=qye(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return I(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},Jye="@firebase/storage",zye="0.13.2";var Oz="storage";function Uz(n=Ln(),e){n=Wt(n);let r=Mn(n,Oz).getImmediate({identifier:e}),i=Is("storage");return i&&Pz(r,...i),r}function Pz(n,e,t,r={}){Wye(n,e,t,r)}function Kye(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new vD(t,r,i,e,Fn)}function jye(){Vt(new yt(Oz,Kye,"PUBLIC").setMultipleInstances(!0)),de(Jye,zye)}jye();var Td=class{constructor(e){return e}},Vz="storage",_D=class{constructor(){return _r(Vz)}};var SD=new ot("angularfire2.storage-instances");function $ye(n,e){let t=si(Vz,n,e);return t&&new Td(t)}function Xye(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Td(r)}}var Zye={provide:_D,deps:[[new Ue,SD]]},eBe={provide:Td,useFactory:$ye,deps:[[new Ue,SD],an]};function Gz(n,...e){return de("angularfire",xn.full,"gcs"),mn([eBe,Zye,{provide:SD,useFactory:Xye(n),multi:!0,deps:[Pt,Rn,tr,On,[new Ue,Lr],[new Ue,er],...e]}])}var qz=En(Uz,!0);var Wz=Bo(Mh(),1);var Jz="functions";var bD=class{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return I(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return I(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return I(this,null,function*(){if(this.appCheck){let t=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return t.error?null:t.token}return null})}getContext(e){return I(this,null,function*(){let t=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}})}};var TD="us-central1";var DD=class{constructor(e,t,r,i,s=TD,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new bD(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=TD}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}};function tBe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}var Hz="@firebase/functions",Yz="0.11.8";var nBe="auth-internal",rBe="app-check-internal",iBe="messaging-internal";function sBe(n,e){let t=(r,{instanceIdentifier:i})=>{let s=r.getProvider("app").getImmediate(),o=r.getProvider(nBe),a=r.getProvider(iBe),c=r.getProvider(rBe);return new DD(s,o,a,c,i,n)};Vt(new yt(Jz,t,"PUBLIC").setMultipleInstances(!0)),de(Hz,Yz,e),de(Hz,Yz,"esm2017")}function zz(n=Ln(),e=TD){let r=Mn(Wt(n),Jz).getImmediate({identifier:e}),i=Is("functions");return i&&Kz(r,...i),r}function Kz(n,e,t){tBe(Wt(n),e,t)}sBe(Wz.fetch,"node");var Dd=class{constructor(e){return e}},jz="functions",RD=class{constructor(){return _r(jz)}};var kD=new ot("angularfire2.functions-instances");function oBe(n,e){let t=si(jz,n,e);return t&&new Dd(t)}function aBe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Dd(r)}}var cBe={provide:RD,deps:[[new Ue,kD]]},lBe={provide:Dd,useFactory:oBe,deps:[[new Ue,kD],an]};function $z(n,...e){return de("angularfire",xn.full,"fn"),mn([lBe,cBe,{provide:kD,useFactory:aBe(n),multi:!0,deps:[Pt,Rn,tr,On,[new Ue,Lr],[new Ue,er],...e]}])}var Xz=En(zz,!0);var ND=class{constructor(e,t){this._delegate=e,this.firebase=t,za(e,new yt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Nu(this._delegate)))}_getService(e,t=ii){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=ii){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){za(this._delegate,e)}_addOrOverwriteComponent(e){yI(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var uBe={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Zz=new $n("app-compat","Firebase",uBe);function hBe(n){let e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:de,setLogLevel:$d,onLog:jd,apps:null,SDK_VERSION:Fn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:BI}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||ii,!Nn(e,l))throw Zz.create("no-app",{appName:l});return e[l]}i.App=n;function s(l,u={}){let h=Ka(l,u);if(Nn(e,h.name))return e[h.name];let A=new n(h,t);return e[h.name]=A,A}function o(){return Object.keys(e).map(l=>e[l])}function a(l){let u=l.name,h=u.replace("-compat","");if(Vt(l)&&l.type==="PUBLIC"){let A=(d=i())=>{if(typeof d[h]!="function")throw Zz.create("invalid-app-argument",{appName:u});return d[h]()};l.serviceProps!==void 0&&qa(A,l.serviceProps),t[h]=A,n.prototype[h]=function(...d){return this._getService.bind(this,u).apply(this,l.multipleInstances?d:[])}}return l.type==="PUBLIC"?t[h]:null}function c(l,u){return u==="serverAuth"?null:u}return t}function t4(){let n=hBe(ND);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t4,extendNamespace:e,createSubscribe:Yd,ErrorFactory:$n,deepExtend:qa});function e(t){qa(n,t)}return n}var ABe=t4();var e4=new Xn("@firebase/app-compat"),dBe="@firebase/app-compat",fBe="0.2.43";function gBe(n){de(dBe,fBe,n)}try{let n=nI();if(n.firebase!==void 0){e4.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&e4.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var _C=ABe;gBe();var pBe="firebase",mBe="10.14.1";_C.registerVersion(pBe,mBe,"app-compat");var n4=new ot("angularfire2.app.options");var SNe=typeof module<"u"&&!!module.hot;globalThis.\u0275AngularfireInstanceCache||=[];var r4={providers:[eR({eventCoalescing:!0}),gR(iY),sR(oR()),lR(),sY(),Ld(),hR(),JR(()=>zR(_b.firebaseConfig)),JU(()=>zU()),TH(()=>kH()),Rz(()=>kz()),Gz(()=>qz()),$z(()=>Xz()),{provide:n4,useValue:_b.firebaseConfig}]};var EBe={providers:[AR(),Ld()]},i4=rR(r4,EBe);var CBe=()=>cR(Ud,i4),tMe=CBe;export{xi as a,tMe as b};
